"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[284],{87535:function(e,n,t){t.d(n,{CY:function(){return w},N9:function(){return N}});var r,i=t(99500),o=t(19065),s=t(73701),a=t(3159),l=t(325),d=t(27601),c=t(12436),u=t(78093),p=t(13253),h=t(77171),x=t(82348),m=t(4735),f=t(50741),j=t(76336),g=t(27218),y=t(2112),v=t(57872),S=t(96294),b=t(32289),w=function(){(0,u.Px)();var e=(0,d.UO)(),n=(0,S.p3)(e[0]),t=n.pipelineName,r=n.snapshotId,i=(0,d.k6)();return(0,x.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,b.jsx)(N,{explorerPath:n,onChangeExplorerPath:function(e,n){i[n]("/snapshots/".concat((0,S.gY)(e)))},onNavigateToSourceAssetNode:function(e){var n=e.assetKey;i.push((0,h.p)(n))}})},N=function(e){var n,t=e.explorerPath,r=e.repoAddress,i=e.onChangeExplorerPath,a=e.onNavigateToSourceAssetNode,d=e.isGraph,c=void 0!==d&&d,u=l.useState({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),h=(0,o.Z)(u,2),x=h[0],m=h[1],S=t.opNames.slice(0,t.opNames.length-1),w=(0,j._T)(r||null,t.pipelineName),N=(0,s.a)(P,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:w,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:S.join("."),requestScopeHandleID:x.explodeComposites?void 0:S.join(".")}});return(0,b.jsx)(f.g,{queryResult:N,children:function(e){var n=e.pipelineSnapshotOrError;if("PipelineSnapshot"!==n.__typename)return(0,b.jsx)(v.Q,{isGraph:c,result:n,repoAddress:r});var o=n.solidHandle,s=x.explodeComposites?(0,g.i)(n.solidHandles):n.solidHandles,l=n.solidHandles.some((function(e){return e.solid.definition.assetNodes.length>0}));return x.preferAssetRendering&&l?(0,b.jsx)(p.OK,{options:x,setOptions:m,fetchOptions:{pipelineSelector:w},explorerPath:t,onChangeExplorerPath:i,onNavigateToSourceAssetNode:a}):(0,b.jsx)(y.m0,{options:x,setOptions:m,explorerPath:t,onChangeExplorerPath:i,container:n,repoAddress:r,handles:s,parentHandle:o||void 0,isGraph:c,getInvocations:function(e){return s.filter((function(n){return n.solid.definition.name===e})).map((function(e){return{handleID:e.handleID}}))}})}})},P=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        ...GraphExplorerFragment\n\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),m.it,y.Sm,y.Q,y.bg,c.Bq)},33247:function(e,n,t){t.d(n,{G:function(){return O}});var r,i=t(99500),o=t(95764),s=t(59019),a=t(19065),l=t(3159),d=t(57615),c=t(30804),u=t(32030),p=t(89646),h=t(54268),x=t(47387),m=t(325),f=t(27601),j=t(12436),g=t(19102),y=t(78093),v=t(22797),S=t(28064),b=t(55752),w=t(45302),N=t(77892),P=t(50741),C=t(62278),k=t(76336),E=t(33902),R=t(96294),A=t(23196),I=t(32289),_=["status","tag"],O=function(e){(0,y.Px)();var n=(0,f.UO)().pipelinePath,t=e.repoAddress,r=void 0===t?null:t,i=(0,R.p3)(n),l=i.pipelineName,j=i.snapshotId,O=(0,k.Ux)(r),T=(0,k.E8)(O,l);(0,A.b)(i,T);var $=(0,w.oD)(_),Z=(0,a.Z)($,2),z=Z[0],U=Z[1],D=m.useMemo((function(){return[T?{token:"job",value:l}:{token:"pipeline",value:l},j?{token:"snapshotId",value:j}:null].filter(Boolean)}),[T,l,j]),q=[].concat((0,s.Z)(z),(0,s.Z)(D));if(r){var L={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,E.Wg)(r))};q.push(L)}var G=(0,N.l)({query:F,pageSize:25,variables:{filter:(0,o.Z)((0,o.Z)({},(0,w.VH)(q)),{},{pipelineName:l,snapshotId:j})},nextCursorForResult:function(e){var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.runId},getResultArray:function(e){return e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}}),H=G.queryResult,K=G.paginationProps,J=m.useCallback((function(e){var n=(0,d.HY)(e);z.some((function(e){return(0,d.HY)(e)===n}))||U([].concat((0,s.Z)(z),[e]))}),[z,U]),B=(0,g.C4)(H,g.dT);return(0,I.jsx)(b.Lw.Provider,{value:{refetch:H.refetch},children:(0,I.jsx)(c.T,{children:(0,I.jsx)(P.g,{queryResult:H,allowStaleData:!0,children:function(e){var n=e.pipelineRunsOrError;if("Runs"!==n.__typename)return(0,I.jsx)(u.x,{padding:{vertical:64},children:(0,I.jsx)(p.t,{icon:"error",title:"Query Error",description:n.message})});var t=n.results.slice(0,25),r=K.hasNextCursor,i=K.hasPrevCursor;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(u.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,I.jsx)(u.x,{flex:{direction:"row",gap:8},children:D.map((function(e){var n=e.token,t=e.value;return(0,I.jsx)(h.V,{children:"".concat(n,":").concat(t)},n)}))}),(0,I.jsx)(g.xi,{refreshState:B})]}),(0,I.jsx)(C.Y,{$top:0,children:(0,I.jsx)(v.A,{runs:t,onAddTag:J,actionBarComponents:(0,I.jsx)(w.nr,{enabledFilters:_,tokens:z,onChange:U,loading:H.loading})})}),r||i?(0,I.jsx)("div",{style:{marginTop:"20px"},children:(0,I.jsx)(x.pI,(0,o.Z)({},K))}):null]})}})})})},F=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),v.Z,j.Bq)},81403:function(e,n,t){t.d(n,{GA:function(){return p},dM:function(){return h},tj:function(){return x}});var r,i,o,s=t(99500),a=t(3159),l=t(12436),d=t(78042),c=t(45352),u=t(2097),p=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment ScheduleFragment on Schedule {\n    id\n    name\n    cronSchedule\n    executionTimezone\n    pipelineName\n    solidSelection\n    mode\n    description\n    partitionSet {\n      id\n      name\n    }\n    scheduleState {\n      id\n      ...InstigationStateFragment\n    }\n    futureTicks(limit: 5) {\n      results {\n        timestamp\n      }\n    }\n  }\n  ","\n"])),c.ai),h=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment RepositorySchedulesFragment on Repository {\n    name\n    id\n    location {\n      id\n      name\n    }\n    schedules {\n      id\n      ...ScheduleFragment\n    }\n    ...RepositoryInfoFragment\n  }\n  ","\n  ","\n"])),u.x,p),x=(0,a.Ps)(o||(o=(0,s.Z)(["\n  query SchedulesRootQuery(\n    $repositorySelector: RepositorySelector!\n    $instigationType: InstigationType!\n  ) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ... on Repository {\n        id\n        ...RepositorySchedulesFragment\n      }\n      ...PythonErrorFragment\n    }\n    unloadableInstigationStatesOrError(instigationType: $instigationType) {\n      ... on InstigationStates {\n        results {\n          id\n          ...InstigationStateFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      ...InstanceHealthFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),l.Bq,h,c.ai,d.O)},24375:function(e,n,t){t.d(n,{n:function(){return q}});var r,i=t(99500),o=t(19065),s=t(95764),a=t(59019),l=t(922),d=t(65880),c=t(3159),u=t(32030),p=t(89646),h=t(75453),x=t(24971),m=t(55113),f=t(34595),j=t(762),g=t(8412),y=t(12745),v=t(7838),S=t(24818),b=t(8358),w=t(60652),N=t(6466),P=t(41332),C=t.n(P),k=t(325),E=t(74549),R=t(13065),A=t(12436),I=t(9429),_=t(62e3),O=t(80342),F=t(5484),T=t(90933),$=t(76336),Z=t(26306),z=t(25582),U=t(68156),D=t(32289),q=k.memo((function(e){var n=e.repos,t=[],r=!1,i=!1,o=(0,$.vl)().options;return n.forEach((function(e){var n=e.schedules;i=i||n.length>0;var o={name:e.name,location:e.location.name},s=n.filter((function(e){return e.futureTicks.results.length&&e.scheduleState.status===F.yn.RUNNING})),l=Math.min.apply(Math,(0,a.Z)(s.map((function(e){return e.futureTicks.results[e.futureTicks.results.length-1].timestamp}))));s.forEach((function(e){e.futureTicks.results.forEach((function(n){n.timestamp<=l&&t.push({schedule:e,timestamp:n.timestamp,repoAddress:o})}))})),r||(r=n.some((function(e){return!!e.mode})))})),t.sort((function(e,n){return e.timestamp-n.timestamp})),t.length?(0,D.jsxs)(m.i,{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{style:{width:"260px"},children:"Timestamp"}),(0,D.jsx)("th",{style:{width:"30%"},children:"Schedule"}),(0,D.jsx)("th",{children:r?"Job / Pipeline":"Job"}),(0,D.jsx)("th",{children:"Metadata"})]})}),(0,D.jsx)("tbody",{children:t.map((function(e){var n=e.schedule,t=e.timestamp,r=e.repoAddress,i=(0,$.qz)(o,r);return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,D.jsx)(U.v,{timestamp:t,timezone:n.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})}),(0,D.jsx)("td",{children:(0,D.jsx)(E.rU,{to:(0,z.$U)(r,"/schedules/".concat(n.name)),children:n.name})}),(0,D.jsx)("td",{children:(0,D.jsx)(_.h,{pipelineName:n.pipelineName,pipelineHrefContext:r,isJob:!!i&&(0,$.E8)(i,n.pipelineName)})}),(0,D.jsx)("td",{children:(0,D.jsx)(L,{repoAddress:r,schedule:n,tickTimestamp:t})})]},"".concat(n.id,":").concat(t))}))})]}):(0,D.jsx)(u.x,{padding:{vertical:32},children:(0,D.jsx)(p.t,{icon:"error",title:"No scheduled ticks",description:i?(0,D.jsxs)(D.Fragment,{children:["There are no running schedules."," ",(0,D.jsx)(E.rU,{to:"/overview/schedules",children:"Start a schedule"})," to see scheduled ticks."]}):(0,D.jsx)(D.Fragment,{children:"There are no schedules in this workspace. Create a running schedule to view its scheduled ticks."}),action:i?null:(0,D.jsx)(h.fr,{icon:(0,D.jsx)(x.JO,{name:"open_in_new"}),href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/schedules",children:"View documentation"})})})})),L=k.memo((function(e){var n,t=e.repoAddress,r=e.schedule,i=e.tickTimestamp,a=(0,s.Z)((0,s.Z)({},(0,Z.$)(t)),{},{scheduleName:r.name}),l=k.useState(!1),c=(0,o.Z)(l,2),u=c[0],p=c[1],m=(0,d.t)(K,{variables:{scheduleSelector:a,tickTimestamp:i}}),y=(0,o.Z)(m,2),v=y[0],S=y[1],b=S.called,w=S.loading,N=S.data,P=!!b&&!w,C="Schedule"===(null===N||void 0===N||null===(n=N.scheduleOrError)||void 0===n?void 0:n.__typename)?N.scheduleOrError.futureTick.evaluationResult:null,E=P?(0,D.jsx)(G,{repoAddress:t,schedule:r,loading:w,onItemOpen:p,evaluationResult:C}):(0,D.jsx)(f.$,{purpose:"body-text"});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.J,{content:(0,D.jsx)(g.v2,{children:E}),position:"bottom-right",onOpening:function(){b||v()},children:(0,D.jsx)(h.zx,{icon:(0,D.jsx)(x.JO,{name:"expand_more"})})}),(0,D.jsx)(H,{repoAddress:t,isOpen:u,setOpen:p,schedule:r,tickTimestamp:i,evaluationResult:C})]})})),G=function(e){var n=e.repoAddress,t=e.schedule,r=e.evaluationResult,i=e.loading,o=e.onItemOpen;if(!r)return(0,D.jsx)(g.sN,{text:"Could not preview tick for this schedule"});if(r.skipReason)return(0,D.jsx)(g.sN,{text:"View skip reason...",onClick:function(){return o(!0)}});if(r.error)return(0,D.jsx)(g.sN,{text:"View error...",onClick:function(){return o(!0)}});if(!r.runRequests||!r.runRequests.length)return(0,D.jsx)(g.sN,{text:"No runs requested for this projected schedule tick"});if(1===r.runRequests.length){var s=r.runRequests[0],a=s?s.runConfigYaml:"";return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(g.sN,{text:i?"Loading Configuration...":"View Configuration...",icon:"open_in_new",onClick:function(){return o(!0)}}),(0,D.jsx)(T.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,z.$U)(n,"/pipeline_or_job/".concat(t.pipelineName,"/playground/setup?").concat(C().stringify({mode:t.mode,config:a,solidSelection:t.solidSelection})))})]})}return(0,D.jsx)(g.sN,{text:"View ".concat(r.runRequests.length," run requests..."),icon:"edit",target:"_blank",onClick:function(){return o(!0)}})},H=function(e){var n=e.repoAddress,t=e.evaluationResult,r=e.schedule,i=e.tickTimestamp,s=e.setOpen,a=e.isOpen,l=k.useState(t&&t.runRequests&&1===t.runRequests.length?t.runRequests[0]:null),d=(0,o.Z)(l,2),c=d[0],p=d[1],f=(0,I.m)(),P=(0,$.Ux)(n),E=(0,$.E8)(P,r.pipelineName);k.useEffect((function(){t&&t.runRequests&&1===t.runRequests.length&&p(t.runRequests[0])}),[t]);var _,F=function(){p(null),s(!1)};return t?c?_=(0,D.jsxs)(u.x,{flex:{direction:"column",gap:20},children:[(0,D.jsxs)(u.x,{flex:{direction:"column",gap:12},padding:{top:16,horizontal:24},children:[(0,D.jsx)(y.pm,{children:"Tags"}),c.tags.length?(0,D.jsx)(O.Qq,{tags:c.tags,mode:E?null:r.mode}):null]}),(0,D.jsxs)("div",{children:[(0,D.jsx)(u.x,{border:{side:"bottom",width:1,color:v.w.KeylineGray},padding:{left:24,bottom:16},children:(0,D.jsx)(y.pm,{children:"Config"})}),(0,D.jsx)(S.NU,{value:c.runConfigYaml,options:{lineNumbers:!0,mode:"yaml"}})]})]}):t.error?_=(0,D.jsx)(b.a7,{children:(0,D.jsx)(A.T9,{error:t.error})}):t.skipReason?_=(0,D.jsx)(b.a7,{children:(0,D.jsx)(B,{children:t.skipReason})}):t.runRequests&&(_=(0,D.jsx)(b.a7,{children:(0,D.jsx)(J,{children:(0,D.jsxs)(m.i,{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Run key"}),(0,D.jsx)("th",{children:"Config"}),(0,D.jsx)("th",{children:"Actions"})]})}),(0,D.jsx)("tbody",{children:t.runRequests.map((function(e,t){return e?(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:e.runKey||(0,D.jsx)("span",{children:"\u2014"})}),(0,D.jsx)("td",{children:(0,D.jsx)(w.Z,{onClick:function(){return p(e)},underline:!1,children:(0,D.jsxs)(N.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,D.jsx)(x.JO,{name:"open_in_new",color:v.w.Gray400}),(0,D.jsx)("span",{children:"View config"})]})})}),(0,D.jsx)("td",{children:(0,D.jsx)(j.J,{content:(0,D.jsx)(g.v2,{children:(0,D.jsx)(T.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,z.$U)(n,"/".concat(E?"jobs":"pipelines","/").concat(r.pipelineName,"/playground/setup?").concat(C().stringify({mode:r.mode,config:e.runConfigYaml,solidSelection:r.solidSelection})))})}),position:"bottom",children:(0,D.jsx)(h.zx,{icon:(0,D.jsx)(x.JO,{name:"expand_more"})})})})]},t):null}))})]})})})):_=null,(0,D.jsxs)(b.Vq,{onClose:function(){return F()},style:{width:"50vw"},title:(0,D.jsxs)(u.x,{flex:{direction:"row",gap:4},children:[(0,D.jsx)(U.v,{timestamp:i,timezone:r.executionTimezone}),null!==c&&void 0!==c&&c.runKey?(0,D.jsxs)("div",{children:[": ",null===c||void 0===c?void 0:c.runKey]}):null]}),isOpen:a,children:[_,(0,D.jsxs)(b.cN,{topBorder:!0,children:[c?(0,D.jsx)(h.zx,{autoFocus:!1,onClick:function(){f(c.runConfigYaml),R.L.show({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},children:"Copy config"}):null,(0,D.jsx)(h.zx,{intent:"primary",autoFocus:!0,onClick:function(){return F()},children:"OK"})]})]})},K=(0,c.Ps)(r||(r=(0,i.Z)(["\n  query ScheduleTickConfigQuery($scheduleSelector: ScheduleSelector!, $tickTimestamp: Int!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        futureTick(tickTimestamp: $tickTimestamp) {\n          evaluationResult {\n            runRequests {\n              runKey\n              runConfigYaml\n              tags {\n                key\n                value\n              }\n            }\n            skipReason\n            error {\n              ...PythonErrorFragment\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),A.Bq),J=l.ZP.div.withConfig({displayName:"SchedulesNextTicks__RunRequestBody",componentId:"io9s6c-0"})(["font-size:13px;"]),B=l.ZP.div.withConfig({displayName:"SchedulesNextTicks__SkipWrapper",componentId:"io9s6c-1"})(["background-color:#fdfcf2;border:1px solid ",";border-radius:3px;"],v.w.Yellow500)},8038:function(e,n,t){t.r(n),t.d(n,{WorkspaceRoot:function(){return so},default:function(){return ao}});var r,i,o,s,a,l=t(32030),d=t(89646),c=t(87067),u=t(325),p=t(27601),h=t(30804),x=t(31112),m=t(12745),f=t(54268),j=t(31269),g=t(78093),y=t(13253),v=t(82348),S=t(30057),b=t(96294),w=t(37286),N=t(78072),P=t(25582),C=t(1223),k=t(91716),E=t(77171),R=t(32289),A=function(e){var n=e.repoAddress,t=e.tab;(0,g.Px)();var r=(0,p.UO)(),i=r.groupName,o=r[0],s=(0,p.k6)();(0,v.j)("Asset Group: ".concat(i));var a=(0,P.$U)(n,"/asset-groups/".concat(i)),d=u.useMemo((function(){return{groupName:i,repositoryLocationName:n.location,repositoryName:n.name}}),[i,n]),c=u.useCallback((function(e,n){s[n]("".concat(a,"/").concat((0,b.gY)(e)))}),[a,s]),A=u.useCallback((function(e){e.groupName&&e.repoAddress?s.replace((0,P.$U)(e.repoAddress,"/asset-groups/".concat(e.groupName,"/lineage/").concat(e.assetKey.path.map(encodeURIComponent).join("/")))):s.push((0,E.p)(e.assetKey,{view:"definition"}))}),[s]);return(0,R.jsxs)(h.T,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,R.jsx)(x.m,{title:(0,R.jsx)(m.X6,{children:i}),right:(0,R.jsx)("div",{style:{marginBottom:-8},children:(0,R.jsx)(N.i,{label:"Reload definitions"})}),tags:(0,R.jsxs)(f.V,{icon:"asset_group",children:["Asset Group in ",(0,R.jsx)(S.b,{repoAddress:n})]}),tabs:(0,R.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},margin:{right:4},children:[(0,R.jsxs)(j.mQ,{selectedTabId:t,children:[(0,R.jsx)(w.f,{id:"lineage",title:"Lineage",to:"".concat(a,"/lineage")}),(0,R.jsx)(w.f,{id:"list",title:"List",to:"".concat(a,"/list")})]}),(0,R.jsx)(C.w,{})]})}),"lineage"===t?(0,R.jsx)(y.OK,{fetchOptions:{groupSelector:d},options:{preferAssetRendering:!0,explodeComposites:!0},explorerPath:(0,b.p3)(o||"lineage/"),onChangeExplorerPath:c,onNavigateToSourceAssetNode:A}):(0,R.jsx)(k.f,{groupSelector:d,prefixPath:o.split("/").map(decodeURIComponent).filter(Boolean),setPrefixPath:function(e){return s.push("".concat(a,"/list/").concat(e.map(encodeURIComponent).join("/")))}})]})},I=t(25859),_=t(99500),O=t(19065),F=t(73701),T=t(3159),$=t(88796),Z=t(63579),z=t(12436),U=t(23196),D=t(76336),q=t(44969),L=t(6364),G=function(e){var n=e.repoAddress,t=(0,Z.TE)().canLaunchPipelineExecution,r=(0,p.UO)(),i=r.repoPath,o=r.pipelinePath,s=r.runId;return t.enabled?(0,R.jsx)(H,{pipelinePath:o,repoAddress:n,runId:s}):(0,R.jsx)(p.l_,{to:"/locations/".concat(i,"/pipeline_or_job/").concat(o)})},H=function(e){var n=e.pipelinePath,t=e.repoAddress,r=e.runId,i=(0,b.p3)(n),o=i.pipelineName,s=(0,D.Ux)(t),a=(0,D.E8)(s,o);(0,U.b)(i,a);var l=(0,$.aC)(t,o),d=(0,O.Z)(l,2),c=d[0],h=d[1],x=(0,F.a)(K,{variables:{runId:r}}),m=x.data,f=x.loading,j=null===m||void 0===m?void 0:m.runOrError,g="Run"===(null===j||void 0===j?void 0:j.__typename)?j:null;return u.useEffect((function(){if(g){var e=g.runConfigYaml,n=g.mode,t=g.solidSelection;if(e||n||t){var r={name:"From run ".concat(g.id.slice(0,8))};"string"===typeof e&&(r.runConfigYaml=e),"string"===typeof n&&(r.mode=n),t instanceof Array&&t.length>0?r.solidSelection=t:"string"===typeof t&&t&&(r.solidSelection=[t]),h((0,$.f0)(c,r))}}}),[g,c,h]),f?(0,R.jsx)(L.m,{}):j&&"RunNotFoundError"!==j.__typename?"PythonError"===j.__typename?(0,R.jsx)(q.U,{icon:"error",title:"Python error",description:j.message}):(0,R.jsx)(p.l_,{to:{pathname:(0,P.$U)(t,"/".concat(a?"jobs":"pipelines","/").concat(o,"/playground"))}}):(0,R.jsx)(q.U,{icon:"error",title:"No run found",description:"The run with this ID does not exist or has been cleaned up."})},K=(0,T.Ps)(r||(r=(0,_.Z)(["\n  query ConfigForRunQuery($runId: ID!) {\n    runOrError(runId: $runId) {\n      ... on Run {\n        id\n        mode\n        runConfigYaml\n        solidSelection\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),z.Bq),J=t(41332),B=t.n(J),W=function(e){var n=e.repoAddress,t=(0,Z.TE)().canLaunchPipelineExecution,r=(0,p.UO)(),i=r.repoPath,o=r.pipelinePath;return t.enabled?(0,R.jsx)(M,{pipelinePath:o,repoAddress:n}):(0,R.jsx)(p.l_,{to:"/locations/".concat(i,"/pipeline_or_job/").concat(o)})},M=function(e){var n=e.pipelinePath,t=e.repoAddress,r=(0,b.p3)(n),i=r.pipelineName,o=(0,D.Ux)(t),s=(0,D.E8)(o,i);(0,U.b)(r,s);var a=(0,$.aC)(t,i),l=(0,O.Z)(a,2),d=l[0],c=l[1],h=B().parse(window.location.search,{ignoreQueryPrefix:!0});return u.useEffect((function(){if(h.config||h.mode||h.solidSelection){var e={};"string"===typeof h.config&&(e.runConfigYaml=h.config),"string"===typeof h.mode&&(e.mode=h.mode),h.solidSelection instanceof Array&&h.solidSelection.length>0?e.solidSelection=h.solidSelection:"string"===typeof h.solidSelection&&h.solidSelection&&(e.solidSelection=[h.solidSelection]),"string"===typeof h.solidSelectionQuery&&(e.solidSelectionQuery=h.solidSelectionQuery),c((0,$.f0)(d,e))}})),(0,R.jsx)(p.l_,{to:{pathname:(0,P.$U)(t,"/".concat(s?"jobs":"pipelines","/").concat(i,"/playground"))}})},Q=t(95764),V=t(11831),Y=t(60652),X=t(7838),ee=t(8358),ne=t(55113),te=t(75453),re=t(58891),ie=t.n(re),oe=t(74549),se=t(39061),ae=t(28064),le=t(55752),de=t(9315),ce=t(86875),ue=t(33902),pe=t(57753),he=t(19102),xe=t(57876),me=t(59549),fe=t(68156),je=t(5484),ge={showSeconds:!0,showTimezone:!1},ye=function(e){var n=e.pipelineName,t=e.repoAddress,r=(0,F.a)(ve,{variables:{runsFilter:{pipelineName:n,tags:[{key:ae.H.RepositoryLabelTag,value:(0,ue.Wg)(t)}]}},notifyOnNetworkStatusChange:!0});(0,he.C4)(r,he.dT);var i=u.useMemo((function(){var e,n=null===(e=r.data)||void 0===e?void 0:e.pipelineRunsOrError;return n&&"Runs"===n.__typename&&n.results[0]||null}),[r]);if(!i)return null;var o={start:i.startTime,end:i.endTime,status:i.status};return(0,R.jsx)(f.V,{intent:function(){switch(i.status){case je.VO.SUCCESS:return"success";case je.VO.CANCELED:case je.VO.CANCELING:case je.VO.FAILURE:return"danger";default:return"none"}}(),children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,R.jsx)(me.K9,{status:i.status,size:10}),"Latest run:",o?(0,R.jsx)(V.u,{placement:"bottom",content:(0,R.jsx)(pe.k6,{children:(0,R.jsxs)("tbody",{children:[(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{style:{color:X.w.Gray300},children:(0,R.jsx)(l.x,{padding:{right:16},children:"Started"})}),(0,R.jsx)("td",{children:o.start?(0,R.jsx)(fe.v,{timestamp:o.start,timeFormat:ge}):(0,xe.Z0)(o.status)})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{style:{color:X.w.Gray300},children:"Ended"}),(0,R.jsx)("td",{children:o.end?(0,R.jsx)(fe.v,{timestamp:o.end,timeFormat:ge}):(0,xe.Z0)(o.status)})]})]})}),children:(0,R.jsx)(oe.rU,{to:"/runs/".concat(i.id),children:(0,R.jsx)(le.Zr,{run:i})})}):null]})})},ve=(0,T.Ps)(i||(i=(0,_.Z)(["\n  query LatestRunTagQuery($runsFilter: RunsFilter) {\n    pipelineRunsOrError(filter: $runsFilter, limit: 1) {\n      ... on PipelineRuns {\n        results {\n          id\n          status\n          ...RunTimeFragment\n        }\n      }\n    }\n  }\n  ","\n"])),le.$X),Se=t(86476);var be=function(e){var n=e.pipelineName,t=e.repoAddress,r=function(e,n){var t=(0,F.a)(Ee,{variables:{runsFilter:{pipelineName:n,tags:[{key:ae.H.RepositoryLabelTag,value:(0,ue.Wg)(e)}]},params:{pipelineName:n,repositoryName:e.name,repositoryLocationName:e.location}}}).data;return u.useMemo((function(){return{assetNodes:(null===t||void 0===t?void 0:t.assetNodes)||null,job:null!==t&&void 0!==t&&t.pipelineOrError&&"Pipeline"===t.pipelineOrError.__typename?t.pipelineOrError:null,runsForAssetScan:null!==t&&void 0!==t&&t.pipelineRunsOrError&&"Runs"===t.pipelineRunsOrError.__typename?t.pipelineRunsOrError.results:[]}}),[t])}(t,n);return(0,R.jsxs)(R.Fragment,{children:[r.job?(0,R.jsx)(we,{job:r.job,repoAddress:t}):null,(0,R.jsx)(ye,{pipelineName:n,repoAddress:t}),r.runsForAssetScan?(0,R.jsx)(Pe,{relatedAssets:Ne(r)}):null]})},we=function(e){var n=e.job,t=e.repoAddress,r=u.useMemo((function(){return"Pipeline"===(null===n||void 0===n?void 0:n.__typename)&&n.schedules.length?n.schedules:[]}),[n]),i=u.useMemo((function(){return"Pipeline"===(null===n||void 0===n?void 0:n.__typename)&&n.sensors.length?n.sensors:[]}),[n]);return(0,R.jsx)(Se.I,{schedules:r,sensors:i,repoAddress:t})};function Ne(e){return e.assetNodes?e.assetNodes.map((function(e){return(0,se.Je)(e.assetKey)})):ie()(e.runsForAssetScan.flatMap((function(e){return e.assets.map((function(e){return(0,se.Je)(e.key)}))})))}var Pe=function(e){var n=e.relatedAssets,t=u.useState(!1),r=(0,O.Z)(t,2),i=r[0],o=r[1];if(0===n.length)return null;if(1===n.length){var s=n[0];return(0,R.jsxs)(f.V,{icon:"asset",children:["Asset: ",(0,R.jsx)(oe.rU,{to:"/assets/".concat(s),children:s})]})}return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.V,{icon:"asset",children:(0,R.jsx)(Y.Z,{color:X.w.Link,onClick:function(){return o(!0)},children:"View ".concat(n.length," assets")})}),(0,R.jsxs)(ee.Vq,{title:"Related assets",canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:i,onClose:function(){return o(!1)},style:{maxWidth:"80%",minWidth:"500px",width:"auto"},children:[(0,R.jsx)(l.x,{padding:{bottom:12},children:(0,R.jsx)(ne.i,{children:(0,R.jsx)("tbody",{children:n.map((function(e){return(0,R.jsx)("tr",{children:(0,R.jsx)("td",{children:(0,R.jsx)(oe.rU,{to:"/assets/".concat(e),style:{wordBreak:"break-word"},children:e},e)})},e)}))})})}),(0,R.jsx)(ee.cN,{children:(0,R.jsx)(te.zx,{intent:"primary",onClick:function(){return o(!1)},children:"OK"})})]})]})},Ce=(0,T.Ps)(o||(o=(0,_.Z)(["\n  fragment RunMetadataFragment on PipelineRun {\n    id\n    status\n    assets {\n      id\n      key {\n        path\n      }\n    }\n    ...RunTimeFragment\n  }\n  ","\n"])),le.$X),ke=(0,T.Ps)(s||(s=(0,_.Z)(["\n  fragment JobMetadataFragment on Pipeline {\n    id\n    isJob\n    name\n    schedules {\n      id\n      mode\n      ...ScheduleSwitchFragment\n    }\n    sensors {\n      id\n      targets {\n        pipelineName\n        mode\n      }\n      ...SensorSwitchFragment\n    }\n  }\n  ","\n  ","\n"])),de.J,ce.U),Ee=(0,T.Ps)(a||(a=(0,_.Z)(["\n  query JobMetadataQuery($params: PipelineSelector!, $runsFilter: RunsFilter!) {\n    pipelineOrError(params: $params) {\n      ... on Pipeline {\n        id\n        ...JobMetadataFragment\n      }\n    }\n    assetNodes(pipeline: $params) {\n      id\n      assetKey {\n        path\n      }\n    }\n    pipelineRunsOrError(filter: $runsFilter, limit: 5) {\n      ... on PipelineRuns {\n        results {\n          id\n          ...RunMetadataFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),ke,Ce),Re={overview:{title:"Overview",pathComponent:""},playground:{title:"Launchpad",pathComponent:"playground",getPermissionsResult:function(e){return e.canLaunchPipelineExecution}},runs:{title:"Runs",pathComponent:"runs"},partitions:{title:"Partitions",pathComponent:"partitions"}},Ae=["overview","playground","runs","partitions"];var Ie,_e,Oe=function(e){var n=e.repoAddress,t=(0,Z.TE)(),r=(0,p.$B)(["/locations/:repoPath/pipelines/:selector/:tab?","/locations/:repoPath/jobs/:selector/:tab?","/locations/:repoPath/pipeline_or_job/:selector/:tab?"]),i=function(e){var n=Object.keys(Re),t=n.find((function(n){return Re[n].pathComponent===e}))||n.find((function(e){return""===Re[e].pathComponent}));return Re[t]}(r.params.tab),o=(0,b.p3)(r.params.selector),s=o.pipelineName,a=o.snapshotId,d=(0,D.Ux)(n),c=null===d||void 0===d?void 0:d.repository.pipelines.find((function(e){return e.name===s})),u=!(null===c||void 0===c||!c.isJob),h=!(null===c||void 0===c||!c.isAssetJob),g=(null===d||void 0===d?void 0:d.repository.partitionSets)||[],y=!h,v=g.some((function(e){return e.pipelineName===s})),N=Ae.filter((function(e){return(y||"playground"!==e)&&(v||"partitions"!==e)})).map(function(e,n,t){var r=(0,b.gY)((0,Q.Z)((0,Q.Z)({},t),{},{opNames:[]}));return function(t){var i=Re[t];return{text:i.title,href:(0,P.$U)(e,"/".concat(n?"jobs":"pipelines","/").concat(r).concat(i.pathComponent)),getPermissionsResult:i.getPermissionsResult}}}(n,u,o));return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(x.m,{title:(0,R.jsx)(m.X6,{children:s}),tags:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:8,wrap:"wrap"},children:[(0,R.jsxs)(f.V,{icon:"job",children:[u?"Job in ":"Pipeline in ",(0,R.jsx)(S.b,{repoAddress:n})]}),a?null:(0,R.jsx)(be,{pipelineName:s,repoAddress:n})]}),tabs:(0,R.jsx)(j.mQ,{size:"large",selectedTabId:i.title,children:N.map((function(e){var n=e.href,r=e.text,i=e.getPermissionsResult,o=null;i&&(o=i(t));var s=!(!o||o.enabled),a=o&&s?(0,R.jsx)(V.u,{content:o.disabledReason,placement:"top",children:r}):r;return(0,R.jsx)(w.f,{id:r,title:a,disabled:s,to:n},r)}))})})})},Fe=t(32369),Te=t(50741),$e=t(18819),Ze=t(60445),ze=t(36613),Ue=t(47619),De=t(88291),qe=t(26306),Le=t(59019),Ge=t(47387),He=t(2789),Ke=function(e){var n=e.partitionSetName,t=e.partitionNames,r=e.repositorySelector,i=e.refetchCounter,o=u.useState((function(){return[]})),s=(0,O.Z)(o,2),a=s[0],c=s[1],p=u.useState(),h=(0,O.Z)(p,2),x=h[0],m=h[1],f=(0,F.a)(Je,{variables:{partitionSetName:n,repositorySelector:r,cursor:x,limit:10},partialRefetch:!0}),j=f.refetch;return u.useEffect((function(){i&&j()}),[j,i]),(0,R.jsx)(Te.g,{queryResult:f,children:function(e){var n=e.partitionSetOrError,r=n.backfills,i=n.pipelineName;if(!r.length)return(0,R.jsx)(l.x,{margin:{vertical:20},children:(0,R.jsx)(d.t,{title:"No backfills for ".concat(i),icon:"no-results"})});var o={hasPrevCursor:!!x,hasNextCursor:r&&10===r.length,popCursor:function(){var e=(0,Le.Z)(a);m(e.pop()),c(e)},advanceCursor:function(){x&&c((function(e){return[].concat((0,Le.Z)(e),[x])}));var e=r&&r[r.length-1].backfillId;e&&m(e)},reset:function(){c([]),m(void 0)}};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(He.G,{backfills:r,refetch:j,showBackfillTarget:!1,allPartitions:t}),(0,R.jsx)(Ge.b$,(0,Q.Z)({},o))]})}})},Je=(0,T.Ps)(Ie||(Ie=(0,_.Z)(["\n  query JobBackfillsQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n    $cursor: String\n    $limit: Int\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        pipelineName\n        backfills(cursor: $cursor, limit: $limit) {\n          ...BackfillTableFragment\n        }\n      }\n    }\n  }\n  ","\n"])),He.b),Be=t(24971),We=t(85358),Me=t(95550),Qe=t.n(Me),Ve=t(49148),Ye=t(34595),Xe=t(50346),en=t(6466),nn=t(60736),tn=t(14156),rn=t(13065),on=t(25496),sn=t(47072),an=t(39151),ln=t(22013),dn=t(36523),cn=t(33547),un=t(27218),pn=t(2112),hn=t(65164),xn=t(24298),mn=t(95968),fn=t(54920),jn="DefaultRunLauncher",gn=function(e){var n,t=e.partitionSetName,r=e.onLaunch,i=e.onCancel,o=e.onSubmit,s=e.repoAddress,a=e.partitionData,c=e.pipelineName,h=e.partitionNames,x=(0,p.k6)(),f=u.useState(Object.keys(a).filter((function(e){return!a[e]||a[e]===fn.AB.FAILURE}))),j=(0,O.Z)(f,2),g=j[0],y=j[1],v=u.useState([fn.AB.MISSING,fn.AB.FAILURE]),S=(0,O.Z)(v,2),b=S[0],w=S[1],N=u.useMemo((function(){return g.filter((function(e){return b.includes(a[e])}))}),[g,b,a]),P=u.useState(!1),C=(0,O.Z)(P,2),k=C[0],E=C[1],A=u.useState([]),I=(0,O.Z)(A,2),_=I[0],T=I[1],$=u.useState(""),Z=(0,O.Z)($,2),z=Z[0],U=Z[1],D=u.useState({reexecute:!1,fromFailure:!1}),q=(0,O.Z)(D,2),L=q[0],G=q[1],H=(0,qe.$)(s),K=(0,F.a)(vn,{variables:{pipelineSelector:(0,Q.Z)((0,Q.Z)({},H),{},{pipelineName:c})},fetchPolicy:"network-only"}).data,J=u.useRef(!0);u.useEffect((function(){return J.current=!0,function(){J.current=!1}}),[r]);if(!K)return(0,R.jsx)(l.x,{margin:{vertical:32},flex:{justifyContent:"center"},children:(0,R.jsx)(Ye.$,{purpose:"section"})});if("PipelineSnapshot"!==K.pipelineSnapshotOrError.__typename)return(0,R.jsx)(l.x,{margin:20,children:(0,R.jsx)(d.t,{icon:"error",title:"Could not fetch job details"})});var B=K.pipelineSnapshotOrError,W=K.instance,M=(0,un.i)(B.solidHandles).map((function(e){return e.solid})),Y=(0,on.V)(M,z),ne=(0,an.tc)({nodes:Y.all,mode:sn.hS.FLAT}).boxes.map((function(e){return{x:e.x,name:e.node.name}})),re=(null===(n=W.runLauncher)||void 0===n?void 0:n.name)===jn,ie=function(e){return a[e]===fn.AB.FAILURE},oe=h.filter(ie);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ee.a7,{children:(0,R.jsxs)(l.x,{flex:{direction:"column",gap:32},children:[(0,R.jsxs)(Pn,{title:"Partitions",children:[(0,R.jsx)(l.x,{children:"Select partitions to materialize. Click and drag to select a range on the timeline."}),(0,R.jsx)(xn.n,{selected:g,setSelected:function(e){var n=new Set(e);y(h.filter((function(e){return n.has(e)}))),L.fromFailure&&e.filter((function(e){return!ie(e)})).length>0&&G((0,Q.Z)((0,Q.Z)({},L),{},{fromFailure:!1}))},partitionStateForKey:function(e){return a[e]},partitionKeys:h}),(0,R.jsx)(mn.f,{value:b,partitionKeysForCounts:g.map((function(e){return{partitionKey:e,state:a[e]}})),allowed:L.fromFailure?[fn.AB.FAILURE]:[fn.AB.MISSING,fn.AB.FAILURE,fn.AB.QUEUED,fn.AB.STARTED,fn.AB.SUCCESS],onChange:w})]}),oe.length?(0,R.jsx)(Pn,{title:"Reexecution",children:(0,R.jsx)(Xe.X,{checked:L.fromFailure,disabled:!N.every(ie),onChange:function(){var e=(0,Q.Z)((0,Q.Z)({},L),{},{fromFailure:!L.fromFailure,reexecute:!L.reexecute});e.fromFailure&&w([fn.AB.FAILURE]),U(""),G(e)},label:(0,R.jsxs)(l.x,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,R.jsx)(l.x,{margin:{right:4},children:"Re-execute from failures"}),(0,R.jsx)(V.u,{placement:"top",content:"For each partition, if the most recent run failed, launch a re-execution starting from the steps that failed. Only applies for selections of failed partitions.",children:(0,R.jsx)(Be.JO,{name:"info",color:X.w.Gray500})})]})})}):null,(0,R.jsx)(Pn,{title:(0,R.jsxs)(l.x,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,R.jsx)(l.x,{margin:{right:4},children:"Step subset"}),(0,R.jsx)(V.u,{placement:"top",content:"Applies a step-selection to each run for the requested partitions.",children:(0,R.jsx)(Be.JO,{name:"info",color:X.w.Gray500})})]}),children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,R.jsx)(hn.j,{disabled:L.fromFailure,width:520,items:M,value:z,placeholder:"Type a step subset",onChange:U,autoApplyChanges:!0}),z?(0,R.jsxs)("div",{style:{color:X.w.Gray500},children:[ne.length," step",1===ne.length?"":"s"," selected"]}):null]})}),(0,R.jsxs)(Pn,{title:"Tags",children:[(0,R.jsx)(cn.U,{tagsFromSession:_,onChange:T,open:k,onRequestClose:function(){return E(!1)}}),_.length?(0,R.jsx)("div",{style:{border:"1px solid ".concat(X.w.Gray300),borderRadius:8,padding:3},children:(0,R.jsx)(cn.x,{tagsFromSession:_,onRequestEdit:function(){return E(!0)}})}):(0,R.jsx)("div",{children:(0,R.jsx)(te.zx,{onClick:function(){return E(!0)},children:"Add tags to backfill runs"})})]}),W.daemonHealth.daemonStatus.healthy?null:(0,R.jsx)(wn,{}),re&&!W.runQueuingSupported?(0,R.jsx)(Nn,{}):null]})}),(0,R.jsxs)(ee.cN,{children:[(0,R.jsx)(te.zx,{intent:"none",onClick:i,children:"Cancel"}),(0,R.jsx)(yn,{partitionNames:N,partitionSetName:t,reexecutionSteps:!L.fromFailure&&Y.all.length<M.length?ne.map((function(e){return e.name})):void 0,fromFailure:L.fromFailure,tags:_,onSubmit:o,onSuccess:function(e){!function(e,n){rn.L.show({intent:"success",message:(0,R.jsxs)("div",{children:["Created backfill ",(0,R.jsx)(m.fv,{children:n})]}),action:{text:"View",onClick:function(){return e.push("/overview/backfills")}}})}(x,e),null===r||void 0===r||r(e,z)},onError:function(e){!function(e){rn.L.show({message:Sn(e),icon:"error",intent:"danger"})}(e)},repoAddress:s})]})]})},yn=function(e){var n=e.partitionSetName,t=e.partitionNames,r=e.reexecutionSteps,i=e.fromFailure,o=e.tags,s=e.onSuccess,a=e.onError,l=e.onSubmit,d=e.repoAddress,c=(0,qe.$)(d),p=u.useRef(!0),h=(0,Ve.D)(ln.f),x=(0,O.Z)(h,2),m=x[0],f=x[1].loading;u.useEffect((function(){return p.current=!0,function(){p.current=!1}}),[s]);var j=function(){var e=(0,We.Z)(Qe().mark((function e(){var d,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,m({variables:{backfillParams:{selector:{partitionSetName:n,repositorySelector:c},partitionNames:t,reexecutionSteps:r,fromFailure:i,tags:o}}});case 3:if(d=e.sent,u=d.data,p.current){e.next=7;break}return e.abrupt("return");case 7:u&&"LaunchBackfillSuccess"===u.launchPartitionBackfill.__typename?null===s||void 0===s||s(u.launchPartitionBackfill.backfillId):null===a||void 0===a||a(u);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=t.length,y=null===r||void 0===r?void 0:r.length,v=[f?"Submitting ".concat(g," ").concat(1===g?"run":"runs","\u2026"):g?"Submit ".concat(g," ").concat(1===g?"run":"runs"):"Select partitions to submit",!f&&y?"(".concat(y," selected ").concat(1===y?"step":"steps",")"):""].join(" ");return(0,R.jsx)(dn.C,{runCount:g,config:{title:v,icon:"open_in_new",disabled:!g||f,onClick:j}})},vn=(0,T.Ps)(_e||(_e=(0,_.Z)(['\n  query BackfillSelectorQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          handleID\n          ...GraphExplorerSolidHandleFragment\n          solid {\n            name\n            definition {\n              name\n            }\n            inputs {\n              dependsOn {\n                solid {\n                  name\n                }\n              }\n            }\n            outputs {\n              dependedBy {\n                solid {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    instance {\n      runLauncher {\n        name\n      }\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "BACKFILL") {\n          id\n          healthy\n        }\n      }\n      runQueuingSupported\n    }\n  }\n  ',"\n"])),pn.Q);function Sn(e){var n=null===e||void 0===e?void 0:e.launchPartitionBackfill,t=(0,R.jsx)(R.Fragment,{});return"PythonError"===(null===n||void 0===n?void 0:n.__typename)||"PartitionSetNotFoundError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,R.jsx)(z.T9,{error:n}):"InvalidStepError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,R.jsx)("div",{children:"Invalid step: ".concat(n.invalidStepKey)}):"InvalidOutputError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,R.jsx)("div",{children:"Invalid output: ".concat(n.invalidOutputName," for ").concat(n.stepKey)}):n&&"errors"in n&&(t=(0,R.jsx)(R.Fragment,{children:n.errors.map((function(e,n){return(0,R.jsx)(z.T9,{error:e},n)}))})),(0,R.jsxs)(en.Z,{direction:"column",spacing:4,children:[(0,R.jsx)("div",{children:"An unexpected error occurred. This backfill was not launched."}),t?(0,R.jsx)(Y.Z,{color:X.w.White,underline:"always",onClick:function(){(0,tn._)({body:t})},children:"View error"}):null]})}var bn,wn=function(){return(0,R.jsx)(nn.b,{intent:"warning",title:"The backfill daemon is not running.",description:(0,R.jsxs)("div",{children:["See the"," ",(0,R.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})},Nn=function(){return(0,R.jsx)(nn.b,{intent:"warning",title:(0,R.jsxs)("div",{children:["Using the default run launcher ",(0,R.jsx)("code",{children:jn})," for launching backfills without a queued run coordinator is not advised."]}),description:(0,R.jsxs)("div",{children:["Check your instance configuration in ",(0,R.jsx)("code",{children:"dagster.yaml"})," to either configure the"," ",(0,R.jsx)("a",{href:"https://docs.dagster.io/deployment/run-coordinator",target:"_blank",rel:"noreferrer",children:"queued run coordinator"})," ","or to configure a run launcher more appropriate for launching a large number of jobs."]})})},Pn=function(e){var n=e.title,t=e.children;return(0,R.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,R.jsx)("strong",{style:{display:"block"},children:n}),(0,R.jsx)(l.x,{flex:{direction:"column",gap:8},padding:{top:16},border:{width:1,color:X.w.KeylineGray,side:"top"},children:t})]})},Cn=t(16798),kn=t(922),En=t(18694),Rn=t(76341),An=function(e){var n=e.partitionNames,t=e.jobDataByPartition,r=e.stepDataByPartition,i=e.title,o=e.yLabel,s=e.isJob,a=e.hiddenStepKeys,l=u.useState((function(){return{}})),d=(0,O.Z)(l,2),c=d[0],p=d[1],h=u.useRef(null),x=u.useCallback((function(e){var n=h.current;if(n){var t=n.scales["x-axis-0"];if(t){var r=e.offsetX,i=e.offsetY;if("click"===e.type&&r<=n.chartArea.right&&r>=n.chartArea.left&&i<=n.chartArea.bottom&&i>=n.chartArea.top&&e.shiftKey){var o=t.getValueForPixel(r),s=n.data.labels[o];p((function(e){return(0,Q.Z)((0,Q.Z)({},e),{},(0,Cn.Z)({},s,!e[s]))}))}}}}),[]),m=u.useMemo((function(){return{title:i?{display:!0,text:i}:void 0,animation:!1,scales:o?{y:{id:"y",title:{display:!0,text:o}},x:{id:"x",title:{display:!0,text:i}}}:void 0,plugins:{legend:{display:!1,onClick:function(e,n){}}},onClick:x,maintainAspectRatio:!1}}),[x,i,o]),f=function(){var e=[],i={};return n.forEach((function(n){var o=!!c[n];if(t&&e.push({x:n,y:o?void 0:t[n]}),r){var s=r[n];Object.keys(s||{}).forEach((function(e){null!==a&&void 0!==a&&a.includes(e)||!s[e]||(i[e]=[].concat((0,Le.Z)(i[e]||[]),[{x:n,y:o?void 0:s[e]}]))}))}})),Object.keys(i).forEach((function(e){i[e]=In(n,i[e])})),{jobData:e,stepData:i}}(),j=f.jobData,g=f.stepData,y=s?"Total job":"Total pipeline",v={labels:n,datasets:[].concat((0,Le.Z)(!t||a&&a.includes(y)?[]:[{label:y,data:j,borderColor:X.w.Gray500,backgroundColor:"rgba(0,0,0,0)"}]),(0,Le.Z)(Object.keys(g).map((function(e){return{label:e,data:g[e],borderColor:(0,Rn.kU)(e),backgroundColor:"rgba(0,0,0,0)"}}))))};return(0,R.jsx)(_n,{children:(0,R.jsx)(En.x1,{type:"line",data:function(){return v},height:300,options:m,ref:h})})},In=function(e,n){var t={};return n.forEach((function(e){t[e.x]=e.y})),e.map((function(e){return{x:e,y:t[e]}}))},_n=kn.ZP.div.withConfig({displayName:"PartitionGraph__PartitionGraphContainer",componentId:"sc-182vuwm-0"})(["display:flex;color:",";padding:24px 12px;text-decoration:none;"],X.w.Gray700),On=t(51012),Fn=t(87188),Tn=t(73974),$n=function(e){var n=e.partitionSetName,t=e.repoAddress,r=(0,qe.$)(t),i=(0,F.a)(Jn,{variables:{partitionSetName:n,repositorySelector:r}});return(0,R.jsx)(Te.g,{queryResult:i,children:function(e){var n=e.partitionSetOrError;if("PartitionSet"!==n.__typename||"Partitions"!==n.partitionsOrError.__typename)return null;var r=n.partitionsOrError.results.map((function(e){return e.name}));return(0,R.jsx)(Hn,{partitionNames:r,partitionSet:n,repoAddress:t})}})};function Zn(e){return u.useMemo((function(){var n={},t={};return e.forEach((function(e){if(e.runsLoaded&&0!==e.runs.length){var r=e.runs.sort((function(e,n){return e.startTime||0-(n.startTime||0)})),i=r[r.length-1];n[e.name]={},t[e.name]=null!==i&&void 0!==i&&i.endTime&&null!==i&&void 0!==i&&i.startTime?i.endTime-i.startTime:void 0,i.stepStats.forEach((function(t){n[e.name][t.stepKey]=[t.endTime&&t.startTime?t.endTime-t.startTime:void 0]}))}})),{runDurationData:t,stepDurationData:n}}),[e])}var zn,Un,Dn,qn,Ln,Gn,Hn=function(e){var n=e.partitionSet,t=e.partitionNames,r=e.repoAddress,i=(0,Z.TE)().canLaunchPartitionBackfill,o=(0,De.S)(),s=o.viewport,a=o.containerProps,d=u.useState(60),c=(0,O.Z)(d,2),p=c[0],h=c[1],x=u.useState(0),f=(0,O.Z)(x,2),j=f[0],g=f[1],y=u.useState(!1),v=(0,O.Z)(y,2),S=v[0],b=v[1],w=u.useState(!1),N=(0,O.Z)(w,2),P=N[0],C=N[1],k=u.useState(!1),E=(0,O.Z)(k,2),A=E[0],I=E[1],_=(0,qe.$)(r),F=u.useState(0),T=(0,O.Z)(F,2),$=T[0],z=T[1],U=(0,Tn.T)({partitionSetName:n.name,partitionTagName:ae.H.Partition,partitionNames:t,pageSize:p,runsFilter:[],repositorySelector:_,jobName:n.pipelineName,offset:j,skipQuery:!S});u.useEffect((function(){if(s.width&&!S){var e=(0,On.Rc)(s.width-Fn.AQ);h(e)}}),[s.width,S,h]);var D=S?t.slice(Math.max(0,t.length-1-j-p),t.length-j):t,q={},L=Zn(U).stepDurationData,G={};("PartitionStatuses"===n.partitionStatusesOrError.__typename?n.partitionStatusesOrError.results:[]).forEach((function(e){G[e.partitionName]=(0,fn.C3)(e.runStatus),D.includes(e.partitionName)&&(q[e.partitionName]=e.runDuration||void 0)}));var H=u.useCallback((function(){return I(!0)}),[]);return(0,R.jsxs)("div",{children:[(0,R.jsx)(ee.Vq,{canEscapeKeyClose:!A,canOutsideClickClose:!A,onClose:function(){return C(!1)},style:{width:800,zIndex:1e3},title:"Launch ".concat(n.pipelineName," backfill"),isOpen:P,children:P&&(0,R.jsx)(gn,{partitionSetName:n.name,partitionNames:t,partitionData:G,pipelineName:n.pipelineName,onCancel:function(){return C(!1)},onLaunch:function(e,n){z($+1),C(!1)},onSubmit:H,repoAddress:r})}),(0,R.jsxs)(l.x,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:{width:1,side:"bottom",color:X.w.KeylineGray},padding:{vertical:16,horizontal:24},children:[(0,R.jsx)(m.pm,{children:"Status"}),(0,R.jsxs)(l.x,{flex:{gap:8},children:[(0,R.jsx)(te.zx,{onClick:function(){return b(!S)},active:P,children:S?"Hide per-step status":"Show per-step status"}),i.enabled?(0,R.jsx)(te.zx,{onClick:function(){return C(!P)},icon:(0,R.jsx)(Be.JO,{name:"add_circle"}),active:P,children:"Launch backfill..."}):(0,R.jsx)(V.u,{content:i.disabledReason,children:(0,R.jsx)(te.zx,{icon:(0,R.jsx)(Be.JO,{name:"add_circle"}),disabled:!0,children:"Launch backfill..."})})]})]}),(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center"},border:{width:1,side:"bottom",color:X.w.KeylineGray},padding:{left:8},children:[(0,R.jsx)(Kn,{count:t.length,label:"Total partitions"}),(0,R.jsx)(Kn,{count:t.filter((function(e){return G[e]===fn.AB.FAILURE})).length,label:"Failed partitions"}),(0,R.jsx)(Kn,{count:t.filter((function(e){return!G[e]})).length,label:"Missing partitions"})]}),(0,R.jsxs)(l.x,{padding:{vertical:16,horizontal:24},children:[(0,R.jsx)("div",(0,Q.Z)((0,Q.Z)({},a),{},{children:(0,R.jsx)(fn.bq,{partitionNames:t,partitionStateForKey:function(e){return G[e]},selected:S?D:void 0,selectionWindowSize:p,onClick:function(e){var n=t.length-1,r=t.indexOf(e),i=Math.min(n,Math.max(0,n-r-.5*p));g(i),S||b(!0)},tooltipMessage:"Click to view per-step status"})})),S?(0,R.jsx)(l.x,{margin:{top:16},children:(0,R.jsx)(On.ux,{partitionNames:t,partitions:U,pipelineName:n.pipelineName,repoAddress:r,setPageSize:h,offset:j,setOffset:g})}):null]}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},border:{side:"horizontal",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(m.pm,{children:"Run duration"})}),(0,R.jsx)(l.x,{margin:24,children:(0,R.jsx)(An,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:S?D:t,jobDataByPartition:q})}),S?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(m.pm,{children:"Step duration"})}),(0,R.jsx)(l.x,{margin:24,children:(0,R.jsx)(An,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:D,stepDataByPartition:L})})]}):null,(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},border:{side:"horizontal",color:X.w.KeylineGray,width:1},style:{marginBottom:-1},children:(0,R.jsx)(m.pm,{children:"Backfill history"})}),(0,R.jsx)(l.x,{margin:{bottom:20},children:(0,R.jsx)(Ke,{partitionSetName:n.name,repositorySelector:_,partitionNames:t,refetchCounter:$})})]})},Kn=function(e){var n=e.count,t=e.label;return(0,R.jsxs)(l.x,{padding:16,style:{flex:1},border:{side:"right",width:1,color:X.w.KeylineGray},children:[(0,R.jsx)("div",{style:{fontSize:18,marginBottom:4},children:(0,R.jsx)("strong",{children:n})}),(0,R.jsx)("div",{children:t})]})},Jn=(0,T.Ps)(bn||(bn=(0,_.Z)(["\n  query PartitionsStatusQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        name\n        pipelineName\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              name\n            }\n          }\n        }\n        partitionStatusesOrError {\n          __typename\n          ... on PartitionStatuses {\n            results {\n              id\n              partitionName\n              runStatus\n              runDuration\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),z.Bq),Bn=function(e){var n=e.partitionSetName,t=e.repoAddress,r=e.pipelineName,i=(0,De.S)(),o=i.viewport,s=i.containerProps,a=(0,qe.$)(t),d=(0,$e.u)("",{pipelineSelector:{pipelineName:r,repositoryName:t.name,repositoryLocationName:t.location}}),c=(0,Ue.m)(d.graphAssetKeys),p=u.useMemo((function(){var e=(0,ze.$G)(c.filter((function(e){return e.dimensions.length>0}))),n=e.dimensions.map((function(e){return{selected:e.partitionKeys,dimension:e}})),t=(0,ze.CT)(n,e.stateForKey);return{merged:e,total:t.length,missing:t.filter((function(e){return e.state===fn.AB.MISSING})).length}}),[c]),h=p.total,x=p.missing,f=p.merged,j=u.useState(60),g=(0,O.Z)(j,2),y=g[0],v=g[1],S=u.useState(0),b=(0,O.Z)(S,2),w=b[0],N=b[1],P=u.useState(!1),C=(0,O.Z)(P,2),k=C[0],E=C[1];u.useEffect((function(){if(o.width){var e=(0,On.Rc)(o.width-Fn.AQ);v(e)}}),[o.width,v]);var A=f.dimensions.findIndex(ze.nv);-1===A&&(A=0);var I=f.dimensions[A]?f.dimensions[A]:null,_=(null===I||void 0===I?void 0:I.partitionKeys)||[],F=_.slice(Math.max(0,_.length-1-w-y),_.length-w);return(0,R.jsxs)("div",{children:[(0,R.jsxs)(l.x,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:{width:1,side:"bottom",color:X.w.KeylineGray},padding:{vertical:16,horizontal:24},children:[(0,R.jsx)(m.pm,{children:"Status"}),(0,R.jsxs)(l.x,{flex:{gap:8},children:[(0,R.jsx)(te.zx,{onClick:function(){return E(!k)},children:k?"Hide per-asset status":"Show per-asset status"}),(0,R.jsx)(Ze.XE,{scope:{all:d.graphQueryItems.map((function(e){return e.node})),skipAllTerm:!0},preferredJobName:r})]})]}),(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center"},border:{width:1,side:"bottom",color:X.w.KeylineGray},padding:{left:8},children:[(0,R.jsx)(Kn,{count:h,label:"Total partitions"}),(0,R.jsx)(Kn,{count:x,label:"Missing partitions"})]}),(0,R.jsxs)(l.x,{padding:{vertical:16,horizontal:24},children:[(0,R.jsx)("div",(0,Q.Z)((0,Q.Z)({},s),{},{children:(0,R.jsx)(fn.bq,{partitionNames:_,splitPartitions:!!I&&!(0,ze.nv)(I),partitionStateForKey:function(e){return f.stateForSingleDimension(A,e)},selected:F,selectionWindowSize:y,tooltipMessage:"Click to view per-asset status",onClick:function(e){var n=_.length-1,t=_.indexOf(e),r=Math.min(n,Math.max(0,n-t-.5*y));N(r)}})})),k&&I&&(0,R.jsx)(l.x,{margin:{top:16},children:(0,R.jsx)(On.ac,{rangeDimensionIdx:A,rangeDimension:I,assetHealth:c,assetQueryItems:d.graphQueryItems,pipelineName:r,setPageSize:v,offset:w,setOffset:N})})]}),k&&(0,R.jsx)(Wn,{repositorySelector:a,pipelineName:r,partitionSetName:n,multidimensional:((null===f||void 0===f?void 0:f.dimensions.length)||0)>1,dimensionName:I?I.name:null,dimensionKeys:_,selected:F,offset:w,pageSize:y}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},border:{side:"horizontal",color:X.w.KeylineGray,width:1},style:{marginBottom:-1},children:(0,R.jsx)(m.pm,{children:"Backfill history"})}),(0,R.jsx)(l.x,{margin:{bottom:20},children:(0,R.jsx)(Ke,{partitionSetName:n,repositorySelector:a,partitionNames:_,refetchCounter:1})})]})},Wn=function(e){var n=e.repositorySelector,t=e.dimensionKeys,r=e.dimensionName,i=e.selected,o=e.pageSize,s=e.partitionSetName,a=e.multidimensional,d=e.pipelineName,c=e.offset,u=Zn((0,Tn.T)({partitionSetName:s,partitionTagName:a?"".concat(ae.H.Partition,"/").concat(r):ae.H.Partition,partitionNames:t,repositorySelector:n,pageSize:o,runsFilter:[],jobName:d,offset:c,skipQuery:!r})),p=u.stepDurationData,h=u.runDurationData;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},border:{side:"horizontal",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(m.pm,{children:"Run duration"})}),(0,R.jsx)(l.x,{margin:24,children:(0,R.jsx)(An,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:i,jobDataByPartition:h})}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},border:{side:"horizontal",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(m.pm,{children:"Step durations"})}),(0,R.jsx)(l.x,{margin:24,children:(0,R.jsx)(An,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:i,stepDataByPartition:p})})]})},Mn=function(e){var n=e.repoAddress,t=(0,p.UO)(),r=t.pipelinePath,i=(0,b.p3)(r),o=i.pipelineName,s=(0,D.Ux)(n),a=null===s||void 0===s?void 0:s.repository.pipelines.find((function(e){return e.name===o})),c=!(null===a||void 0===a||!a.isJob),u=!(null===a||void 0===a||!a.isAssetJob);(0,U.b)(i,c),(0,b.Bj)(t);var h=(0,Fe.f)(n,o),x=h.partitionSet,m=h.partitionSetError;return x||m?m?(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Partitions",description:m.message})}):x?u?(0,R.jsx)(Bn,{pipelineName:o,partitionSetName:x.name,repoAddress:n}):(0,R.jsx)($n,{partitionSetName:x.name,repoAddress:n}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Partitions",description:(0,R.jsxs)("div",{children:["There are no partition sets defined for ",c?"job":"pipeline"," ",(0,R.jsx)("code",{children:o}),"."]})})}):(0,R.jsx)(Te.T,{purpose:"page"})},Qn=function(e){var n=e.repoAddress,t=(0,p.TH)(),r=(0,p.UO)().pipelinePath,i=(0,b.p3)(r).pipelineName,o=(0,D.Ux)(n),s=(0,D.E8)(o,i),a=t.pathname,l=t.search,d=a.replace("/pipeline_or_job/",s?"/jobs/":"/pipelines/");return(0,R.jsx)(p.l_,{to:"".concat(d).concat(l)})},Vn=t(87535),Yn=function(e){(0,g.Px)();var n=e.repoAddress,t=(0,p.k6)(),r=(0,p.TH)(),i=(0,p.UO)(),o=(0,b.p3)(i[0]),s=(0,D.Ux)(n),a=(0,D.E8)(s,o.pipelineName);(0,U.b)(o,a),(0,b.Bj)({pipelinePath:(0,b.gY)(o)});var l=u.useCallback((function(e,i){t[i]({search:r.search,pathname:(0,P.$U)(n,"/".concat(a?"jobs":"pipelines","/").concat((0,b.gY)(e)))})}),[t,r.search,n,a]),d=u.useCallback((function(e){e.jobName&&e.opNames.length&&e.repoAddress?t.replace({search:r.search,pathname:(0,P.$U)(e.repoAddress,"/jobs/".concat((0,b.gY)((0,Q.Z)((0,Q.Z)({},o),{},{opNames:[(0,se.Je)(e.assetKey)],opsQuery:"",pipelineName:e.jobName}))))}):t.push((0,E.p)(e.assetKey,{view:"definition"}))}),[o,t,r.search]);return(0,R.jsx)(Vn.N9,{repoAddress:n,explorerPath:o,onChangeExplorerPath:l,onNavigateToSourceAssetNode:d})},Xn=t(33247),et=function(e){var n=e.repoAddress;return(0,R.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,R.jsx)(Oe,{repoAddress:n}),(0,R.jsxs)(p.rs,{children:[(0,R.jsx)(p.AW,{path:"/locations/:repoPath/pipeline_or_job/:pipelinePath/(/?.*)",children:(0,R.jsx)(Qn,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup","/locations/:repoPath/jobs/:pipelinePath/playground/setup"],children:(0,R.jsx)(W,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup-from-run/:runId","/locations/:repoPath/jobs/:pipelinePath/playground/setup-from-run/:runId"],children:(0,R.jsx)(G,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground","/locations/:repoPath/jobs/:pipelinePath/playground"],children:(0,R.jsx)(I.$,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs/:runId","/locations/:repoPath/jobs/:pipelinePath/runs/:runId"],render:function(e){return(0,R.jsx)(p.l_,{to:"/runs/".concat(e.match.params.runId)})}}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs","/locations/:repoPath/jobs/:pipelinePath/runs"],children:(0,R.jsx)(Xn.G,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/partitions","/locations/:repoPath/jobs/:pipelinePath/partitions"],children:(0,R.jsx)(Mn,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/:pipelinePath/overview","/locations/:repoPath/jobs/:pipelinePath/overview"],render:function(e){return(0,R.jsx)(p.l_,{to:"/locations/".concat(e.match.url.replace(/\/overview$/i,""))})}}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)"],children:(0,R.jsx)(Yn,{repoAddress:n})})]})]})},nt=t(78042),tt=(t(45436),t(8546)),rt=t(94067),it=t(44115),ot=t(33650),st=t(81912),at=function(e){var n=e.tick,t=e.instigationSelector,r=e.onClose,i=(0,F.a)(ut,{variables:{instigationSelector:t,timestamp:n.timestamp},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0}).data,o="InstigationState"===(null===i||void 0===i?void 0:i.instigationStateOrError.__typename)&&null!==i&&void 0!==i&&i.instigationStateOrError.tick?null===i||void 0===i?void 0:i.instigationStateOrError.tick.logEvents.events:void 0;return(0,R.jsxs)(ee.Vq,{isOpen:!!o,onClose:r,style:{width:"70vw",display:"flex"},title:n?(0,R.jsx)(fe.v,{timestamp:n.timestamp}):null,children:[(0,R.jsx)(ee.a7,{children:o&&o.length?(0,R.jsx)(lt,{events:o}):(0,R.jsx)(l.x,{flex:{justifyContent:"center",alignItems:"center"},style:{flex:1,color:X.w.Gray600},children:"No logs available"})}),(0,R.jsx)(ee.cN,{children:(0,R.jsx)(te.zx,{intent:"primary",onClick:r,children:"OK"})})]})},lt=function(e){var n=e.events;return(0,R.jsx)("div",{style:{overflow:"hidden",borderBottom:"0.5px solid #ececec",flex:1},children:(0,R.jsxs)(st.bu,{onWidthsChanged:function(){},children:[(0,R.jsx)(dt,{}),n.map((function(e,n){return(0,R.jsx)(ct,{event:e},n)}))]})})},dt=function(){var e=u.useContext(st.D7);return(0,R.jsxs)(st.Cr,{children:[(0,R.jsx)(st.h4,{width:e.eventType,onResize:function(n){return e.onChange((0,Q.Z)((0,Q.Z)({},e),{},{eventType:n}))},children:"Event Type"}),(0,R.jsx)(st.gM,{style:{flex:1},children:"Info"}),(0,R.jsx)(st.h4,{handleSide:"left",width:e.timestamp,onResize:function(n){return e.onChange((0,Q.Z)((0,Q.Z)({},e),{},{timestamp:n}))},children:"Timestamp"})]})},ct=function(e){var n=e.event;return(0,R.jsxs)(ot.X2,{level:n.level,highlighted:!1,children:[(0,R.jsx)(ot.qH,{children:(0,R.jsx)("span",{style:{marginLeft:8},children:n.level})}),(0,R.jsx)(l.x,{padding:{horizontal:12},style:{flex:1},children:n.message}),(0,R.jsx)(ot.pq,{time:n.timestamp})]})},ut=(0,T.Ps)(zn||(zn=(0,_.Z)(["\n  query TickLogEventsQuery($instigationSelector: InstigationSelector!, $timestamp: Float!) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      __typename\n      ... on InstigationState {\n        id\n        tick(timestamp: $timestamp) {\n          id\n          status\n          timestamp\n          logEvents {\n            events {\n              message\n              timestamp\n              level\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),pt=t(81745),ht=t(9429),xt=t(44198),mt=t(77892),ft=t(62997),jt=t(45352),gt=(Un={},(0,Cn.Z)(Un,je.iz.SUCCESS,X.w.Blue500),(0,Cn.Z)(Un,je.iz.FAILURE,X.w.Red500),(0,Cn.Z)(Un,je.iz.STARTED,X.w.Gray400),(0,Cn.Z)(Un,je.iz.SKIPPED,X.w.Yellow500),Un),yt=function(e){var n=e.ticks,t=e.nextTick,r=e.onHoverTick,i=e.onSelectTick,o=u.useState(Date.now()),s=(0,O.Z)(o,2),a=s[0],l=s[1],d=u.useState(Date.now()),c=(0,O.Z)(d,2),p=c[0],h=c[1],x=u.useState(!1),m=(0,O.Z)(x,2),f=m[0],j=m[1];u.useEffect((function(){var e=setInterval((function(){!f&&l(Date.now())}),100);return function(){return clearInterval(e)}})),u.useEffect((function(){f||t&&!(a<1e3*t.timestamp)||h(a)}),[f,t,a]);var g=t&&1e3*t.timestamp<=a?4+Math.sin(2*Math.PI*(a%2e3)/2e3):3,y=n.map((function(e){return{x:1e3*e.timestamp,y:0}})),v=n.map((function(e){return gt[e.status]})),S=Array(n.length).fill(3);t&&(y.push({x:1e3*t.timestamp,y:0}),v.push(X.w.Gray200),S.push(g));var b={labels:["ticks"],datasets:[{label:"now",data:[{x:p-6e5,y:0},{x:p,y:0}],borderColor:X.w.Gray100,borderWidth:1,pointBorderWidth:2,pointBorderColor:X.w.Gray200,pointRadius:1,pointHoverRadius:1},{label:"ticks",data:y,borderColor:X.w.Gray100,borderWidth:0,backgroundColor:"rgba(0,0,0,0)",pointBackgroundColor:"rgba(0,0,0,0)",pointBorderWidth:2,pointBorderColor:v,pointRadius:S,pointHoverBorderWidth:2,pointHoverRadius:5,pointHoverBorderColor:v}]},w={animation:{duration:0},scales:{y:{id:"y",display:!1,grid:{display:!1},title:{display:!1}},x:{id:"x",type:"time",title:{display:!1},grid:{display:!0},bounds:"ticks",min:p-3e5,max:p+6e4,time:{minUnit:"minute"}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{label:function(e){var t;if(!e.datasetIndex)return"Current time";if(void 0===e.dataIndex)return"";if(e.dataIndex===n.length)return"";var r=n[e.dataIndex],i=r.cursor?"Cursor: ".concat(r.cursor,"\n"):"";return r.status===je.iz.SKIPPED&&r.skipReason?i?[r.skipReason,i]:r.skipReason:r.status===je.iz.SUCCESS&&r.runIds.length?i?[].concat((0,Le.Z)(r.runIds),[i]):r.runIds:r.status===je.iz.SUCCESS&&r.originRunIds?i?[].concat((0,Le.Z)(r.originRunIds),[i]):r.originRunIds:r.status===je.iz.FAILURE&&null!==(t=r.error)&&void 0!==t&&t.message?i?[r.error.message,i]:r.error.message:i}}}},onClick:function(e,t){if(t.length){var r=(0,O.Z)(t,1)[0];if(void 0!==r.datasetIndex&&void 0!==r.index){var o=n[r.index];i(o)}}},onHover:function(e,t){if((null===e||void 0===e?void 0:e.target)instanceof HTMLElement&&(e.target.style.cursor=t.length?"pointer":"default"),t.length&&!f){j(!0);var i=t.filter((function(e){return 1===e.datasetIndex&&void 0!==e.index&&e.index<n.length})),o=(0,O.Z)(i,1)[0];if(!o)return;var s=n[o.index];r(s)}else!t.length&&f&&(j(!1),r(void 0))},maintainAspectRatio:!1};return(0,R.jsx)(En.x1,{type:"line",data:b,height:150,options:w},"100%")},vt=function(e){var n=e.timestamp,t=e.instigationSelector,r=e.onClose,i=(0,F.a)(St,{variables:{instigationSelector:t,timestamp:n||0},fetchPolicy:"cache-and-network",skip:!n,partialRefetch:!0}).data,o="InstigationState"===(null===i||void 0===i?void 0:i.instigationStateOrError.__typename)?null===i||void 0===i?void 0:i.instigationStateOrError.tick:void 0;return(0,R.jsxs)(ee.Vq,{isOpen:!!o,onClose:r,style:{width:o&&o.status===je.iz.SKIPPED?"50vw":"90vw"},title:o?(0,R.jsx)(fe.v,{timestamp:o.timestamp}):null,children:[o?(0,R.jsxs)(ee.a7,{children:[o.status===je.iz.SUCCESS?o.runIds.length?(0,R.jsx)(ft.i0,{runIds:o.runIds}):(0,R.jsx)(ft.lB,{originRunIds:o.originRunIds}):null,o.status===je.iz.SKIPPED?(0,R.jsxs)(en.Z,{direction:"row",spacing:16,children:[(0,R.jsx)(ft.TW,{tick:o}),(0,R.jsx)("span",{children:o.skipReason||"No skip reason provided"})]}):o.status===je.iz.FAILURE&&o.error?(0,R.jsx)(z.T9,{error:o.error}):void 0]}):null,(0,R.jsxs)(ee.cN,{children:[(0,R.jsx)(te.zx,{icon:(0,R.jsx)(Be.JO,{name:"copy_to_clipboard"}),onClick:function(e){return(0,rn.g)(e,window.location.href)},children:"Copy Link"}),(0,R.jsx)(te.zx,{intent:"primary",onClick:r,children:"OK"})]})]})},St=(0,T.Ps)(Dn||(Dn=(0,_.Z)(["\n  query SelectedTickQuery($instigationSelector: InstigationSelector!, $timestamp: Float!) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      __typename\n      ... on InstigationState {\n        id\n        tick(timestamp: $timestamp) {\n          id\n          status\n          timestamp\n          skipReason\n          runIds\n          originRunIds\n          error {\n            ...PythonErrorFragment\n          }\n          ...TickTagFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),z.Bq,ft.dY);rt.kL.register(it.ZP);var bt,wt,Nt,Pt,Ct,kt,Et,Rt,At,It,_t,Ot,Ft,Tt,$t=(qn={},(0,Cn.Z)(qn,je.iz.SUCCESS,!0),(0,Cn.Z)(qn,je.iz.FAILURE,!0),(0,Cn.Z)(qn,je.iz.STARTED,!0),(0,Cn.Z)(qn,je.iz.SKIPPED,!1),qn),Zt=(Ln={},(0,Cn.Z)(Ln,je.iz.SUCCESS,"Requested"),(0,Cn.Z)(Ln,je.iz.FAILURE,"Failed"),(0,Cn.Z)(Ln,je.iz.STARTED,"Started"),(0,Cn.Z)(Ln,je.iz.SKIPPED,"Skipped"),Ln),zt=function(e){var n=e.name,t=e.repoAddress,r=e.tabs,i=(0,xt.q)({encode:function(e){var n={};return Object.keys(e).map((function(t){n[t.toLowerCase()]=String(e[t])})),n},decode:function(e){var n=(0,Q.Z)({},$t);return Object.keys($t).forEach((function(t){t.toLowerCase()in e&&(n[t]=!("false"===e[t.toLowerCase()]))})),n}}),o=(0,O.Z)(i,2),s=o[0],a=o[1],c=(0,ht.m)(),p=(0,pt.gV)().flagSensorScheduleLogging,h=(0,Q.Z)((0,Q.Z)({},(0,qe.$)(t)),{},{name:n}),x=Object.keys(s).filter((function(e){return s[e]})).map((function(e){return e})),m=(0,mt.l)({nextCursorForResult:function(e){var n;if("InstigationState"===e.instigationStateOrError.__typename)return null===(n=e.instigationStateOrError.ticks[24])||void 0===n?void 0:n.id},getResultArray:function(e){return e&&"InstigationState"===e.instigationStateOrError.__typename?e.instigationStateOrError.ticks:[]},variables:{instigationSelector:h,statuses:x},query:Dt,pageSize:25}),f=m.queryResult,j=m.paginationProps,g=u.useState(),y=(0,O.Z)(g,2),v=y[0],S=y[1],b=f.data;if(!b)return null;if("PythonError"===b.instigationStateOrError.__typename)return(0,R.jsx)(z.T9,{error:b.instigationStateOrError});if("InstigationStateNotFoundError"===b.instigationStateOrError.__typename)return(0,R.jsx)(l.x,{padding:{vertical:32},flex:{justifyContent:"center"},children:(0,R.jsx)(d.t,{icon:"no-results",title:"No ticks to display"})});var w=b.instigationStateOrError,N=w.ticks,P=w.instigationType;if(!N.length&&x.length===Object.keys($t).length)return null;var C=function(e){var n=e.status;return(0,R.jsx)(Xe.X,{label:Zt[n],checked:s[n],onChange:function(e){a((0,Q.Z)((0,Q.Z)({},s),{},(0,Cn.Z)({},n,e.target.checked)))}})};return(0,R.jsxs)(R.Fragment,{children:[v?(0,R.jsx)(at,{tick:v,instigationSelector:h,onClose:function(){return S(void 0)}}):null,(0,R.jsx)(l.x,{margin:{vertical:8,horizontal:24},children:(0,R.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},children:[r,(0,R.jsxs)(l.x,{flex:{direction:"row",gap:16},children:[(0,R.jsx)(C,{status:je.iz.STARTED}),(0,R.jsx)(C,{status:je.iz.SUCCESS}),(0,R.jsx)(C,{status:je.iz.FAILURE}),(0,R.jsx)(C,{status:je.iz.SKIPPED})]})]})}),N.length?(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{style:{width:120},children:"Timestamp"}),(0,R.jsx)("th",{style:{width:90},children:"Status"}),P===je._5.SENSOR?(0,R.jsx)("th",{style:{width:120},children:"Cursor"}):null,(0,R.jsx)("th",{style:{width:180},children:"Runs"}),p?(0,R.jsx)("th",{style:{width:180},children:"Logs"}):null]})}),(0,R.jsx)("tbody",{children:N.map((function(e){return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsx)(fe.v,{timestamp:e.timestamp,timeFormat:{showTimezone:!1,showSeconds:!0}})}),(0,R.jsx)("td",{children:(0,R.jsx)(ft.TW,{tick:e})}),P===je._5.SENSOR?(0,R.jsx)("td",{style:{width:120},children:e.cursor?(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center"},children:[(0,R.jsx)(l.x,{style:{fontFamily:tt.b.monospace,marginRight:10},children:(0,R.jsx)(R.Fragment,{children:(n=e.cursor||"",n.length>100?"".concat(n.slice(0,95),"\u2026"):n)})}),(0,R.jsx)(qt,{onClick:function(){c(e.cursor||""),rn.L.show({message:(0,R.jsx)("div",{children:"Copied value"}),intent:"success"})},children:(0,R.jsx)(Be.JO,{name:"assignment"})})]}):(0,R.jsx)(R.Fragment,{children:"\u2014"})}):null,(0,R.jsx)("td",{children:e.runIds.length?e.runs.map((function(e){return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(jt.RX,{run:e},e.id)})})):(0,R.jsx)(R.Fragment,{children:"\u2014"})}),p?(0,R.jsx)("td",{children:e.logKey?(0,R.jsx)("a",{onClick:function(){return S(e)},children:"View logs"}):(0,R.jsx)(R.Fragment,{children:"\u2014"})}):null]},e.id);var n}))})]}):(0,R.jsx)(l.x,{padding:{vertical:32},flex:{justifyContent:"center"},children:(0,R.jsx)(d.t,{icon:"no-results",title:"No ticks to display"})}),N.length>0?(0,R.jsx)("div",{style:{marginTop:"16px"},children:(0,R.jsx)(Ge.pI,(0,Q.Z)({},j))}):null]})},Ut=function(e){var n=e.name,t=e.repoAddress,r=e.onHighlightRunIds,i=(0,xt.q)({encode:function(e){return{time:e}},decode:function(e){return e.time?Number(e.time):void 0}}),o=(0,O.Z)(i,2),s=o[0],a=o[1],d=u.useState(!1),c=(0,O.Z)(d,2),p=c[0],h=c[1],x=(0,Q.Z)((0,Q.Z)({},(0,qe.$)(t)),{},{name:n}),f=(0,F.a)(Dt,{variables:{instigationSelector:x,limit:15},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0});(0,he.C4)(f,p?he.hy:1e3);var j=f.data;if(!j)return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.x,{padding:{top:16,horizontal:24},border:{side:"bottom",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(m.pm,{children:"Recent ticks"})}),(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(Ye.$,{purpose:"section"})})]});if("PythonError"===j.instigationStateOrError.__typename)return(0,R.jsx)(z.T9,{error:j.instigationStateOrError});if("InstigationStateNotFoundError"===j.instigationStateOrError.__typename)return null;var g=j.instigationStateOrError,y=g.ticks,v=g.nextTick,S=function(e){a(e?e.timestamp:void 0)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(vt,{timestamp:s,instigationSelector:x,onClose:function(){return S(void 0)}}),(0,R.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,R.jsx)(m.pm,{children:"Recent ticks"})}),(0,R.jsx)(l.x,{border:{side:"top",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(yt,{ticks:y,nextTick:v,onHoverTick:function(e){e||h(!1),null!==e&&void 0!==e&&e.runIds&&(r&&r(e.runIds),h(!0))},onSelectTick:S})})]})},Dt=(0,T.Ps)(Gn||(Gn=(0,_.Z)(["\n  query TickHistoryQuery(\n    $instigationSelector: InstigationSelector!\n    $dayRange: Int\n    $limit: Int\n    $cursor: String\n    $statuses: [InstigationTickStatus!]\n  ) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      __typename\n      ... on InstigationState {\n        id\n        instigationType\n        nextTick {\n          timestamp\n        }\n        ticks(dayRange: $dayRange, limit: $limit, cursor: $cursor, statuses: $statuses) {\n          id\n          status\n          timestamp\n          cursor\n          skipReason\n          runIds\n          runs {\n            id\n            status\n            ...RunStatusFragment\n          }\n          originRunIds\n          error {\n            ...PythonErrorFragment\n          }\n          logKey\n          ...TickTagFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n  ","\n"])),z.Bq,ft.dY,jt.S9),qt=kn.ZP.button.withConfig({displayName:"TickHistory__CopyButton",componentId:"sc-1qfczm2-0"})(["background:transparent;border:0;cursor:pointer;padding:8px;margin:-6px;outline:none;","{background-color:",";transition:background-color 100ms;}:hover ","{background-color:",";}:focus ","{background-color:",";}"],Be.a1,X.w.Gray600,Be.a1,X.w.Gray800,Be.a1,X.w.Link),Lt=t(22797),Gt=t(62e3),Ht=t(3656),Kt=t(36243),Jt={showSeconds:!1,showTimezone:!0},Bt=function(e){var n=e.repoAddress,t=e.schedule,r=e.refreshState,i=t.cronSchedule,o=t.executionTimezone,s=t.futureTicks,a=t.name,d=t.partitionSet,c=t.pipelineName,p=(0,ht.m)(),h=(0,D.Ux)(n),j=(0,D.E8)(h,c),g=u.useState("Click to copy"),y=(0,O.Z)(g,2),v=y[0],b=y[1];u.useEffect((function(){var e;return"Copied!"===v&&(e=setTimeout((function(){b("Click to copy")}),2e3)),function(){e&&clearTimeout(e)}}),[v]);var w=t.scheduleState,N=w.status,P=w.id,C=w.ticks,k=C.length>0?C[0]:null,E=N===je.yn.RUNNING;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.m,{title:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,R.jsx)(m.X6,{children:a}),(0,R.jsx)(de.M,{repoAddress:n,schedule:t})]}),tags:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(f.V,{icon:"schedule",children:["Schedule in ",(0,R.jsx)(S.b,{repoAddress:n})]}),s.results.length&&E?(0,R.jsxs)(f.V,{icon:"timer",children:["Next tick:"," ",(0,R.jsx)(fe.v,{timestamp:s.results[0].timestamp,timezone:o,timeFormat:Jt})]}):null,(0,R.jsx)(l.x,{flex:{display:"inline-flex"},margin:{top:2},children:(0,R.jsx)(V.u,{content:v,children:(0,R.jsx)(Y.Z,{color:{link:X.w.Gray400,hover:X.w.Gray600},onClick:function(){p(P),b("Copied!")},children:(0,R.jsx)(m.fv,{children:"id: ".concat(P.slice(0,8))})})})})]}),right:(0,R.jsx)(he.xi,{refreshState:r})}),(0,R.jsx)(pe.fJ,{children:(0,R.jsxs)("tbody",{children:[t.description?(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Description"}),(0,R.jsx)("td",{children:t.description})]}):null,(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Latest tick"}),(0,R.jsx)("td",{children:k?(0,R.jsxs)(en.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,R.jsx)(fe.v,{timestamp:k.timestamp,timezone:o,timeFormat:Jt}),(0,R.jsx)(ft.TW,{tick:k,instigationType:je._5.SCHEDULE})]}):"Schedule has never run"})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:j?"Job":"Pipeline"}),(0,R.jsx)("td",{children:(0,R.jsx)(Gt.h,{pipelineName:c,pipelineHrefContext:n,isJob:j})})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Partition set"}),(0,R.jsx)("td",{children:d?(0,R.jsx)(Ht.b,{schedule:t,repoAddress:n}):"None"})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Schedule"}),(0,R.jsx)("td",{children:i?(0,R.jsxs)(en.Z,{direction:"row",spacing:8,children:[(0,R.jsx)("span",{children:(0,Kt.A)(i,o||"UTC")}),(0,R.jsxs)(m.EK,{children:["(",i,")"]})]}):(0,R.jsx)("div",{children:"\u2014"})})]}),o?(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Execution timezone"}),(0,R.jsx)("td",{children:o})]}):null]})})]})},Wt=t(81403),Mt=t(89324),Qt=function(e){(0,g.Px)();var n=e.repoAddress,t=(0,p.UO)().scheduleName;(0,v.j)("Schedule: ".concat(t));var r=(0,Q.Z)((0,Q.Z)({},(0,qe.$)(n)),{},{scheduleName:t}),i=u.useState("ticks"),o=(0,O.Z)(i,2),s=o[0],a=o[1],l=(0,F.a)(Yt,{variables:{scheduleSelector:r},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0}),d=(0,he.C4)(l,he.dT),c=(0,R.jsxs)(j.mQ,{selectedTabId:s,onChange:a,children:[(0,R.jsx)(j.OK,{id:"ticks",title:"Tick history"}),(0,R.jsx)(j.OK,{id:"runs",title:"Run history"})]});return(0,R.jsx)(Te.g,{queryResult:l,allowStaleData:!0,children:function(e){var t=e.scheduleOrError,r=e.instance;if("Schedule"!==t.__typename)return null;var i=!r.daemonHealth.daemonStatus.healthy;return(0,R.jsxs)(h.T,{children:[(0,R.jsx)(Bt,{repoAddress:n,schedule:t,refreshState:d}),i?(0,R.jsx)(Mt.K,{daemonHealth:r.daemonHealth,padding:{vertical:16,horizontal:24}}):null,"ticks"===s?(0,R.jsx)(zt,{tabs:c,repoAddress:n,name:t.name}):(0,R.jsx)(Vt,{repoAddress:n,schedule:t,tabs:c})]})}})},Vt=function(e){var n=e.schedule,t=e.highlightedIds,r=e.tabs,i=(0,F.a)(Xt,{fetchPolicy:"cache-and-network",variables:{limit:20,filter:{pipelineName:n.pipelineName,tags:[{key:ae.H.ScheduleName,value:n.name}]}},partialRefetch:!0,notifyOnNetworkStatusChange:!0});(0,he.C4)(i,he.dT);var o=i.data;if(!o)return null;if("Runs"!==o.pipelineRunsOrError.__typename)return(0,R.jsx)(d.t,{icon:"error",title:"Query Error",description:o.pipelineRunsOrError.message});var s=null===o||void 0===o?void 0:o.pipelineRunsOrError.results;return(0,R.jsx)(Lt.A,{actionBarComponents:r,runs:s,highlightedIds:t})},Yt=(0,T.Ps)(bt||(bt=(0,_.Z)(['\n  query ScheduleRootQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...ScheduleFragment\n      }\n      ... on ScheduleNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      ...InstanceHealthFragment\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "SCHEDULER") {\n          id\n          healthy\n        }\n      }\n    }\n  }\n\n  ',"\n  ","\n  ","\n"])),Wt.GA,nt.O,z.Bq),Xt=(0,T.Ps)(wt||(wt=(0,_.Z)(["\n  query PreviousRunsForScheduleQuery($filter: RunsFilter, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit) {\n      __typename\n      ... on Runs {\n        results {\n          id\n          ... on PipelineRun {\n            ...RunTableRunFragment\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"])),Lt.Z),er=t(26304),nr=(0,T.Ps)(Nt||(Nt=(0,_.Z)(["\n  fragment SensorFragment on Sensor {\n    id\n    jobOriginId\n    name\n    description\n    minIntervalSeconds\n    nextTick {\n      timestamp\n    }\n    sensorState {\n      id\n      ...InstigationStateFragment\n    }\n    targets {\n      pipelineName\n      solidSelection\n      mode\n    }\n    metadata {\n      assetKeys {\n        path\n      }\n    }\n  }\n  ","\n"])),jt.ai),tr=t(57466),rr=function(e){var n,t=e.sensor,r=e.highlightedIds,i=e.tabs,o=(0,F.a)(ir,{fetchPolicy:"cache-and-network",variables:{limit:20,filter:{pipelineName:1===(null===(n=t.targets)||void 0===n?void 0:n.length)?t.targets[0].pipelineName:void 0,tags:[{key:ae.H.SensorName,value:t.name}]}}}).data;if(!o||"Runs"!==o.pipelineRunsOrError.__typename)return null;var s=null===o||void 0===o?void 0:o.pipelineRunsOrError.results;return(0,R.jsx)(Lt.A,{actionBarComponents:i,runs:s,highlightedIds:r})},ir=(0,T.Ps)(Pt||(Pt=(0,_.Z)(["\n  query PreviousRunsForSensorQuery($filter: RunsFilter, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit) {\n      __typename\n      ... on Runs {\n        results {\n          id\n          ... on PipelineRun {\n            ...RunTableRunFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),Lt.Z),or=function(e){var n=e.repoAddress;(0,g.Px)();var t=(0,p.UO)().sensorName;(0,v.j)("Sensor: ".concat(t));var r=(0,Q.Z)((0,Q.Z)({},(0,qe.$)(n)),{},{sensorName:t}),i=u.useState("ticks"),o=(0,O.Z)(i,2),s=o[0],a=o[1],c=(0,F.a)(sr,{variables:{sensorSelector:r},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0}),x=(0,he.C4)(c,he.dT),m=(0,R.jsxs)(j.mQ,{selectedTabId:s,onChange:a,children:[(0,R.jsx)(j.OK,{id:"ticks",title:"Tick history"}),(0,R.jsx)(j.OK,{id:"runs",title:"Run history"})]});return(0,R.jsx)(Te.g,{queryResult:c,allowStaleData:!0,children:function(e){var r=e.sensorOrError,i=e.instance;if("SensorNotFoundError"===r.__typename)return(0,R.jsx)(l.x,{padding:{vertical:32},flex:{justifyContent:"center"},children:(0,R.jsx)(d.t,{icon:"error",title:"Could not find sensor `".concat(t,"` in definitions for `").concat(n.name,"`")})});if("PythonError"===r.__typename)return(0,R.jsx)(z.T9,{error:r});if("Sensor"!==r.__typename)return null;var o=!i.daemonHealth.daemonStatus.healthy;return(0,R.jsxs)(h.T,{children:[(0,R.jsx)(er.e,{repoAddress:n,sensor:r,daemonHealth:i.daemonHealth.daemonStatus.healthy,refreshState:x}),o?(0,R.jsx)(tr.F,{daemonHealth:i.daemonHealth,padding:{vertical:16,horizontal:24}}):null,(0,R.jsx)(Ut,{repoAddress:n,name:r.name}),"ticks"===s?(0,R.jsx)(zt,{tabs:m,repoAddress:n,name:r.name}):(0,R.jsx)(rr,{repoAddress:n,sensor:r,tabs:m})]})}})},sr=(0,T.Ps)(Ct||(Ct=(0,_.Z)(['\n  query SensorRootQuery($sensorSelector: SensorSelector!) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      __typename\n      ... on Sensor {\n        id\n        ...SensorFragment\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      ...InstanceHealthFragment\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "SENSOR") {\n          id\n          healthy\n        }\n      }\n    }\n  }\n  ',"\n  ","\n  ","\n"])),z.Bq,nr,nt.O),ar=function(e){(0,g.Px)();var n=e.repoAddress,t=(0,p.UO)(),r=(0,b.p3)(t[0]),i=r.opNames.length>1?r.opNames[r.opNames.length-2]:r.pipelineName;return(0,v.j)("Graph: ".concat(i)),(0,R.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,R.jsx)(x.m,{title:(0,R.jsx)(m.X6,{children:i}),tags:(0,R.jsxs)(f.V,{icon:"schema",children:["Graph in ",(0,R.jsx)(S.b,{repoAddress:n})]})}),(0,R.jsx)(l.x,{border:{side:"top",width:1,color:X.w.KeylineGray},style:{minHeight:0,flex:1,display:"flex"},children:(0,R.jsx)(lr,{repoAddress:n})})]})},lr=function(e){var n=e.repoAddress,t=(0,p.UO)(),r=(0,b.p3)(t[0]),i=(0,p.k6)(),o=u.useState({explodeComposites:!1,preferAssetRendering:!0}),s=(0,O.Z)(o,2),a=s[0],l=s[1],c=r.opNames.slice(0,r.opNames.length-1),h=(0,F.a)(dr,{variables:{graphSelector:{repositoryName:(null===n||void 0===n?void 0:n.name)||"",repositoryLocationName:(null===n||void 0===n?void 0:n.location)||"",graphName:r.pipelineName},rootHandleID:c.join("."),requestScopeHandleID:a.explodeComposites?void 0:c.join(".")}});return(0,R.jsx)(Te.g,{queryResult:h,children:function(t){var o=t.graphOrError;if("GraphNotFoundError"===o.__typename)return(0,R.jsx)(d.t,{icon:"error",title:"Graph not found",description:o.message});if("PythonError"===o.__typename)return(0,R.jsx)(d.t,{icon:"error",title:"Query Error",description:o.message});var s=o.solidHandle,c=a.explodeComposites?(0,un.i)(o.solidHandles):o.solidHandles;return(0,R.jsx)(pn.m0,{options:a,setOptions:l,explorerPath:r,onChangeExplorerPath:function(n,t){var r=(0,P.$U)(e.repoAddress,"/graphs/".concat((0,b.gY)(n)));"push"===t?i.push(r):i.replace(r)},container:o,repoAddress:n,handles:c,parentHandle:s||void 0,isGraph:!0,getInvocations:function(e){return c.filter((function(n){return n.solid.definition.name===e})).map((function(e){return{handleID:e.handleID}}))}})}})},dr=(0,T.Ps)(kt||(kt=(0,_.Z)(["\n  query GraphExplorerRootQuery(\n    $graphSelector: GraphSelector\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    graphOrError(selector: $graphSelector) {\n      ... on Graph {\n        id\n        name\n        ...GraphExplorerFragment\n\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on GraphNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n  ","\n"])),pn.Sm,pn.Q,z.Bq),cr=t(88863),ur=t(13172),pr=t(47427),hr=t(65880),xr=t(519),mr=t(52848),fr=t(7748),jr=t(79714),gr=t(64424),yr=t(81786),vr=t(86655),Sr=t(24738),br=t(90815),wr=t(76314),Nr=t(3580),Pr=t(16279),Cr="UNGROUPED",kr=function(e){var n=e.repoAddress,t=e.assets,r=u.useRef(null),i=(0,ue.Uz)(n),o=Fr("".concat(i,"-").concat("assets-virtualized-expansion-state")),s=o.expandedKeys,a=o.onToggle,d=u.useMemo((function(){var e,n={},r=(0,pr.Z)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.groupName||Cr,s=n[o]||[];n[o]=[].concat((0,Le.Z)(s),[i])}}catch(a){r.e(a)}finally{r.f()}return n}),[t]),c=u.useMemo((function(){var e=[];return Object.keys(d).forEach((function(n){var t=d[n];e.push({type:"group",name:n,assetCount:t.length}),s.includes(n)&&t.forEach((function(n){var t=n.id,r=n.assetKey;e.push({type:"asset",id:t,path:r.path})}))})),e}),[d,s]),p=(0,xr.useVirtualizer)({count:c.length,getScrollElement:function(){return r.current},estimateSize:function(e){var n=c[e];return"group"===(null===n||void 0===n?void 0:n.type)?48:64},overscan:10}),h=p.getTotalSize(),x=p.getVirtualItems();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.x,{border:{side:"horizontal",width:1,color:X.w.KeylineGray},style:{display:"grid",gridTemplateColumns:"40% 30% 20% 10%",height:"32px",fontSize:"12px",color:X.w.Gray600},children:[(0,R.jsx)(Nr.qN,{children:"Asset name"}),(0,R.jsx)(Nr.qN,{children:"Materialized"}),(0,R.jsx)(Nr.qN,{children:"Latest run"}),(0,R.jsx)(Nr.qN,{children:"Actions"})]}),(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsx)(Nr.W2,{ref:r,children:(0,R.jsx)(Nr.Nh,{$totalHeight:h,children:x.map((function(e){var t=e.index,r=e.key,i=e.size,o=e.start,l=c[t];return"group"===l.type?(0,R.jsx)(Rr,{repoAddress:n,groupName:l.name,assetCount:l.assetCount,expanded:s.includes(l.name),height:i,start:o,onToggle:a},r):(0,R.jsx)(Er,{path:l.path,repoAddress:n,height:i,start:o},r)}))})})})]})},Er=function(e){var n,t=e.path,r=e.repoAddress,i=e.start,o=e.height,s=(0,hr.t)(_r,{fetchPolicy:"cache-and-network",variables:{input:{path:t}}}),a=(0,O.Z)(s,2),d=a[0],c=a[1];(0,Pr.v5)(d);var p=c.data,h=u.useMemo((function(){return"Asset"===(null===p||void 0===p?void 0:p.assetOrError.__typename)?p.assetOrError:null}),[p]),x=u.useMemo((function(){if(null!==h&&void 0!==h&&h.definition&&null!==p&&void 0!==p&&p.assetsLatestInfo){var e=p.assetsLatestInfo[0];if(e)return(0,se.dZ)(h.definition,e)}return null}),[p,h]),f=(0,E.p)({path:t});return(0,R.jsx)(Nr.X2,{$height:o,$start:i,children:(0,R.jsxs)(Ir,{border:{side:"bottom",width:1,color:X.w.KeylineGray},children:[(0,R.jsxs)(Nr.E5,{children:[(0,R.jsx)("div",{style:{fontWeight:500,maxWidth:"100%",overflow:"hidden"},children:(0,R.jsx)(vr.R,{path:t,url:f,isGroup:!1,icon:"asset",textStyle:"middle-truncate"})}),(0,R.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,R.jsx)(m.YS,{style:{color:X.w.Gray500,whiteSpace:"nowrap"},children:null===h||void 0===h||null===(n=h.definition)||void 0===n?void 0:n.description})})]}),(0,R.jsx)(Nr.E5,{children:null!==x&&void 0!==x&&x.lastMaterialization?(0,R.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(jr.Tj,{runId:x.lastMaterialization.runId,event:{stepKey:x.stepKey,timestamp:x.lastMaterialization.timestamp},children:(0,R.jsx)(fe.v,{timestamp:Number(x.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})}),(0,R.jsx)(br.T3,{liveData:x})]}):(0,R.jsx)(Pr.mq,{queryResult:c})}),(0,R.jsx)(Nr.E5,{children:x?(0,R.jsx)(jr.o9,{liveData:x,includeFreshness:!0,includeRunStatus:!0}):(0,R.jsx)(Pr.mq,{queryResult:c})}),(0,R.jsx)(Nr.E5,{children:h?(0,R.jsx)("div",{children:(0,R.jsx)(yr.$,{repoAddress:r,asset:h})}):null})]})})},Rr=function(e){var n=e.repoAddress,t=e.groupName,r=e.assetCount,i=e.expanded,o=e.height,s=e.start,a=e.onToggle;return(0,R.jsx)(Ar,{$height:o,$start:s,onClick:function(){return a(t)},$open:i,tabIndex:0,onKeyDown:function(e){"Space"!==e.code&&"Enter"!==e.code||(e.preventDefault(),a(t))},children:(0,R.jsxs)(l.x,{background:X.w.Gray50,flex:{direction:"row",alignItems:"center",gap:8,justifyContent:"space-between"},padding:{horizontal:24},border:{side:"bottom",width:1,color:X.w.KeylineGray},style:{height:"100%"},children:[(0,R.jsxs)(l.x,{flex:{alignItems:"center",gap:8},children:[(0,R.jsx)(Be.JO,{name:"asset_group"}),t===Cr?(0,R.jsx)("div",{children:"Ungrouped assets"}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("strong",{children:t}),t!==Cr?(0,R.jsx)(l.x,{margin:{left:12},children:(0,R.jsx)(oe.rU,{to:(0,P.$U)(n,"/asset-groups/".concat(t)),children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,R.jsx)("span",{children:"View lineage"}),(0,R.jsx)(Be.JO,{name:"open_in_new",size:16,color:X.w.Link})]})})}):null]})]}),(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,R.jsx)(f.V,{children:1===r?"1 asset":"".concat(r," assets")}),(0,R.jsx)(Be.JO,{name:"arrow_drop_down",size:20})]})]})})},Ar=(0,kn.ZP)(Nr.X2).withConfig({displayName:"VirtualizedAssetTable__ClickableRow",componentId:"sc-7okz4t-0"})(["cursor:pointer;:focus,:active{outline:none;}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],Be.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),Ir=(0,kn.ZP)(l.x).withConfig({displayName:"VirtualizedAssetTable__RowGrid",componentId:"sc-7okz4t-1"})(["display:grid;grid-template-columns:40% 30% 20% 10%;height:100%;"]),_r=(0,T.Ps)(Et||(Et=(0,_.Z)(["\n  query SingleAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n        ...AssetTableFragment\n        definition {\n          id\n          ...AssetNodeLiveFragment\n        }\n      }\n    }\n    assetsLatestInfo(assetKeys: [$input]) {\n      ...AssetLatestInfoFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),Sr.vR,fr.oR,gr.m),Or=function(e){return Array.isArray(e)?e:[]},Fr=function(e){var n=u.useContext(mr.I).basePath,t=(0,wr.U)("".concat(n,":dagit.").concat(e),Or),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=u.useCallback((function(e){o((function(n){var t=new Set(n||[]);return t.has(e)?t.delete(e):t.add(e),Array.from(t)}))}),[o]);return u.useMemo((function(){return{expandedKeys:i,onToggle:s}}),[i,s])},Tr=t(86562),$r=function(e){var n=e.repoAddress,t=e.refreshState,r=e.tab;return(0,R.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,R.jsxs)(j.mQ,{selectedTabId:r,children:[(0,R.jsx)(w.f,{id:"assets",title:"Assets",to:(0,P.$U)(n,"/assets")}),(0,R.jsx)(w.f,{id:"jobs",title:"Jobs",to:(0,P.$U)(n,"/jobs")}),(0,R.jsx)(w.f,{id:"schedules",title:"Schedules",to:(0,P.$U)(n,"/schedules")}),(0,R.jsx)(w.f,{id:"sensors",title:"Sensors",to:(0,P.$U)(n,"/sensors")}),(0,R.jsx)(w.f,{id:"graphs",title:"Graphs",to:(0,P.$U)(n,"/graphs")}),(0,R.jsx)(w.f,{id:"ops",title:"Ops",to:(0,P.$U)(n,"/ops")})]}),t?(0,R.jsx)(l.x,{padding:{bottom:8},children:(0,R.jsx)(he.xi,{refreshState:t})}):null]})},Zr=function(e){var n=e.repoAddress,t=e.tab,r=e.refreshState,i=e.queryData;return(0,R.jsx)(x.m,{title:(0,R.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,R.jsx)(m.X6,{children:(0,R.jsx)(oe.rU,{to:"/locations",style:{color:X.w.Dark},children:"Deployment"})}),(0,R.jsx)(m.X6,{children:"/"}),(0,R.jsx)(m.X6,{style:{color:X.w.Gray600},children:(0,ue.Uz)(n)})]}),tabs:(0,R.jsx)($r,{repoAddress:n,tab:t,refreshState:r,queryData:i}),right:(0,R.jsx)(Tr.s,{location:n.location,children:function(e){var n=e.tryReload,t=e.reloading;return(0,R.jsx)(te.zx,{onClick:function(){return n()},loading:t,icon:(0,R.jsx)(Be.JO,{name:"refresh"}),children:"Reload definitions"})}})})},zr=function(e){var n=e.repoAddress;(0,g.Px)();var t=u.useState(""),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=(0,qe.$)(n),a=(0,F.a)(Ur,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:s}}),c=a.data,p=a.loading,h=(0,he.C4)(a,he.dT),x=i.trim().toLocaleLowerCase().length>0,m=u.useMemo((function(){return"Repository"===(null===c||void 0===c?void 0:c.repositoryOrError.__typename)?c.repositoryOrError.assetNodes:[]}),[c]),f=(0,ur.h)(i,m);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"assets",refreshState:h,queryData:a}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(cr.oi,{icon:"search",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter by asset name\u2026",style:{width:"340px"}})}),p&&!c?(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(Ye.$,{purpose:"page"})}):function(){if(p&&!c)return(0,R.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,R.jsx)(Ye.$,{purpose:"body-text"}),(0,R.jsx)("div",{style:{color:X.w.Gray600},children:"Loading assets\u2026"})]})});var e=(0,ue.Uz)(n);return f.length?(0,R.jsx)(kr,{repoAddress:n,assets:f}):x?(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No matching assets",description:(0,R.jsxs)("div",{children:["No assets matching ",(0,R.jsx)("strong",{children:i})," were found in ",e]})})}):(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No assets",description:"No assets were found in ".concat(e)})})}()]})},Ur=(0,T.Ps)(Rt||(Rt=(0,_.Z)(["\n  query WorkspaceAssetsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        assetNodes {\n          id\n          assetKey {\n            path\n          }\n          groupName\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.Bq),Dr=function(e){var n=e.repoAddress,t=e.graphs,r=u.useRef(null),i=(0,xr.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),o=i.getTotalSize(),s=i.getVirtualItems();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.x,{border:{side:"horizontal",width:1,color:X.w.KeylineGray},style:{display:"grid",gridTemplateColumns:"100%",height:"32px",fontSize:"12px",color:X.w.Gray600},children:(0,R.jsx)(Nr.qN,{children:"Graph"})}),(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsx)(Nr.W2,{ref:r,children:(0,R.jsx)(Nr.Nh,{$totalHeight:o,children:s.map((function(e){var r=e.index,i=e.key,o=e.size,s=e.start,a=t[r];return(0,R.jsx)(qr,{name:a.name,description:a.description,path:a.path,repoAddress:n,height:o,start:s},i)}))})})})]})},qr=function(e){var n=e.name,t=e.path,r=e.description,i=e.repoAddress,o=e.start,s=e.height,a=(0,hr.t)(Gr,{fetchPolicy:"cache-and-network",variables:{selector:{repositoryName:i.name,repositoryLocationName:i.location,graphName:n}}}),d=(0,O.Z)(a,2),c=d[0],p=d[1];(0,Pr.v5)(c);var h=p.data,x=u.useMemo((function(){return r||("Graph"===(null===h||void 0===h?void 0:h.graphOrError.__typename)?h.graphOrError.description:null)}),[h,r]);return(0,R.jsx)(Nr.X2,{$height:s,$start:o,children:(0,R.jsx)(Lr,{border:{side:"bottom",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(Nr.E5,{children:(0,R.jsxs)(l.x,{flex:{direction:"column"},children:[(0,R.jsx)("div",{style:{whiteSpace:"nowrap",fontWeight:500},children:(0,R.jsx)(oe.rU,{to:(0,P.$U)(i,t),children:n})}),x?(0,R.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,R.jsx)(m.YS,{style:{color:X.w.Gray500,whiteSpace:"nowrap"},children:x})}):null]})})})})},Lr=(0,kn.ZP)(l.x).withConfig({displayName:"VirtualizedGraphTable__RowGrid",componentId:"msr1c1-0"})(["display:grid;grid-template-columns:100%;height:100%;"]),Gr=(0,T.Ps)(At||(At=(0,_.Z)(["\n  query SingleGraphQuery($selector: GraphSelector!) {\n    graphOrError(selector: $selector) {\n      ... on Graph {\n        id\n        name\n        description\n      }\n    }\n  }\n"]))),Hr=function(e){var n=e.repoAddress;(0,g.Px)();var t=u.useState(""),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=(0,qe.$)(n),a=(0,F.a)(Kr,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:s}}),c=a.data,p=a.loading,h=(0,he.C4)(a,he.dT),x=i.trim().toLocaleLowerCase(),m=x.length>0,f=u.useMemo((function(){var e=null===c||void 0===c?void 0:c.repositoryOrError;if(!e||"Repository"!==e.__typename)return[];var n=new Set(e.pipelines.filter((function(e){return e.isJob&&!(0,se.pv)(e.name)})).map((function(e){return e.graphName}))),t=Array.from(n).map((function(e){return{name:e,path:"/graphs/".concat(e),description:null}}));return e.usedSolids.forEach((function(e){"CompositeSolidDefinition"===e.definition.__typename&&t.push({name:e.definition.name,path:"/graphs/".concat(e.invocations[0].pipeline.name,"/").concat(e.invocations[0].solidHandle.handleID,"/"),description:e.definition.description})})),t.sort((function(e,n){return e.name.localeCompare(n.name)}))}),[c]),j=u.useMemo((function(){var e=x.toLocaleLowerCase();return f.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}),[f,x]);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"graphs",refreshState:h,queryData:a}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(cr.oi,{icon:"search",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter by graph name\u2026",style:{width:"340px"}})}),p&&!c?(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(Ye.$,{purpose:"page"})}):function(){if(p&&!c)return(0,R.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,R.jsx)(Ye.$,{purpose:"body-text"}),(0,R.jsx)("div",{style:{color:X.w.Gray600},children:"Loading graphs\u2026"})]})});var e=(0,ue.Uz)(n);return j.length?(0,R.jsx)(Dr,{repoAddress:n,graphs:j}):m?(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No matching graphs",description:(0,R.jsxs)("div",{children:["No graphs matching ",(0,R.jsx)("strong",{children:i})," were found in ",e]})})}):(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No graphs",description:"No graphs were found in ".concat(e)})})}()]})},Kr=(0,T.Ps)(It||(It=(0,_.Z)(["\n  query WorkspaceGraphsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        usedSolids {\n          definition {\n            __typename\n            ... on CompositeSolidDefinition {\n              id\n              name\n              description\n            }\n          }\n          invocations {\n            pipeline {\n              id\n              name\n            }\n            solidHandle {\n              handleID\n            }\n          }\n        }\n        pipelines {\n          id\n          name\n          isJob\n          graphName\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.Bq),Jr=t(82426),Br=function(e){var n=e.repoAddress,t=e.jobs,r=u.useRef(null),i=(0,xr.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),o=i.getTotalSize(),s=i.getVirtualItems();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Jr.I,{}),(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsx)(Nr.W2,{ref:r,children:(0,R.jsx)(Nr.Nh,{$totalHeight:o,children:s.map((function(e){var r=e.index,i=e.key,o=e.size,s=e.start,a=t[r];return(0,R.jsx)(Jr.b,{name:a.name,isJob:a.isJob,repoAddress:n,height:o,start:s},i)}))})})})]})},Wr=function(e){var n=e.repoAddress;(0,g.Px)();var t=u.useState(""),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=(0,qe.$)(n),a=(0,F.a)(Mr,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:s}}),c=a.data,p=a.loading,h=(0,he.C4)(a,he.dT),x=i.trim().toLocaleLowerCase(),m=x.length>0,f=u.useMemo((function(){return"Repository"===(null===c||void 0===c?void 0:c.repositoryOrError.__typename)?c.repositoryOrError.pipelines:[]}),[c]),j=u.useMemo((function(){var e=x.toLocaleLowerCase();return f.filter((function(n){var t=n.name;return!(0,se.pv)(t)&&t.toLocaleLowerCase().includes(e)}))}),[f,x]);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"jobs",refreshState:h,queryData:a}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(cr.oi,{icon:"search",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter by job name\u2026",style:{width:"340px"}})}),p&&!c?(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(Ye.$,{purpose:"page"})}):function(){if(p&&!c)return(0,R.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,R.jsx)(Ye.$,{purpose:"body-text"}),(0,R.jsx)("div",{style:{color:X.w.Gray600},children:"Loading jobs\u2026"})]})});var e=(0,ue.Uz)(n);return j.length?(0,R.jsx)(Br,{repoAddress:n,jobs:j}):m?(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No matching jobs",description:(0,R.jsxs)("div",{children:["No jobs matching ",(0,R.jsx)("strong",{children:i})," were found in ",e]})})}):(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No jobs",description:"No jobs were found in ".concat(e)})})}()]})},Mr=(0,T.Ps)(_t||(_t=(0,_.Z)(["\n  query WorkspaceJobsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        pipelines {\n          id\n          name\n          isJob\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.Bq),Qr=t(57615),Vr=t(17912),Yr=t(95806),Xr=t(23496),ei=t(79447),ni=t(76867),ti=function(e){var n=e.definition,t=n.name,r=n.inputDefinitions,i=n.outputDefinitions,o=(0,ni.og)({name:t,inputs:r.map((function(e){return{definition:e,dependsOn:[]}})),outputs:i.map((function(e){return{definition:e,dependedBy:[]}})),definition:{description:null,assetNodes:[]}},{x:0,y:0});return(0,R.jsx)(l.x,{padding:24,children:(0,R.jsx)(ii,{style:{height:o.bounds.height},children:(0,R.jsx)(ei.Un,{invocation:void 0,definition:e.definition,minified:!1,onClick:function(){},onDoubleClick:function(){},onEnterComposite:function(){},onHighlightEdges:function(){},layout:o,selected:!1,focused:!1,highlightedEdges:[],dim:!1})})})},ri=(0,T.Ps)(Ot||(Ot=(0,_.Z)(["\n  fragment OpCardSolidDefinitionFragment on ISolidDefinition {\n    ...OpNodeDefinitionFragment\n    __typename\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    inputDefinitions {\n      name\n    }\n    outputDefinitions {\n      name\n    }\n  }\n\n  ","\n"])),ei.WH),ii=kn.ZP.div.withConfig({displayName:"OpCard__OpCardContainer",componentId:"yeb4tc-0"})(["flex:1;max-width:450px;position:relative;"]),oi=function(e){var n=e.name,t=e.onClickInvocation,r=e.repoAddress,i=(0,qe.$)(r),o=(0,F.a)(si,{variables:{name:n,repositorySelector:i}});return(0,R.jsx)(Te.g,{queryResult:o,children:function(e){var n=e.repositoryOrError;if("Repository"!==(null===n||void 0===n?void 0:n.__typename)||!n.usedSolid)return null;var r=n.usedSolid;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ti,{definition:r.definition}),(0,R.jsx)(Xr.I,{definition:r.definition,showingSubgraph:!1,onClickInvocation:t,getInvocations:function(){return r.invocations.map((function(e){return{handleID:e.solidHandle.handleID,pipelineName:e.pipeline.name}}))}})]})}})},si=(0,T.Ps)(Ft||(Ft=(0,_.Z)(["\n  query UsedSolidDetailsQuery($name: String!, $repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolid(name: $name) {\n          __typename\n          definition {\n            ...OpCardSolidDefinitionFragment\n            ...SidebarOpDefinitionFragment\n          }\n          invocations {\n            __typename\n            pipeline {\n              id\n              name\n            }\n            solidHandle {\n              handleID\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"])),ri,Xr.u),ai=kn.ZP.div.withConfig({displayName:"OpDetailsRoot__OpDetailScrollContainer",componentId:"sc-1p6pya6-0"})(["overflow:scroll;flex:1;"]),li=t(66941);function di(e){var n,t={},r=(0,pr.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,s=(0,pr.Z)(o);try{for(s.s();!(i=s.n()).done;){t[i.value]=!0}}catch(a){s.e(a)}finally{s.f()}}}catch(a){r.e(a)}finally{r.f()}return Object.keys(t).sort((function(e,n){return e.localeCompare(n)}))}var ci,ui,pi,hi,xi,mi,fi,ji=function(e){(0,g.Px)(),(0,v.j)("Ops");var n=(0,p.UO)().name,t=e.repoAddress,r=(0,qe.$)(t),i=(0,F.a)(Si,{variables:{repositorySelector:r}});return(0,R.jsx)("div",{style:{height:"100%"},children:(0,R.jsx)(Te.g,{queryResult:i,children:function(r){var i=r.repositoryOrError;return"Repository"===(null===i||void 0===i?void 0:i.__typename)&&i.usedSolids?(0,R.jsx)(gi,(0,Q.Z)((0,Q.Z)({},e),{},{name:n,repoAddress:t,usedSolids:i.usedSolids})):null}})})},gi=function(e){var n,t=e.name,r=e.repoAddress,i=e.usedSolids,o=(0,p.k6)(),s=(0,p.TH)(),a=B().parse(s.search,{ignoreQueryPrefix:!0}),c=a.q,h=a.typeExplorer,x=(n=i,[{token:"name",values:function(){return n.map((function(e){return e.definition.name}))}},{token:"job",values:function(){return di(n.map((function(e){return e.invocations.filter((function(e){return!e.pipeline.isJob})).map((function(e){return e.pipeline.name}))})))}},{token:"pipeline",values:function(){return di(n.map((function(e){return e.invocations.filter((function(e){return e.pipeline.isJob})).map((function(e){return e.pipeline.name}))})))}},{token:"input",values:function(){return di(n.map((function(e){return e.definition.inputDefinitions.map((function(e){return e.type.displayName}))})))}},{token:"output",values:function(){return di(n.map((function(e){return e.definition.outputDefinitions.map((function(e){return e.type.displayName}))})))}}]),m=(0,Qr.HE)(c||"",x),f=function(e,n){return e.filter((function(e){var t,r=(0,pr.Z)(n);try{var i=function(){var n=t.value;return("name"!==n.token&&void 0!==n.token||e.definition.name.startsWith(n.value))&&("pipeline"!==n.token&&"job"!==n.token||e.invocations.some((function(e){return e.pipeline.name===n.value})))&&("input"!==n.token||e.definition.inputDefinitions.some((function(e){return e.type.displayName.startsWith(n.value)})))&&("output"!==n.token||e.definition.outputDefinitions.some((function(e){return e.type.displayName.startsWith(n.value)})))?void 0:{v:!1}};for(r.s();!(t=r.n()).done;){var o=i();if("object"===typeof o)return o.v}}catch(s){r.e(s)}finally{r.f()}return!0}))}(i,m),j=i.find((function(e){return e.definition.name===t})),g=function(e){o.replace({search:"?".concat(B().stringify({q:(0,Qr.jP)(e)}))})},y=function(e){o.replace((0,P.$U)(r,"/ops/".concat(e,"?").concat(B().stringify({q:c}))))};u.useEffect((function(){1!==f.length||j&&f[0]===j||y(f[0].definition.name),"string"===typeof h&&g([].concat((0,Le.Z)(m),[{token:"input",value:h}]))}));var v=u.useCallback((function(e){var n=e.pipelineName,t=e.handleID;o.push((0,P.$U)(r,"/pipeline_or_job/".concat(n,"/").concat(t.split(".").join("/"))))}),[o,r]);return(0,R.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,R.jsx)(Vr.OS,{identifier:"ops",firstInitialPercent:40,firstMinSize:420,first:(0,R.jsxs)(Ni,{children:[(0,R.jsx)(l.x,{padding:{vertical:12,horizontal:24},border:{side:"bottom",width:1,color:X.w.KeylineGray},children:(0,R.jsx)(Qr.Gf,{values:m,onChange:function(e){return g(e)},suggestionProviders:x,placeholder:"Filter by name or input/output type..."})}),(0,R.jsx)("div",{style:{flex:1},children:(0,R.jsx)(Yr.qj,{nonce:window.__webpack_nonce__,children:function(e){var n=e.height,t=e.width;return(0,R.jsx)(yi,{height:n,width:t,selected:j,onClickOp:y,items:f.sort((function(e,n){return e.definition.name.localeCompare(n.definition.name)}))})}})})]}),second:j?(0,R.jsx)(ai,{children:(0,R.jsx)(oi,{name:j.definition.name,onClickInvocation:v,repoAddress:r})}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"no-results",title:"No op selected",description:"Select an op to see its definition and invocations"})})})})},yi=function(e){var n=e.items,t=e.selected,r=u.useRef(new Yr.t1({defaultHeight:60,fixedWidth:!0})),i=u.useRef(e.width);e.width!==i.current&&(r.current.clearAll(),i.current=e.width);var o=t?n.findIndex((function(e){return e===t})):void 0;return(0,R.jsx)(vi,{children:(0,R.jsx)(Yr.aV,{width:e.width,height:e.height,rowCount:e.items.length,rowHeight:r.current.rowHeight,scrollToIndex:o,className:"solids-list",rowRenderer:function(n){var t=n.parent,i=n.index,o=n.key,s=n.style,a=e.items[i];return(0,R.jsx)(Yr.Z8,{cache:r.current,index:i,parent:t,children:(0,R.jsxs)(bi,{style:s,selected:a===e.selected,onClick:function(){return e.onClickOp(a.definition.name)},children:[(0,R.jsx)(wi,{children:a.definition.name}),(0,R.jsx)(li.z,{definition:a.definition})]})},o)},overscanRowCount:10})})},vi=kn.ZP.div.withConfig({displayName:"OpsRoot__Container",componentId:"sc-1mzv72b-0"})([".solids-list:focus{outline:none;}"]),Si=(0,T.Ps)(Tt||(Tt=(0,_.Z)(["\n  query OpsRootQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolids {\n          __typename\n          definition {\n            name\n            ...OpTypeSignatureFragment\n          }\n          invocations {\n            __typename\n            pipeline {\n              id\n              isJob\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),li.C),bi=kn.ZP.div.withConfig({displayName:"OpsRoot__OpListItem",componentId:"sc-1mzv72b-1"})(["background:",";box-shadow:"," 4px 0 0 inset,"," 0 -1px 0 inset;color:",";cursor:pointer;font-size:14px;display:flex;flex-direction:column;padding:12px 24px;user-select:none;& > code.bp3-code{color:",";background:transparent;font-family:",";padding:5px 0 0 0;}"],(function(e){return e.selected?X.w.Gray100:X.w.White}),(function(e){return e.selected?X.w.HighlightGreen:"transparent"}),X.w.KeylineGray,X.w.Gray800,X.w.Gray800,tt.b.monospace),wi=kn.ZP.div.withConfig({displayName:"OpsRoot__OpName",componentId:"sc-1mzv72b-2"})(["flex:1;font-weight:600;"]),Ni=kn.ZP.div.withConfig({displayName:"OpsRoot__OpListColumnContainer",componentId:"sc-1mzv72b-3"})(["display:flex;flex-direction:column;height:100%;"]),Pi=function(e){var n=e.repoAddress;return(0,g.Px)(),(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"ops"}),(0,R.jsx)(ji,{repoAddress:n})]})},Ci=t(37099),ki=t(48953),Ei=function(){(0,g.Px)();var e=(0,p.UO)().pipelinePath,n=(0,p.$B)(["/locations/pipelines/(/?.*)","/locations/jobs/(/?.*)"]),t=(0,p.TH)(),r=n.params[0],i=t.search,o=(0,b.p3)(e).pipelineName,s=(0,D.vl)(),a=s.loading,c=s.options;if(a)return(0,R.jsx)(Te.T,{purpose:"page"});var u=(0,ki.k)(c,o);if(0===u.length)return(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"no-results",title:"No matching jobs",description:(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{children:(0,R.jsx)("strong",{children:o})}),"was not found in any repositories in this workspace."]})})});if(1===u.length){var f=u[0],j=(0,D.Zj)(f),y=(0,D.E8)(f,o),v=(0,P.$U)(j,"/".concat(y?"jobs":"pipelines","/").concat(r).concat(i));return(0,R.jsx)(p.l_,{to:v})}var S=u.some((function(e){return!(0,D.E8)(e,o)}));return(0,R.jsxs)(h.T,{children:[(0,R.jsx)(x.m,{title:(0,R.jsx)(m.X6,{children:o}),icon:"job",description:S?"Job / pipeline in multiple code locations":"Job in multiple code locations"}),(0,R.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,R.jsx)(nn.b,{intent:"info",title:(0,R.jsx)("div",{children:S?(0,R.jsxs)(R.Fragment,{children:["Jobs or pipelines named ",(0,R.jsx)("strong",{children:o})," were found in multiple code locations."]}):(0,R.jsxs)(R.Fragment,{children:["Jobs named ",(0,R.jsx)("strong",{children:o})," were found in multiple code locations."]})})})}),(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"Code location"}),(0,R.jsx)("th",{children:S?"Job / Pipeline":"Job"})]})}),(0,R.jsx)("tbody",{children:u.map((function(e){var n=e.repository.name,t=e.repositoryLocation.name,r=(0,Ci.At)(n,t);return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{style:{width:"40%"},children:r}),(0,R.jsx)("td",{children:(0,R.jsx)(oe.rU,{to:(0,P.rO)(n,t,"/".concat((0,D.E8)(e,o)?"jobs":"pipelines","/").concat(o)),children:o})})]},r)}))})]})]})},Ri=t(56313),Ai=t(24375),Ii=t(98191),_i=function(e){var n=e.repoAddress;(0,g.Px)(),(0,v.j)("Schedules");var t=(0,qe.$)(n),r=(0,F.a)(Wt.tj,{variables:{repositorySelector:t,instigationType:je._5.SCHEDULE},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0});return(0,he.C4)(r,5e4),(0,R.jsx)(Te.g,{queryResult:r,allowStaleData:!0,children:function(e){var t=e.repositoryOrError,r=e.unloadableInstigationStatesOrError,i=e.instance,o=null,s=(0,ue.Uz)(n);return o="PythonError"===t.__typename?(0,R.jsx)(z.T9,{error:t}):"RepositoryNotFoundError"===t.__typename?(0,R.jsx)(d.t,{icon:"error",title:"Definitions not found",description:"Could not load ".concat(s,".")}):t.schedules.length?t.schedules.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ii.P,{schedules:t.schedules,repoAddress:n}),(0,R.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:X.w.Gray100},children:(0,R.jsx)(m.pm,{children:"Scheduled ticks"})}),(0,R.jsx)(Ai.n,{repos:[t]})]}):(0,R.jsx)(d.t,{icon:"schedule",title:"No schedules found",description:(0,R.jsxs)("p",{children:[s," does not have any schedules defined. Visit the"," ",(0,R.jsx)("a",{href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/schedules",children:"scheduler documentation"})," ","for more information about scheduling runs in Dagster."]})}),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Mt.K,{daemonHealth:i.daemonHealth,padding:{horizontal:24,vertical:16}}),o,"PythonError"===r.__typename?(0,R.jsx)(z.T9,{error:r}):(0,R.jsx)(Ri.Y,{scheduleStates:r.results})]})}})},Oi=function(e){var n=e.repoAddress,t=e.sensors;return(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{style:{width:"60px"}}),(0,R.jsx)("th",{children:"Sensor Name"}),(0,R.jsx)("th",{style:{width:"15%"},children:"Frequency"}),(0,R.jsx)("th",{style:{width:"10%"},children:(0,R.jsxs)(l.x,{flex:{gap:8,alignItems:"end"},children:["Last tick",(0,R.jsx)(V.u,{position:"top",content:"Status of the last tick: One of `Started`, `Skipped`, `Requested`, `Failed`",children:(0,R.jsx)(Be.JO,{name:"info",color:X.w.Gray500})})]})}),(0,R.jsx)("th",{style:{width:"25%"},children:(0,R.jsxs)(l.x,{flex:{gap:8,alignItems:"end"},children:["Last Run",(0,R.jsx)(V.u,{position:"top",content:"The status of the last run requested by this sensor",children:(0,R.jsx)(Be.JO,{name:"info",color:X.w.Gray500})})]})})]})}),(0,R.jsx)("tbody",{children:t.map((function(e){return(0,R.jsx)(Fi,{repoAddress:n,sensor:e},e.name)}))})]})},Fi=function(e){var n=e.repoAddress,t=e.sensor,r=(0,D.Ux)(n),i=t.name,o=t.sensorState,s=o.ticks,a=s.length?s[0]:null;return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsx)(ce.c,{repoAddress:n,sensor:t})}),(0,R.jsx)("td",{children:(0,R.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,R.jsx)("span",{style:{fontWeight:500},children:(0,R.jsx)(oe.rU,{to:(0,P.$U)(n,"/sensors/".concat(i)),children:i})}),t.targets&&t.targets.length?(0,R.jsx)(l.x,{flex:{direction:"column",gap:2},children:t.targets.map((function(e){return(0,R.jsx)(Gt.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:n,isJob:!(!r||!(0,D.E8)(r,e.pipelineName))},e.pipelineName)}))}):null,t.metadata.assetKeys&&t.metadata.assetKeys.length?(0,R.jsx)(l.x,{flex:{direction:"column",gap:2},children:t.metadata.assetKeys.map((function(e){return(0,R.jsx)(vr.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,R.jsx)("td",{children:(0,er.F)(t.minIntervalSeconds)}),(0,R.jsx)("td",{children:a?(0,R.jsx)(ft.TW,{tick:a,instigationType:je._5.SENSOR}):(0,R.jsx)("span",{style:{color:X.w.Gray300},children:"None"})}),(0,R.jsx)("td",{children:(0,R.jsx)("div",{style:{display:"flex"},children:(0,R.jsx)(jt.UD,{instigationState:o})})})]},i)},Ti=function(e){(0,g.Px)(),(0,v.j)("Sensors");var n=e.repoAddress,t=(0,qe.$)(n),r=(0,ue.Uz)(n),i=(0,F.a)($i,{variables:{repositorySelector:t,instigationType:je._5.SENSOR},fetchPolicy:"cache-and-network",partialRefetch:!0,notifyOnNetworkStatusChange:!0});return(0,he.C4)(i,5e4),(0,R.jsx)(Te.g,{queryResult:i,allowStaleData:!0,children:function(e){var t=e.sensorsOrError,i=e.unloadableInstigationStatesOrError,o=e.instance;return(0,R.jsx)("div",{children:"PythonError"===t.__typename?(0,R.jsx)(z.T9,{error:t}):"PythonError"===i.__typename?(0,R.jsx)(z.T9,{error:i}):"RepositoryNotFoundError"===t.__typename?(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Definitions not found",description:"Could not load definitions for ".concat(r)})}):t.results.length?(0,R.jsxs)(R.Fragment,{children:[t.results.length>0&&(0,R.jsx)(tr.F,{daemonHealth:o.daemonHealth,padding:{horizontal:24,vertical:16}}),(0,R.jsx)(Oi,{repoAddress:n,sensors:t.results}),(0,R.jsx)(Ri.e,{sensorStates:i.results})]}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"sensors",title:"No sensors defined",description:(0,R.jsxs)("p",{children:[r," does not have any sensors defined. Visit the"," ",(0,R.jsx)("a",{href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors",target:"_blank",rel:"noopener noreferrer",children:"sensors documentation"})," ","for more information about creating sensors in Dagster."]})})})})}})},$i=(0,T.Ps)(ci||(ci=(0,_.Z)(["\n  query SensorsRootQuery(\n    $repositorySelector: RepositorySelector!\n    $instigationType: InstigationType!\n  ) {\n    sensorsOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ...PythonErrorFragment\n      ... on Sensors {\n        results {\n          id\n          ...SensorFragment\n        }\n      }\n    }\n    unloadableInstigationStatesOrError(instigationType: $instigationType) {\n      ... on InstigationStates {\n        results {\n          id\n          ...InstigationStateFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      ...InstanceHealthFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"])),z.Bq,jt.ai,nr,nt.O),Zi=(0,T.Ps)(ui||(ui=(0,_.Z)(["\n  query RepositoryAssetsListQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ... on Repository {\n        id\n        assetNodes {\n          id\n          assetKey {\n            path\n          }\n          opNames\n          description\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n      ... on RepositoryNotFoundError {\n        message\n      }\n    }\n  }\n"]))),zi=function(e){(0,g.Px)();var n=e.repoAddress,t=(0,qe.$)(n),r=(0,F.a)(Zi,{fetchPolicy:"cache-and-network",variables:{repositorySelector:t}}),i=r.data,o=r.error,s=r.loading,a=null===i||void 0===i?void 0:i.repositoryOrError,c=u.useMemo((function(){return("Repository"===(null===a||void 0===a?void 0:a.__typename)?(0,Le.Z)(a.assetNodes):[]).sort((function(e,n){return(0,se.ll)(e.assetKey).localeCompare((0,se.ll)(n.assetKey))}))}),[a]);if(s)return null;var p=(0,ue.Uz)(n);return o||!c?(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Unable to load graphs",description:"Could not load graphs for ".concat(p)})}):c.length?(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"Asset Key"}),(0,R.jsx)("th",{children:"Defined In"})]})}),(0,R.jsx)("tbody",{children:c.map((function(e){return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,R.jsx)(oe.rU,{to:(0,E.p)(e.assetKey),children:(0,se.ll)(e.assetKey)}),(0,R.jsx)(Ui,{children:e.description})]})}),(0,R.jsx)("td",{children:(0,R.jsx)(l.x,{flex:{direction:"column"},children:(0,R.jsx)(S.b,{repoAddress:{name:e.repository.name,location:e.repository.location.name}})})})]},e.id)}))})]}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"No assets found",description:"No @asset definitions for ".concat(p)})})},Ui=kn.ZP.div.withConfig({displayName:"RepositoryAssetsList__Description",componentId:"sc-16at50e-0"})(["color:",";font-size:12px;"],X.w.Gray400),Di=(0,T.Ps)(pi||(pi=(0,_.Z)(["\n  query RepositoryGraphsListQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ... on Repository {\n        id\n        usedSolids {\n          definition {\n            __typename\n            ... on CompositeSolidDefinition {\n              id\n              name\n              description\n            }\n          }\n          invocations {\n            pipeline {\n              id\n              name\n            }\n            solidHandle {\n              handleID\n            }\n          }\n        }\n        pipelines {\n          id\n          description\n          name\n          isJob\n          graphName\n        }\n      }\n      ... on RepositoryNotFoundError {\n        message\n      }\n    }\n  }\n"]))),qi=function(e){(0,g.Px)();var n=e.repoAddress,t=(0,qe.$)(n),r=(0,F.a)(Di,{fetchPolicy:"cache-and-network",variables:{repositorySelector:t}}),i=r.data,o=r.error,s=r.loading,a=null===i||void 0===i?void 0:i.repositoryOrError,c=u.useMemo((function(){if(!a||"Repository"!==a.__typename)return null;var e=new Set(a.pipelines.filter((function(e){return e.isJob&&!(0,se.pv)(e.name)})).map((function(e){return e.graphName}))),t=Array.from(e).map((function(e){return{name:e,path:"/graphs/".concat(e),description:null,repoAddress:n}}));return a.usedSolids.forEach((function(e){"CompositeSolidDefinition"===e.definition.__typename&&t.push({name:e.definition.name,path:"/graphs/".concat(e.invocations[0].pipeline.name,"/").concat(e.invocations[0].solidHandle.handleID,"/"),description:e.definition.description,repoAddress:n})})),t.sort((function(e,n){return e.name.localeCompare(n.name)}))}),[a,n]);if(s)return null;var p=(0,ue.Uz)(n);return o||!c?(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Unable to load graphs",description:"Could not load graphs for ".concat(p)})}):c.length?(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsx)("tr",{children:(0,R.jsx)("th",{children:"Graph"})})}),(0,R.jsx)("tbody",{children:c.map((function(e){var n=e.name,t=e.description,r=e.path,i=e.repoAddress;return(0,R.jsx)("tr",{children:(0,R.jsx)("td",{children:(0,R.jsxs)(en.Z,{direction:"column",spacing:4,children:[(0,R.jsx)(oe.rU,{to:(0,P.rO)(i.name,i.location,r),children:n}),(0,R.jsx)(Li,{children:t})]})})},"".concat(n,"-").concat((0,ue.Uz)(i)))}))})]}):(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(d.t,{icon:"schema",title:"No graphs found",description:"".concat(p," does not have any graphs defined.")})})},Li=kn.ZP.div.withConfig({displayName:"RepositoryGraphsList__Description",componentId:"sc-1wcflj3-0"})(["color:",";font-size:12px;"],X.w.Gray400),Gi=function(e){var n=e.pipelinesOrJobs,t=e.showRepo,r=n.some((function(e){return!e.pipelineOrJob.isJob}));return(0,R.jsxs)(ne.i,{children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{style:{width:"50%",minWidth:"400px"},children:r?"Job or Pipeline":"Job"}),(0,R.jsx)("th",{children:"Schedules"}),(0,R.jsx)("th",{children:"Sensors"}),(0,R.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Recent runs"})]})}),(0,R.jsx)("tbody",{children:n.map((function(e){var n,r,i=e.pipelineOrJob,o=e.repoAddress;return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsxs)(en.Z,{direction:"column",spacing:4,children:[(0,R.jsx)(Gt.h,{isJob:i.isJob,pipelineName:i.name,pipelineHrefContext:o,truncationThreshold:80}),t?(0,R.jsx)(m.YS,{children:(0,ue.Uz)(o)}):null,(0,R.jsx)(Hi,{children:i.description})]})}),(0,R.jsx)("td",{children:null!==(n=i.schedules)&&void 0!==n&&n.length?(0,R.jsx)(en.Z,{direction:"column",spacing:2,children:i.schedules.map((function(e){return(0,R.jsx)(oe.rU,{to:(0,P.$U)(o,"/schedules/".concat(e.name)),children:e.name},e.name)}))}):(0,R.jsx)("div",{style:{color:X.w.Gray200},children:"None"})}),(0,R.jsx)("td",{children:null!==(r=i.sensors)&&void 0!==r&&r.length?(0,R.jsx)(en.Z,{direction:"column",spacing:2,children:i.sensors.map((function(e){return(0,R.jsx)(oe.rU,{to:(0,P.$U)(o,"/sensors/".concat(e.name)),children:e.name},e.name)}))}):(0,R.jsx)("div",{style:{color:X.w.Gray200},children:"None"})}),(0,R.jsx)("td",{children:(0,R.jsx)(en.Z,{direction:"row",spacing:4,alignItems:"center",children:i.runs.map((function(e){return(0,R.jsx)(me.hk,{runId:e.runId,status:e.status,size:12},e.id)}))})})]},"".concat(i.name,"-").concat((0,ue.Uz)(o)))}))})]})},Hi=kn.ZP.div.withConfig({displayName:"PipelineTable__Description",componentId:"sc-3aofwj-0"})(["color:",";font-size:12px;"],X.w.Gray400),Ki=(0,T.Ps)(hi||(hi=(0,_.Z)(["\n  fragment PipelineTableFragment on Pipeline {\n    id\n    description\n    isJob\n    name\n    modes {\n      id\n      name\n    }\n    runs(limit: 5) {\n      id\n      mode\n      runId\n      status\n    }\n    schedules {\n      id\n      name\n      mode\n    }\n    sensors {\n      id\n      name\n      targets {\n        mode\n        pipelineName\n      }\n    }\n  }\n"]))),Ji=(0,T.Ps)(xi||(xi=(0,_.Z)(["\n  query RepositoryPipelinesListQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ... on Repository {\n        id\n        pipelines {\n          id\n          ...PipelineTableFragment\n        }\n      }\n      ... on RepositoryNotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"])),Ki),Bi=function(e){(0,g.Px)();var n=e.display,t=e.repoAddress,r=(0,qe.$)(t),i=(0,F.a)(Ji,{fetchPolicy:"cache-and-network",variables:{repositorySelector:r}}),o=i.data,s=i.error,a=i.loading,c=null===o||void 0===o?void 0:o.repositoryOrError,p=u.useMemo((function(){return c&&"Repository"===c.__typename?c.pipelines.filter((function(e){return!(0,se.pv)(e.name)})).map((function(e){return{pipelineOrJob:e,repoAddress:t}})).filter((function(e){var t=e.pipelineOrJob;return"jobs"===n?t.isJob:!t.isJob})):null}),[n,c,t]);if(a)return null;var h=(0,ue.Uz)(t);return s||!p?(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Unable to load pipelines",description:"Could not load pipelines for ".concat(h)})}):p.length?(0,R.jsx)(Gi,{pipelinesOrJobs:p,showRepo:!1}):(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(d.t,{icon:"job",title:"jobs"===n?"No jobs found":"No pipelines found",description:(0,R.jsx)("div",{children:"".concat(h,"jobs"===n?" does not have any jobs defined.":" does not have any pipelines defined.")})})})},Wi=function(e){var n=e.repoAddress,t=(0,p.UO)().tab,r=(0,ue.Uz)(n),i=(0,D.Ux)(n),o=u.useMemo((function(){return null===i||void 0===i?void 0:i.repository.pipelines.some((function(e){return!e.isJob}))}),[i]),s=u.useMemo((function(){return[{text:"Assets",href:(0,P.$U)(n,"/assets")},{text:"Jobs",href:(0,P.$U)(n,"/jobs")},o?{text:"Pipelines",href:(0,P.$U)(n,"/pipelines")}:null,{text:"Graphs",href:(0,P.$U)(n,"/graphs")},{text:"Ops",href:(0,P.$U)(n,"/ops")},{text:"Schedules",href:(0,P.$U)(n,"/schedules")},{text:"Sensors",href:(0,P.$U)(n,"/sensors")}].filter(Boolean)}),[o,n]);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%"},children:[(0,R.jsx)(x.m,{title:(0,R.jsx)(m.X6,{children:r}),tags:(0,R.jsx)(f.V,{icon:"folder",children:"Repository"}),tabs:(0,R.jsx)(j.mQ,{size:"small",selectedTabId:function(){switch(t){case"schedules":return"Schedules";case"sensors":return"Sensors";case"solids":return"Solids";case"ops":return"Ops";case"graphs":return"Graphs";case"jobs":default:return"Jobs";case"pipelines":return"Pipelines";case"assets":return"Assets"}}(),children:s.map((function(e){var n=e.href,t=e.text;return(0,R.jsx)(w.f,{id:t,title:t,to:n},t)}))})}),(0,R.jsx)(Mi,{children:(0,R.jsxs)(p.rs,{children:[(0,R.jsx)(p.AW,{path:"/locations/:repoPath/schedules",children:(0,R.jsx)(_i,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/sensors",children:(0,R.jsx)(Ti,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/assets(/?.*)",children:(0,R.jsx)(zi,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/ops/:name?",children:(0,R.jsx)(ji,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/solids/:name?",render:function(e){return(0,R.jsx)(p.l_,{to:e.match.url.replace(/\/solids\/?/,"/ops/")})}}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/pipelines",children:(0,R.jsx)(Bi,{display:"pipelines",repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/jobs",children:(0,R.jsx)(Bi,{display:"jobs",repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/graphs",exact:!0,children:(0,R.jsx)(qi,{repoAddress:n})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/(.*)?",render:function(){return(0,R.jsx)(p.l_,{to:s[0].href})}})]})})]})},Mi=kn.ZP.div.withConfig({displayName:"WorkspaceRepoRoot__Container",componentId:"sc-1buojnr-0"})(["flex:1;flex-grow:1;min-height:0;"]),Qi=t(31834),Vi=function(e){var n=e.repoAddress,t=e.schedules,r=u.useRef(null),i=(0,xr.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),o=i.getTotalSize(),s=i.getVirtualItems();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Qi.o,{}),(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsx)(Nr.W2,{ref:r,children:(0,R.jsx)(Nr.Nh,{$totalHeight:o,children:s.map((function(e){var r=e.index,i=e.key,o=e.size,s=e.start,a=t[r];return(0,R.jsx)(Qi.i,{name:a.name,repoAddress:n,height:o,start:s},i)}))})})})]})},Yi=function(e){var n=e.repoAddress;(0,g.Px)();var t=u.useState(""),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=(0,qe.$)(n),a=(0,F.a)(Xi,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:s}}),c=a.data,p=a.loading,h=(0,he.C4)(a,he.dT),x=i.trim().toLocaleLowerCase(),m=x.length>0,f=u.useMemo((function(){return"Repository"===(null===c||void 0===c?void 0:c.repositoryOrError.__typename)?c.repositoryOrError.schedules:[]}),[c]),j=u.useMemo((function(){var e=x.toLocaleLowerCase();return f.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}),[f,x]);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"schedules",refreshState:h,queryData:a}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(cr.oi,{icon:"search",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter by schedule name\u2026",style:{width:"340px"}})}),p&&!c?(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(Ye.$,{purpose:"page"})}):function(){if(p&&!c)return(0,R.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,R.jsx)(Ye.$,{purpose:"body-text"}),(0,R.jsx)("div",{style:{color:X.w.Gray600},children:"Loading schedules\u2026"})]})});var e=(0,ue.Uz)(n);return j.length?(0,R.jsx)(Vi,{repoAddress:n,schedules:j}):m?(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No matching schedules",description:(0,R.jsxs)("div",{children:["No schedules matching ",(0,R.jsx)("strong",{children:i})," were found in ",e]})})}):(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No schedules",description:"No schedules were found in ".concat(e)})})}()]})},Xi=(0,T.Ps)(mi||(mi=(0,_.Z)(["\n  query WorkspaceSchedulesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        schedules {\n          id\n          name\n          description\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.Bq),eo=t(19377),no=function(e){var n=e.repoAddress,t=e.sensors,r=u.useRef(null),i=(0,xr.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),o=i.getTotalSize(),s=i.getVirtualItems();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(eo.K,{}),(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsx)(Nr.W2,{ref:r,children:(0,R.jsx)(Nr.Nh,{$totalHeight:o,children:s.map((function(e){var r=e.index,i=e.key,o=e.size,s=e.start,a=t[r];return(0,R.jsx)(eo.R,{name:a.name,repoAddress:n,height:o,start:s},i)}))})})})]})},to=function(e){var n=e.repoAddress;(0,g.Px)();var t=u.useState(""),r=(0,O.Z)(t,2),i=r[0],o=r[1],s=(0,qe.$)(n),a=(0,F.a)(ro,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:s}}),c=a.data,p=a.loading,h=(0,he.C4)(a,he.dT),x=i.trim().toLocaleLowerCase(),m=x.length>0,f=u.useMemo((function(){return"Repository"===(null===c||void 0===c?void 0:c.repositoryOrError.__typename)?c.repositoryOrError.sensors:[]}),[c]),j=u.useMemo((function(){var e=x.toLocaleLowerCase();return f.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}),[f,x]);return(0,R.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsx)(Zr,{repoAddress:n,tab:"sensors",refreshState:h,queryData:a}),(0,R.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,R.jsx)(cr.oi,{icon:"search",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter by sensor name\u2026",style:{width:"340px"}})}),p&&!c?(0,R.jsx)(l.x,{padding:64,children:(0,R.jsx)(Ye.$,{purpose:"page"})}):function(){if(p&&!c)return(0,R.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,R.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,R.jsx)(Ye.$,{purpose:"body-text"}),(0,R.jsx)("div",{style:{color:X.w.Gray600},children:"Loading sensors\u2026"})]})});var e=(0,ue.Uz)(n);return j.length?(0,R.jsx)(no,{repoAddress:n,sensors:j}):m?(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No matching sensors",description:(0,R.jsxs)("div",{children:["No sensors matching ",(0,R.jsx)("strong",{children:i})," were found in ",e]})})}):(0,R.jsx)(l.x,{padding:{top:20},children:(0,R.jsx)(d.t,{icon:"search",title:"No sensors",description:"No sensors were found in ".concat(e)})})}()]})},ro=(0,T.Ps)(fi||(fi=(0,_.Z)(["\n  query WorkspaceSensorsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        sensors {\n          id\n          name\n          description\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.Bq),io=t(36114),oo=function(){var e=(0,p.UO)().repoPath,n=u.useContext(D.C5),t=(0,io.g)(e);return t?n.loading?(0,R.jsx)("div",{}):n.allRepos.find((function(e){return e.repository.name===t.name&&e.repositoryLocation.name===t.location}))?(0,R.jsxs)(p.rs,{children:[(0,R.jsx)(p.AW,{path:"/locations/:repoPath/assets",exact:!0,children:(0,R.jsx)(zr,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/jobs",exact:!0,children:(0,R.jsx)(Wr,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/schedules",exact:!0,children:(0,R.jsx)(Yi,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/sensors",exact:!0,children:(0,R.jsx)(to,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/graphs",exact:!0,children:(0,R.jsx)(Hr,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/ops/:name?",exact:!0,children:(0,R.jsx)(Pi,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/graphs/(/?.*)",children:(0,R.jsx)(ar,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)","/locations/:repoPath/pipeline_or_job/(/?.*)"],children:(0,R.jsx)(et,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/schedules/:scheduleName/:runTab?",children:(0,R.jsx)(Qt,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/sensors/:sensorName",children:(0,R.jsx)(or,{repoAddress:t})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/asset-groups/:groupName/list(/?.*)"],children:(0,R.jsx)(A,{repoAddress:t,tab:"list"})}),(0,R.jsx)(p.AW,{path:["/locations/:repoPath/asset-groups/:groupName/(/?.*)","/locations/:repoPath/asset-groups/:groupName"],children:(0,R.jsx)(A,{repoAddress:t,tab:"lineage"})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath/:tab?",children:(0,R.jsx)(Wi,{repoAddress:t})})]}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Unknown code location",description:(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{children:(0,R.jsx)("strong",{children:(0,ue.Uz)(t)})}),"  is not loaded in the current workspace."]})})}):(0,R.jsx)(l.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Invalid code location path",description:(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{children:(0,R.jsx)("strong",{children:e})}),"  is not a valid code location path."]})})})},so=function(){return(0,R.jsx)(c.M,{children:(0,R.jsxs)(p.rs,{children:[(0,R.jsx)(p.AW,{path:["/locations/pipelines/:pipelinePath","/locations/jobs/:pipelinePath"],children:(0,R.jsx)(Ei,{})}),(0,R.jsx)(p.AW,{path:"/locations/:repoPath",children:(0,R.jsx)(oo,{})})]})})},ao=so}}]);
//# sourceMappingURL=284.4a7a9764.chunk.js.map