"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[960],{96391:function(e,n,t){t.d(n,{i:function(){return s}});var r=t(7838),i=t(325),o=t(39061),a=t(32289),s=function(e){var n=e.edges,t=e.highlighted,o=e.strokeWidth,s=void 0===o?4:o,c=e.baseColor,u=void 0===c?r.w.KeylineGray:c;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l,{color:u,edges:n,strokeWidth:s}),(0,a.jsx)(l,{color:r.w.Blue500,edges:n.filter((function(e){var n=e.fromId,r=e.toId;return t===n||t===r})),strokeWidth:s})]})},l=i.memo((function(e){var n=e.edges,t=e.color,r=e.strokeWidth;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("marker",{id:"arrow".concat(btoa(t)),viewBox:"0 0 8 10",refX:"1",refY:"5",markerUnits:"strokeWidth",markerWidth:r,orient:"auto",children:(0,a.jsx)("path",{d:"M 0 0 L 8 5 L 0 10 z",fill:t})})}),n.map((function(e,n){return(0,a.jsx)("path",{d:(0,o.cD)({source:e.from,target:e.to}),stroke:t,strokeWidth:r,fill:"none",markerEnd:"url(#arrow".concat(btoa(t),")")},n)}))]})}))},13253:function(e,n,t){t.d(n,{OK:function(){return en},md:function(){return Xe},CZ:function(){return We}});var r=t(47427),i=t(59019),o=t(85358),a=t(19065),s=t(95764),l=t(922),c=t(95550),u=t.n(c),d=t(89646),p=t(17912),f=t(7838),m=t(50346),h=t(32030),g=t(51550),y=t.n(g),v=t(58891),x=t.n(v),j=t(40839),b=t.n(j),S=t(325),N=t(19102),w=t(60445),C=t(31522),E=t(11831),P=t(75453),k=t(24971),_=t(34595),K=t(14156),Z=t(63579),I=t(64451),O=t(37099),A=t(33902),M=t(32289),F=function(e){var n=e.assetKeys,t=e.preferredJobName,r=e.intent,i=void 0===r?"none":r,s=(0,Z.TE)().canLaunchPipelineExecution,l=(0,(0,I.C)().useLaunchWithTelemetry)(),c=S.useState({type:"none"}),d=(0,a.Z)(c,2),p=d[0],f=d[1],m=(0,C.x)(),h=n.length>1?" (".concat(n.length,")"):"",g="Observe sources ".concat(h);if(!n.length)return(0,M.jsx)("span",{});if(!s.enabled)return(0,M.jsx)(E.u,{content:"You do not have permission to observe source assets",children:(0,M.jsx)(P.zx,{intent:i,icon:(0,M.jsx)(k.JO,{name:"observation"}),disabled:!0,children:g})});var y=function(){var e=(0,o.Z)(u().mark((function e(r){var i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==p.type){e.next=2;break}return e.abrupt("return");case 2:return f({type:"loading"}),e.next=5,m.query({query:w.U2,variables:{assetKeys:n.map((function(e){return{path:e.path}}))}});case 5:if(!(i=e.sent).data.assetNodeDefinitionCollisions.length){e.next=10;break}return(0,K._)((0,w.VF)(i.data)),f({type:"none"}),e.abrupt("return");case 10:return o=i.data.assetNodes,a=r.shiftKey,e.next=14,L(m,o,a,t);case 14:if("error"!==(s=e.sent).type){e.next=19;break}return(0,K._)({title:"Unable to observe",body:s.error}),f({type:"none"}),e.abrupt("return");case 19:if("single-run"!==s.type){e.next=25;break}return e.next=22,l({executionParams:s.executionParams},"toast");case 22:f({type:"none"}),e.next=26;break;case 25:f(s);case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,M.jsx)(P.zx,{intent:i,onClick:y,icon:"loading"===p.type?(0,M.jsx)(_.$,{purpose:"body-text"}):(0,M.jsx)(k.JO,{name:"observation"}),children:g})};function L(e,n,t,r){return R.apply(this,arguments)}function R(){return(R=(0,o.Z)(u().mark((function e(n,t,r,i){var o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return!e.isSource}))){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more non-source assets are selected and cannot be observed."});case 2:if(!t.some((function(e){return!e.isObservable}))){e.next=4;break}return e.abrupt("return",{type:"error",error:"One or more of the selected source assets are unversioned and cannot be observed."});case 4:if(s=(0,O.kQ)((null===(o=t[0])||void 0===o?void 0:o.repository.name)||"",(null===(a=t[0])||void 0===a?void 0:a.repository.location.name)||""),l=(0,A.Uz)(s),t.every((function(e){return e.repository.name===s.name&&e.repository.location.name===s.location}))){e.next=8;break}return e.abrupt("return",{type:"error",error:"Assets must be in ".concat(l," to be materialized together.")});case 8:if(c=(0,w.ZP)(t,i)){e.next=11;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same job to be observed together."});case 11:return e.abrupt("return",{type:"single-run",executionParams:(0,w.Ot)(s,c,t,[])});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T,z,D,$,G,B=t(85532),q=t(76867),U=t(66956),V=t(2112),J=t(19910),Q=t(65164),H=t(50741),Y=t(96391),W=t(99500),X=t(73701),ee=t(3159),ne=t(12436),te=t(57872),re=t(80339),ie=function(e){var n=e.pipelineSelector,t=(0,X.a)(oe,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:{pipelineSelector:n}}),r=n.repositoryName,i=n.repositoryLocationName,o=(0,O.kQ)(r,i);return(0,M.jsx)(H.g,{queryResult:t,children:function(e){var n=e.pipelineSnapshotOrError;return"PipelineSnapshot"!==n.__typename?(0,M.jsx)(te.Q,{isGraph:!0,result:n,repoAddress:o}):(0,M.jsx)(re.S,{container:n,repoAddress:o})}})},oe=(0,ee.Ps)(T||(T=(0,W.Z)(["\n  query AssetGraphSidebarQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        ...SidebarRootContainerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),re.q,ne.Bq),ae=t(9),se=t(7748),le=t(38376),ce=t(71725),ue=t(74549),de=t(34449),pe=t(61460),fe=t(7713),me=t(12745),he=t(53857),ge=t(4041),ye=t(79986),ve=t(73522),xe=t(13885),je=t(6466),be=t(55113),Se=t(55419),Ne=t(39061),we=t(90815),Ce=t(4735),Ee=t(62e3),Pe=t(55752),ke=t(76336),_e=t(52598),Ke=function(e){var n=e.latest,t=e.liveData,r="Run"===(null===n||void 0===n?void 0:n.runOrError.__typename)?null===n||void 0===n?void 0:n.runOrError:null,i=null===r||void 0===r?void 0:r.repositoryOrigin,o=i?(0,O.kQ)(i.repositoryName,i.repositoryLocationName):null,a=(0,ke.Ux)(o);if(!n)return(0,M.jsx)(h.x,{padding:{top:16,bottom:32},children:(0,M.jsx)(d.t,{icon:"materialization",title:"No materializations",description:"No materializations were found for this asset."})});var s=n,l=null===s||void 0===s?void 0:s.assetLineage;return(0,M.jsx)(Ze,{children:(0,M.jsxs)("tbody",{children:[(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Run"}),(0,M.jsx)("td",{children:r?(0,M.jsxs)("div",{children:[(0,M.jsxs)(h.x,{children:["Run ",(0,M.jsx)(ue.rU,{to:"/runs/".concat(s.runId,"?timestamp=").concat(s.timestamp),children:(0,M.jsx)(me.fv,{children:(0,Pe.EI)({runId:s.runId})})})]}),!(0,Ne.pv)(r.pipelineName)&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.x,{padding:{left:8,top:4},children:(0,M.jsx)(Ee.h,{showIcon:!0,pipelineName:r.pipelineName,pipelineHrefContext:o||"repo-unknown",snapshotId:r.pipelineSnapshotId,isJob:(0,ke.E8)(a,r.pipelineName)})}),(0,M.jsxs)(je.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,M.jsx)(k.JO,{name:"linear_scale",color:f.w.Gray400}),(0,M.jsx)(ue.rU,{to:(0,Pe.tA)(r,s),children:s.stepKey})]})]})]}):"No materialization events"})]}),null!==n&&void 0!==n&&n.partition?(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Latest partition"}),(0,M.jsx)("td",{children:n?n.partition:"No materialization events"})]}):null,(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Timestamp"}),(0,M.jsx)("td",{children:(0,M.jsxs)(h.x,{flex:{gap:8,alignItems:"center"},children:[s?(0,M.jsx)(Se.E,{timestamp:{ms:Number(s.timestamp)}}):"No materialization events",t&&(0,M.jsx)(we.T3,{liveData:t})]})})]}),null!==l&&void 0!==l&&l.length?(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Parent assets"}),(0,M.jsx)("td",{children:(0,M.jsx)(_e.i,{elements:l,timestamp:s.timestamp})})]}):null,null===s||void 0===s?void 0:s.metadataEntries.map((function(e){return(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:e.label}),(0,M.jsx)("td",{children:(0,M.jsx)(Ce.BL,{entry:e,expandSmallValues:!0,repoLocation:null===o||void 0===o?void 0:o.location})}),(0,M.jsx)("td",{children:e.description})]},"metadata-".concat(e.label))}))]})})},Ze=(0,l.ZP)(be.i).withConfig({displayName:"LastMaterializationMetadata__MetadataTable",componentId:"sc-1u4xf4p-0"})(["td:first-child{white-space:nowrap;width:1px;max-width:400px;word-break:break-word;overflow:hidden;text-overflow:ellipsis;}"]),Ie=((0,ee.Ps)(z||(z=(0,W.Z)(["\n  fragment LatestMaterializationMetadataFragment on MaterializationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        pipelineName\n        pipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      assetKey {\n        path\n      }\n      partitions\n    }\n  }\n  ","\n"])),Ce.it),t(33682)),Oe=t(66855),Ae=function(e){var n=e.assetKey,t=e.assetLastMaterializedAt,r=e.assetHasDefinedPartitions,i=e.liveData,o=(0,Oe.fE)(n,{},{assetHasDefinedPartitions:r}),a=o.materializations,s=o.observations,l=o.loadedPartitionKeys,c=o.loading,u=o.refetch,d=o.xAxis,p=(0,Ie.L)(d,a,s,l);return S.useEffect((function(){u()}),[t,u]),c?(0,M.jsx)(h.x,{padding:{vertical:20},children:(0,M.jsx)(_.$,{purpose:"section"})}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(xe.b,{liveData:i,border:{side:"top",width:1,color:f.w.KeylineGray}}),(0,M.jsx)(ve.j,{liveData:i,border:{side:"top",width:1,color:f.w.KeylineGray}}),(null===i||void 0===i?void 0:i.freshnessPolicy)&&(0,M.jsx)(he.pC,{title:"Freshness Policy",children:(0,M.jsxs)(h.x,{margin:{horizontal:24,vertical:12},flex:{gap:12,alignItems:"center"},children:[(0,M.jsx)(ye.vy,{liveData:i}),(0,M.jsx)(me.uT,{children:(0,ye.jY)(i.freshnessPolicy)})]})}),(0,M.jsx)(he.pC,{title:"Materialization in Last Run",children:a[0]?(0,M.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,M.jsx)(Ke,{latest:a[0],liveData:i})}):(0,M.jsx)(h.x,{margin:{horizontal:24,vertical:12},style:{color:f.w.Gray500,fontSize:"0.8rem"},children:"No materializations found"})}),(0,M.jsx)(he.pC,{title:"Metadata Plots",children:(0,M.jsx)(ge.l,{xAxis:d,asSidebarSection:!0,groups:p,columnCount:1})})]})},Me=t(11936),Fe=t(95609),Le=t(77171),Re=t(47619),Te=t(33208),ze=t(10922),De=t(53218),$e=t(14848),Ge=function(e){var n,t,r,i=e.assetNode,o=e.liveData,a=i.assetKey,s=(0,Re.m)([a]),l=(0,X.a)(Je,{variables:{assetKey:{path:a.path}},fetchPolicy:"cache-and-network"}).data,c=(o||{}).lastMaterialization,u="AssetNode"===(null===l||void 0===l?void 0:l.assetNodeOrError.__typename)?l.assetNodeOrError:null;if(!u)return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(qe,{assetKey:a}),(0,M.jsx)(h.x,{padding:{vertical:64},children:(0,M.jsx)(_.$,{purpose:"section"})})]});var d=(0,O.kQ)(u.repository.name,u.repository.location.name),p=(0,fe.U6)(u),m=p.assetMetadata,g=p.assetType,y=g||m.length>0,v=null===(n=u.configField)||void 0===n?void 0:n.configType,x=(null===(t=u.op)||void 0===t?void 0:t.metadata)&&(0,De.D)(u.op.metadata);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(qe,{assetKey:a,opName:null===(r=u.op)||void 0===r?void 0:r.name}),(0,M.jsx)(pe.N,{assetKey:a,loadedFromRepo:d,padded:!1}),(0,M.jsx)(Ae,{assetKey:a,assetLastMaterializedAt:null===c||void 0===c?void 0:c.timestamp,assetHasDefinedPartitions:!!u.partitionDefinition,liveData:o}),(0,M.jsx)("div",{style:{borderBottom:"2px solid ".concat(f.w.Gray300)}}),(0,Ne.Pz)(i)&&(0,M.jsx)(Me.x,{}),(u.description||(null===x||void 0===x?void 0:x.SidebarComponent)||!y)&&(0,M.jsxs)(he.pC,{title:"Description",children:[(0,M.jsx)(h.x,{padding:{vertical:16,horizontal:24},children:(0,M.jsx)(ze.d,{description:u.description||"No description provided."})}),u.op&&(null===x||void 0===x?void 0:x.SidebarComponent)&&(0,M.jsx)(h.x,{padding:{bottom:16,horizontal:24},children:(0,M.jsx)(x.SidebarComponent,{definition:u.op,repoAddress:d})})]}),u.opVersion&&(0,M.jsx)(he.pC,{title:"Code Version",children:(0,M.jsx)(h.x,{padding:{vertical:16,horizontal:24},children:(0,M.jsx)($e.G,{children:u.opVersion})})}),v&&(0,M.jsx)(he.pC,{title:"Config",children:(0,M.jsx)(h.x,{padding:{vertical:16,horizontal:24},children:(0,M.jsx)(ce.L,{type:v,typesInScope:v.recursiveConfigTypes})})}),m.length>0&&(0,M.jsx)(he.pC,{title:"Metadata",children:(0,M.jsx)(fe.mQ,{assetMetadata:m,repoLocation:null===d||void 0===d?void 0:d.location})}),g&&(0,M.jsx)(Be,{assetType:g}),u.partitionDefinition&&(0,M.jsx)(he.pC,{title:"Partitions",children:(0,M.jsxs)(h.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:16},children:[(0,M.jsx)("p",{children:u.partitionDefinition.description}),(0,M.jsx)(Fe.m,{assetKey:u.assetKey,data:s})]})})]})},Be=function(e){var n=e.assetType;return(0,M.jsx)(he.pC,{title:"Type",children:(0,M.jsx)(Te.Ot,{type:n})})},qe=function(e){var n=e.assetKey,t=e.opName,r=(0,Ne.ll)(n);return(0,M.jsxs)(h.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,M.jsxs)(he.R8,{style:{marginBottom:0,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,M.jsx)(h.x,{children:r}),r!==t?(0,M.jsxs)(h.x,{style:{opacity:.5},flex:{gap:6,alignItems:"center"},children:[(0,M.jsx)(k.JO,{name:"op",size:16}),t]}):void 0]}),(0,M.jsxs)(Ue,{to:(0,Le.p)(n),children:["View in Asset Catalog ",(0,M.jsx)(k.JO,{name:"open_in_new",color:f.w.Link})]})]})},Ue=(0,l.ZP)(ue.rU).withConfig({displayName:"SidebarAssetInfo__AssetCatalogLink",componentId:"qra0a8-0"})(["display:flex;gap:5px;padding:6px;margin:-6px;align-items:center;white-space:nowrap;"]),Ve=(0,ee.Ps)(D||(D=(0,W.Z)(["\n  fragment SidebarAssetFragment on AssetNode {\n    id\n    description\n    ...AssetNodeConfigFragment\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    partitionDefinition {\n      description\n    }\n    assetKey {\n      path\n    }\n    op {\n      name\n      description\n      metadata {\n        key\n        value\n      }\n    }\n    opVersion\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n\n    ...AssetNodeOpMetadataFragment\n  }\n  ","\n  ","\n  ","\n"])),de.r,fe.Ws,Ce.it),Je=(0,ee.Ps)($||($=(0,W.Z)(["\n  query SidebarAssetQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        ...SidebarAssetFragment\n      }\n    }\n  }\n  ","\n"])),Ve),Qe=t(18819);var He=(0,ee.Ps)(G||(G=(0,W.Z)(["\n  query AssetForNavigationQuery($key: AssetKeyInput!) {\n    assetOrError(assetKey: $key) {\n      __typename\n      ... on Asset {\n        id\n        definition {\n          id\n          opNames\n          jobNames\n          groupName\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),Ye=t(64424),We=.6,Xe=.15,en=function(e){var n=(0,Qe.u)(e.explorerPath.opsQuery,e.fetchOptions),t=n.fetchResult,r=n.assetGraphData,i=n.graphQueryItems,o=n.graphAssetKeys,a=n.allAssetKeys,l=n.applyingEmptyDefault,c=(0,Ye.l)(o),u=c.liveDataByNode,p=c.liveDataRefreshState,f=c.runWatchers;return(0,M.jsx)(H.g,{allowStaleData:!0,queryResult:t,children:function(){return r&&a?(0,Ne.vm)(r)?(0,M.jsx)(d.t,{icon:"error",title:"Cycle detected",description:"Assets dependencies form a cycle"}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(nn,(0,s.Z)({assetGraphData:r,allAssetKeys:a,graphQueryItems:i,applyingEmptyDefault:l,liveDataRefreshState:p,liveDataByNode:u},e),e.explorerPath.pipelineName),f]}):(0,M.jsx)(d.t,{icon:"error",title:"Query Error"})}})},nn=function(e){var n=e.options,t=e.setOptions,r=e.explorerPath,l=e.onChangeExplorerPath,c=e.onNavigateToSourceAssetNode,d=e.liveDataRefreshState,g=e.liveDataByNode,v=e.assetGraphData,j=e.graphQueryItems,E=e.applyingEmptyDefault,P=e.fetchOptions,k=function(){var e=(0,C.x)();return S.useCallback(function(){var n=(0,o.Z)(u().mark((function n(t){var r,i,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:He,variables:{key:t}});case 2:if(r=n.sent,"Asset"!==(null===(i=r.data)||void 0===i?void 0:i.assetOrError.__typename)||null===i||void 0===i||!i.assetOrError.definition){n.next=7;break}return o=i.assetOrError.definition,n.abrupt("return",{assetKey:t,opNames:o.opNames,jobName:o.jobNames.find((function(e){return!(0,Ne.pv)(e)}))||null,groupName:o.groupName,repoAddress:o.repository?(0,O.kQ)(o.repository.name,o.repository.location.name):null});case 7:return n.abrupt("return",{assetKey:t,opNames:[],jobName:null,groupName:null,repoAddress:null});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e])}(),_=S.useState(null),K=(0,a.Z)(_,2),Z=K[0],I=K[1],A=r.opNames[r.opNames.length-1].split(","),L=Object.values(v.nodes).filter((function(e){return A.includes((0,Ne.Je)(e.definition.assetKey))})),R=L[L.length-1],T=(0,q.oJ)(v),z=T.layout,D=T.loading,$=T.async,G=S.useRef(),H=S.useCallback(function(){var e=(0,o.Z)(u().mark((function e(n,t,o){var a,d,p,f,m,h,g,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),a=(0,Ne.Je)(t),d=null===o||void 0===o?void 0:o.definition){e.next=9;break}return e.t0=c,e.next=7,k(t);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:p=a,(n.shiftKey||n.metaKey)&&(f=[a],n.shiftKey&&R&&o&&(m=on({graph:v,from:R,to:o})).length&&(f=m),h=r.opNames[0].split(","),p=(h.includes(a)?b()(h,a):x()([].concat((0,i.Z)(h),(0,i.Z)(f)))).join(",")),(g=null===z||void 0===z?void 0:z.nodes[p[p.length-1]])&&(null===(y=G.current)||void 0===y||y.zoomToSVGCoords(g.bounds.x,g.bounds.y,!0)),l((0,s.Z)((0,s.Z)({},r),{},{opNames:[p],opsQuery:d?r.opsQuery:"".concat(r.opsQuery,',++"').concat(a,'"++'),pipelineName:r.pipelineName}),"replace");case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),[r,l,c,k,R,v,z]),W=S.useState(null),X=(0,a.Z)(W,2),ee=X[0],ne=X[1],te=ee!==z;S.useEffect((function(){te&&z&&G.current&&(R?G.current.focus():G.current.autocenter(!1),ne(z))}),[te,R,z,G]);var re=!(!z||!Object.keys(z.groups).length);return(0,M.jsx)(p.OS,{identifier:"explorer",firstInitialPercent:70,firstMinSize:400,first:(0,M.jsxs)(M.Fragment,{children:[0===j.length?(0,M.jsx)(J.LS,{nodeType:"asset",isGraph:!0}):E?(0,M.jsx)(J.K4,{nodeType:"asset"}):0===Object.keys(v.nodes).length?(0,M.jsx)(J.VQ,{nodeType:"asset"}):void 0,D||!z?(0,M.jsx)(J.W_,{async:$,nodeType:"asset"}):(0,M.jsx)(B.l,{ref:function(e){return G.current=e||void 0},interactor:B.l.Interactors.PanAndZoom,graphWidth:z.width,graphHeight:z.height,graphHasNoMinimumZoom:re,onClick:function(){return l((0,s.Z)((0,s.Z)({},r),{},{pipelineName:r.pipelineName,opNames:[]}),"replace")},onArrowKeyDown:function(e,n){if(z){var t=(0,s.Z)((0,s.Z)({},z),{},{nodes:y()(z.nodes,(function(e){var n;return!(null===(n=v.nodes[e.id])||void 0===n||!n.definition)}))}),r=(0,U.mh)(t,R.id,n),i=r&&v.nodes[r];i&&G.current&&(H(e,i.assetKey,i),G.current.zoomToSVGBox(z.nodes[r].bounds,!0))}},onDoubleClick:function(e){var n;null===(n=G.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1,children:function(e){var n=e.scale;return(0,M.jsxs)(tn,{width:z.width,height:z.height,children:[(0,M.jsx)(Y.i,{highlighted:Z,edges:z.edges,strokeWidth:re?Math.max(4,3/n):4,baseColor:re&&n<Xe?f.w.Gray400:f.w.KeylineGray}),Object.values(z.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,M.jsx)("foreignObject",(0,s.Z)((0,s.Z)({},e.bounds),{},{onDoubleClick:function(n){if(G.current){var t=G.current.scaleForSVGBounds(e.bounds.width,e.bounds.height);G.current.zoomToSVGBox(e.bounds,!0,.9*t),n.stopPropagation()}},children:(0,M.jsx)(ae.l,{group:e,scale:n})}),e.id)})),Object.values(z.nodes).map((function(e){var t=e.id,r=e.bounds,i=v.nodes[t],o=JSON.parse(t);if(!(re&&n<Xe))return(0,S.createElement)("foreignObject",(0,s.Z)((0,s.Z)({},r),{},{key:t,onMouseEnter:function(){return I(t)},onMouseLeave:function(){return I(null)},onClick:function(e){return H(e,{path:o},i)},onDoubleClick:function(e){var n;null===(n=G.current)||void 0===n||n.zoomToSVGBox(r,!0,1.2),e.stopPropagation()},style:{overflow:"visible"}}),i?n<We?(0,M.jsx)(se.t$,{definition:i.definition,liveData:g[i.id],selected:L.includes(i)}):(0,M.jsx)(se.p4,{definition:i.definition,liveData:g[i.id],selected:L.includes(i)}):(0,M.jsx)(le.w,{assetKey:{path:o}}))}))]})}}),t&&(0,M.jsx)(V.cY,{children:(0,M.jsx)(m.X,{format:"switch",label:"View as Asset Graph",checked:n.preferAssetRendering,onChange:function(){l((0,s.Z)((0,s.Z)({},r),{},{opNames:L.length&&L[0].definition.opNames.length?L[0].definition.opNames:[]}),"replace"),t((0,s.Z)((0,s.Z)({},n),{},{preferAssetRendering:!n.preferAssetRendering}))}})}),(0,M.jsx)(h.x,{flex:{direction:"column",alignItems:"flex-end",gap:8},style:{position:"absolute",right:12,top:8},children:(0,M.jsxs)(h.x,{flex:{alignItems:"center",gap:12},children:[(0,M.jsx)(N.xi,{refreshState:d,dataDescription:"materializations"}),(0,M.jsx)(F,{preferredJobName:r.pipelineName,assetKeys:(L.length?L:Object.values(v.nodes)).filter((function(e){return e.definition.isObservable})).map((function(e){return e.assetKey}))}),(0,M.jsx)(w.XE,{preferredJobName:r.pipelineName,liveDataForStale:g,scope:L.length?{selected:L.map((function(e){return e.definition}))}:{all:Object.values(v.nodes).map((function(e){return e.definition}))}})]})}),(0,M.jsxs)(V.U0,{children:[e.fetchOptionFilters,(0,M.jsx)(Q.j,{items:j,value:r.opsQuery,placeholder:"Type an asset subset\u2026",onChange:function(e){return l((0,s.Z)((0,s.Z)({},r),{},{opsQuery:e}),"replace")},popoverPosition:"bottom-left"})]})]}),second:1===L.length&&L[0]?(0,M.jsx)(V.Ui,{children:(0,M.jsx)(V.zI,{children:(0,M.jsx)(Ge,{assetNode:L[0],liveData:g[L[0].id]})})}):P.pipelineSelector?(0,M.jsx)(V.Ui,{children:(0,M.jsx)(V.zI,{children:(0,M.jsx)(ie,{pipelineSelector:P.pipelineSelector})})}):null})},tn=l.ZP.svg.withConfig({displayName:"AssetGraphExplorer__SVGContainer",componentId:"hnrxmo-0"})(["overflow:visible;border-radius:0;"]),rn=function(e){for(var n=e.graph,t=e.from,r=e.to,o=[t];o.length;){var a=o.pop(),s=(0,i.Z)(Object.keys(n.downstream[a.id]||{})).map((function(e){return n.nodes[e]})).filter(Boolean);if(s.some((function(e){return e.id===r.id})))return"downstream";o.push.apply(o,(0,i.Z)(s))}return"upstream"},on=function e(n){var t=n.graph,o=n.from,a=n.to,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!o)return[];if(o.id===a.id)return(0,i.Z)(a.definition.opNames);if(0===s.length&&"upstream"===rn({graph:t,from:o,to:a})){var l=[a,o];o=l[0],a=l[1]}var c,u=(0,i.Z)(Object.keys(t.downstream[o.id]||{})).map((function(e){return t.nodes[e]})).filter(Boolean),d=[],p=(0,r.Z)(u);try{for(p.s();!(c=p.n()).done;){var f=c.value;if(!s.includes(f.id)){var m=e({graph:t,from:f,to:a},[].concat((0,i.Z)(s),[o.id]));m.length&&d.push.apply(d,(0,i.Z)(o.definition.opNames).concat((0,i.Z)(m)))}}}catch(h){p.e(h)}finally{p.f()}return x()(d)}},9:function(e,n,t){t.d(n,{l:function(){return h}});var r=t(922),i=t(32030),o=t(12745),a=t(24971),s=t(7838),l=t(8546),c=(t(325),t(74549)),u=t(76341),d=t(37099),p=t(25582),f=t(13253),m=t(32289),h=function(e){var n=e.group,t=e.scale,r=n.repositoryLocationName,h=n.repositoryDisambiguationRequired,v=n.repositoryName,x=n.groupName;return(0,m.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[t>f.md&&(0,m.jsx)(i.x,{flex:{alignItems:"flex-end"},style:{height:70},children:(0,m.jsxs)(o.fv,{style:{fontWeight:600,userSelect:"none",fontSize:t>f.CZ?"16px":"32px",display:"flex",gap:6},children:[(0,m.jsx)(a.JO,{name:"asset_group",color:s.w.Gray400,size:t>f.CZ?20:48}),(0,m.jsxs)(i.x,{flex:{direction:"column"},children:[(0,m.jsx)(c.rU,{style:{color:s.w.Gray400},onClick:function(e){return e.stopPropagation()},to:(0,p.rO)(v,r,"/asset-groups/".concat(x)),children:x}),h&&(0,m.jsx)(y,{style:{marginBottom:"0.5em"},children:(0,u.R9)((0,d.At)(v,r),{maxLength:45})})]})]})}),(0,m.jsx)(g,{style:{inset:0,top:75,position:"absolute",background:t<f.md?"rgba(234, 234, 234, 1)":"rgba(217, 217, 217, 0.25)"}}),t<f.md?(0,m.jsx)(i.x,{flex:{justifyContent:"center",alignItems:"center"},style:{inset:0,position:"absolute",fontSize:"".concat(12/t,"px"),userSelect:"none"},children:(0,m.jsxs)(i.x,{flex:{direction:"column",alignItems:"center"},style:{fontWeight:600,fontFamily:l.b.monospace},children:[x,h&&(0,m.jsx)(y,{children:(0,u.R9)((0,d.At)(v,r),{maxLength:45})})]})}):void 0]})},g=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupOutline",componentId:"osbgfp-0"})(["width:100%;border-radius:10px;pointer-events:none;"]),y=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupRepoName",componentId:"osbgfp-1"})(["font-size:0.8em;line-height:0.6em;white-space:nowrap;color:",";"],s.w.Gray400)},7748:function(e,n,t){t.d(n,{p4:function(){return E},t$:function(){return _},oR:function(){return K},zU:function(){return Z}});var r,i,o=t(99500),a=t(922),s=t(3159),l=t(24971),c=t(7838),u=t(12745),d=t(32030),p=t(34595),f=t(8546),m=t(90428),h=t.n(m),g=t(325),y=t(76341),v=t(79986),x=t(90815),j=t(44733),b=t(68156),S=t(33743),N=t(79714),w=t(93523),C=t(32289),E=g.memo((function(e){var n=e.definition,t=e.selected,r=e.liveData,i=(n.opNames.length?n.opNames[0]:null)||"",o=n.assetKey.path[n.assetKey.path.length-1],a=n.isSource;return(0,C.jsx)(I,{children:(0,C.jsx)(O,{$selected:t,children:(0,C.jsxs)(M,{$selected:t,$isSource:a,children:[(0,C.jsxs)(F,{$isSource:a,children:[(0,C.jsx)("span",{style:{marginTop:1},children:(0,C.jsx)(l.JO,{name:a?"source_asset":"asset"})}),(0,C.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,y.R9)(o,{maxLength:w.ASSET_NODE_NAME_MAX_LENGTH})}),(0,C.jsx)("div",{style:{flex:1}})]}),n.description?(0,C.jsx)(z,{$color:c.w.Gray800,children:(0,S.A)(n.description).split("\n")[0]}):(0,C.jsx)(z,{$color:c.w.Gray400,children:"No description"}),n.isObservable&&a?(0,C.jsx)(D,{children:(0,C.jsxs)($,{children:[(0,C.jsx)("span",{children:"Observed"}),null!==r&&void 0!==r&&r.lastObservation?(0,C.jsx)(u.aU,{style:{textAlign:"right"},children:(0,C.jsx)(N.Tj,{runId:r.lastObservation.runId,event:{stepKey:i,timestamp:r.lastObservation.timestamp},children:(0,C.jsx)(b.v,{timestamp:Number(r.lastObservation.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})}):(0,C.jsx)("span",{children:"\u2013"})]})}):a?null:(0,C.jsx)(k,{definition:n,liveData:r,stepKey:i}),n.computeKind&&(0,C.jsx)(j.S,{minified:!1,style:{right:-2,paddingTop:7},tags:[{label:n.computeKind,onClick:function(){window.requestAnimationFrame((function(){return document.dispatchEvent(new Event("show-kind-info"))}))}}]})]})})})}),h()),P=function(e){var n=e.background,t=e.children;return(0,C.jsx)(d.x,{padding:{horizontal:8},style:{borderBottomLeftRadius:6,borderBottomRightRadius:6,whiteSpace:"nowrap",lineHeight:12,height:24},flex:{justifyContent:"space-between",alignItems:"center",gap:6},background:n,children:t})},k=function(e){var n=e.definition,t=e.liveData,r=e.stepKey;if(n.isSource)return(0,C.jsx)("span",{});if(!t)return(0,C.jsxs)(P,{background:c.w.Gray100,children:[(0,C.jsx)(p.$,{purpose:"caption-text"}),(0,C.jsx)(u.YS,{style:{flex:1},color:c.w.Gray800,children:"Loading..."})]});var i=t.lastMaterialization,o=t.runWhichFailedToMaterialize,a=t.inProgressRunIds,s=t.unstartedRunIds,l=a[0]||s[0],d=(0,v.Tx)(t);if(l)return(0,C.jsxs)(P,{background:c.w.Blue50,children:[(0,C.jsx)(N.aC,{liveData:t}),(0,C.jsx)(u.YS,{style:{flex:1},color:c.w.Gray800,children:"Materializing..."}),(0,C.jsx)(N.Tj,{runId:l})]});var f=i?(0,C.jsx)(N.Tj,{runId:i.runId,event:{stepKey:r,timestamp:i.timestamp},children:(0,C.jsx)(b.v,{timestamp:Number(i.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})}):void 0;return o||d?(0,C.jsxs)(P,{background:c.w.Red50,children:[(0,C.jsx)(u.YS,{color:c.w.Red700,children:o&&d?"Failed (Late)":d?(0,v.Dn)(t.freshnessInfo.currentMinutesLate):"Failed"}),f]}):i?(0,x.KM)(t)?(0,C.jsxs)(P,{background:c.w.Yellow50,children:[(0,C.jsx)(u.YS,{color:c.w.Yellow700,children:"Stale"}),f]}):(0,C.jsxs)(P,{background:c.w.Green50,children:[(0,C.jsx)(u.YS,{color:c.w.Green700,children:"Materialized"}),f]}):(0,C.jsx)(P,{background:c.w.Yellow50,children:(0,C.jsx)(u.YS,{color:c.w.Yellow700,children:"Never materialized"})})},_=function(e){var n,t,r=e.selected,i=e.definition,o=e.liveData,a=i.isSource,s=i.assetKey,l=s.path[s.path.length-1],u=(null===o||void 0===o||null===(n=o.inProgressRunIds)||void 0===n?void 0:n[0])||(null===o||void 0===o||null===(t=o.unstartedRunIds)||void 0===t?void 0:t[0]);return(0,C.jsx)(I,{children:(0,C.jsx)(L,{$selected:r,children:(0,C.jsxs)(R,{$selected:r,$isSource:a,$background:!o||i.isSource?c.w.Gray100:u?c.w.Blue50:null!==o&&void 0!==o&&o.runWhichFailedToMaterialize||(0,v.Tx)(o)?c.w.Red50:null===o||void 0===o||!o.lastMaterialization||(0,x.KM)(o)?c.w.Yellow50:c.w.Green50,$border:!o||i.isSource?c.w.Gray300:u?c.w.Blue500:null!==o&&void 0!==o&&o.runWhichFailedToMaterialize||(0,v.Tx)(o)?c.w.Red500:null===o||void 0===o||!o.lastMaterialization||(0,x.KM)(o)?c.w.Yellow500:c.w.Green500,children:[(0,C.jsx)("div",{style:{position:"absolute",bottom:6,left:6},children:(0,C.jsx)(N.aC,{liveData:o,purpose:"section"})}),(0,C.jsx)(T,{style:{fontSize:30},$isSource:a,children:(0,y.R9)(l,{maxLength:17})})]})})})},K=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment AssetNodeLiveFragment on AssetNode {\n    id\n    opNames\n    repository {\n      id\n    }\n    assetKey {\n      path\n    }\n    assetMaterializations(limit: 1) {\n      timestamp\n      runId\n    }\n    freshnessPolicy {\n      maximumLagMinutes\n      cronSchedule\n    }\n    freshnessInfo {\n      currentMinutesLate\n    }\n    assetObservations(limit: 1) {\n      timestamp\n      runId\n    }\n    currentLogicalVersion\n    projectedLogicalVersion\n  }\n"]))),Z=(0,s.Ps)(i||(i=(0,o.Z)(["\n  fragment AssetNodeFragment on AssetNode {\n    id\n    graphName\n    jobNames\n    opNames\n    opVersion\n    description\n    computeKind\n    isPartitioned\n    isObservable\n    isSource\n    assetKey {\n      path\n    }\n  }\n"]))),I=a.ZP.div.withConfig({displayName:"AssetNode__AssetInsetForHoverEffect",componentId:"ja35mc-0"})(["padding:10px 4px 2px 4px;height:100%;"]),O=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeContainer",componentId:"ja35mc-1"})(["padding:4px;"]),A=a.ZP.span.withConfig({displayName:"AssetNode__AssetNodeShowOnHover",componentId:"ja35mc-2"})(["display:none;"]),M=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeBox",componentId:"ja35mc-3"})(["",";",";background:",";border-radius:8px;position:relative;&:hover{box-shadow:rgba(0,0,0,0.12) 0px 2px 12px 0px;","{display:initial;}}"],(function(e){return e.$isSource?"border: 2px dashed ".concat(e.$selected?c.w.Gray600:c.w.Gray300):"border: 2px solid ".concat(e.$selected?c.w.Blue500:c.w.Blue200)}),(function(e){return e.$isSource?"outline: 3px solid ".concat(e.$selected?c.w.Gray300:"transparent"):"outline: 3px solid ".concat(e.$selected?c.w.Blue200:"transparent")}),c.w.White,A),F=a.ZP.div.withConfig({displayName:"AssetNode__Name",componentId:"ja35mc-4"})(["display:flex;padding:3px 6px;background:",";font-family:",";border-top-left-radius:7px;border-top-right-radius:7px;font-weight:600;gap:4px;"],(function(e){return e.$isSource?c.w.Gray100:c.w.Blue50}),f.b.monospace),L=(0,a.ZP)(O).withConfig({displayName:"AssetNode__MinimalAssetNodeContainer",componentId:"ja35mc-5"})(["height:100%;"]),R=a.ZP.div.withConfig({displayName:"AssetNode__MinimalAssetNodeBox",componentId:"ja35mc-6"})(["background:",";",";",";border-radius:10px;position:relative;padding:4px;height:100%;min-height:46px;&:hover{box-shadow:rgba(0,0,0,0.12) 0px 2px 12px 0px;}"],(function(e){return e.$background}),(function(e){return e.$isSource?"border: 4px dashed ".concat(e.$selected?c.w.Gray500:e.$border):"border: 4px solid ".concat(e.$selected?c.w.Blue500:e.$border)}),(function(e){return e.$isSource?"outline: 8px solid ".concat(e.$selected?c.w.Gray300:"transparent"):"outline: 8px solid ".concat(e.$selected?c.w.Blue200:"transparent")})),T=(0,a.ZP)(F).withConfig({displayName:"AssetNode__MinimalName",componentId:"ja35mc-7"})(["font-weight:600;white-space:nowrap;position:absolute;background:none;top:50%;left:50%;transform:translate(-50%,-50%);"]),z=a.ZP.div.withConfig({displayName:"AssetNode__Description",componentId:"ja35mc-8"})(["padding:6px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";border-top:1px solid ",";background:",";font-size:12px;"],(function(e){return e.$color}),c.w.Blue50,c.w.White),D=a.ZP.div.withConfig({displayName:"AssetNode__Stats",componentId:"ja35mc-9"})(["padding:4px 8px;border-top:1px solid ",";background:",";font-size:12px;line-height:20px;"],c.w.Blue50,c.w.White),$=a.ZP.div.withConfig({displayName:"AssetNode__StatsRow",componentId:"ja35mc-10"})(["display:flex;justify-content:space-between;min-height:18px;& > span{color:",";}"],c.w.Gray800)},79714:function(e,n,t){t.d(n,{aC:function(){return h},o9:function(){return g},Tj:function(){return y}});var r=t(11831),i=t(34595),o=t(32030),a=t(24971),s=t(7838),l=t(54268),c=t(12745),u=(t(325),t(74549)),d=t(79986),p=t(55752),f=t(39061),m=t(32289),h=function(e){var n,t,o=e.liveData,a=e.purpose,s=void 0===a?"body-text":a;return null!==o&&void 0!==o&&null!==(n=o.inProgressRunIds)&&void 0!==n&&n.length?(0,m.jsx)(r.u,{content:"A run is currently rematerializing this asset.",children:(0,m.jsx)(i.$,{purpose:s})}):null!==o&&void 0!==o&&null!==(t=o.unstartedRunIds)&&void 0!==t&&t.length?(0,m.jsx)(r.u,{content:"A run has started that will rematerialize this asset soon.",children:(0,m.jsx)(i.$,{purpose:s,stopped:!0})}):null},g=function(e){var n=e.liveData,t=e.includeFreshness,i=e.includeRunStatus,c=n||f.Se,u=c.lastMaterialization,g=c.unstartedRunIds,v=c.inProgressRunIds,x=c.runWhichFailedToMaterialize,j=c.stepKey,b=(null===v||void 0===v?void 0:v.length)>0?(0,m.jsxs)(o.x,{flex:{gap:4,alignItems:"center"},children:[i&&(0,m.jsx)(h,{liveData:n}),(0,m.jsx)(y,{runId:v[0]})]}):(null===g||void 0===g?void 0:g.length)>0?(0,m.jsxs)(o.x,{flex:{gap:4,alignItems:"center"},children:[i&&(0,m.jsx)(h,{liveData:n}),(0,m.jsx)(y,{runId:g[0]})]}):"Run"===(null===x||void 0===x?void 0:x.__typename)?(0,m.jsxs)(o.x,{flex:{gap:4,alignItems:"center"},children:[i&&(0,m.jsx)(r.u,{content:"Run ".concat((0,p.EI)({runId:x.id})," failed to materialize this asset"),children:(0,m.jsx)(a.JO,{name:"warning",color:s.w.Red500})}),(0,m.jsx)(y,{runId:x.id})]}):u?(0,m.jsx)(o.x,{flex:{gap:6,alignItems:"center"},children:(0,m.jsx)(y,{runId:u.runId,event:{stepKey:j,timestamp:u.timestamp}})}):void 0;return t?(0,m.jsxs)(o.x,{flex:{direction:"row",gap:4},children:[b?(0,m.jsx)(l.V,{children:b}):(0,m.jsx)("span",{children:"\u2013"}),n&&(0,m.jsx)(d.vy,{liveData:n,policyOnHover:!0})]}):b||(0,m.jsx)("span",{children:"\u2013"})},y=function(e){var n=e.runId,t=e.children,r=e.event;return(0,m.jsx)(c.YS,{children:(0,m.jsx)(u.rU,{to:r?(0,p.tA)({runId:n},r):"/runs/".concat(n),target:"_blank",rel:"noreferrer",children:t||(0,p.EI)({runId:n})})})}},38376:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(922),i=t(24971),o=t(7838),a=t(8546),s=t(325),l=t(39061),c=t(32289),u=s.memo((function(e){var n=e.assetKey;return(0,c.jsxs)(d,{children:[(0,c.jsx)(i.JO,{name:"open_in_new",color:o.w.Link}),(0,c.jsx)("span",{className:"label",children:(0,l.ll)(n)})]})})),d=r.ZP.div.withConfig({displayName:"ForeignNode__AssetNodeLinkContainer",componentId:"f3rzsb-0"})(["display:flex;padding:4px 8px 6px;line-height:30px;font-family:",";color:",";align-items:center;font-weight:600;gap:4px;&:hover .label{color:",";text-decoration:underline;}"],a.b.monospace,o.w.Link,o.w.Link)},18819:function(e,n,t){t.d(n,{u:function(){return x},B:function(){return S}});var r,i=t(99500),o=t(59019),a=t(47427),s=t(73701),l=t(3159),c=t(21663),u=t.n(c),d=t(18961),p=t.n(d),f=t(24083),m=t.n(f),h=t(325),g=t(25496),y=t(7748),v=t(39061);function x(e,n){var t,r=(0,s.a)(N,{notifyOnNetworkStatusChange:!0,variables:{pipelineSelector:n.pipelineSelector,groupSelector:n.groupSelector}}),i=null===(t=r.data)||void 0===t?void 0:t.assetNodes,o=h.useMemo((function(){if(void 0===i)return{graphAssetKeys:[],graphQueryItems:[],assetGraphData:null,applyingEmptyDefault:!1};var t=i;n.hideNodesMatching&&(t=m()(t,n.hideNodesMatching));var r=j(t),o=(0,g.V)(r,e),a=o.all,s=o.applyingEmptyDefault,l=(0,v.VZ)(a.map((function(e){return e.node})));return n.hideEdgesToNodesOutsideQuery&&b(l,i),{allAssetKeys:t.map((function(e){return e.assetKey})),graphAssetKeys:a.map((function(e){return{path:e.node.assetKey.path}})),assetGraphData:l,graphQueryItems:r,applyingEmptyDefault:s}}),[i,e,n.hideEdgesToNodesOutsideQuery,n.hideNodesMatching]);return{fetchResult:r,assetGraphData:o.assetGraphData,graphQueryItems:o.graphQueryItems,graphAssetKeys:o.graphAssetKeys,allAssetKeys:o.allAssetKeys,applyingEmptyDefault:o.applyingEmptyDefault}}var j=function(e){var n,t={},r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=(0,v.Je)(i.assetKey);t[o]={node:i,name:o,inputs:i.dependencyKeys.map((function(e){return{dependsOn:[{solid:{name:(0,v.Je)(e)}}]}})),outputs:i.dependedByKeys.map((function(e){return{dependedBy:[{solid:{name:(0,v.Je)(e)}}]}}))}}}catch(s){r.e(s)}finally{r.f()}return Object.values(t)},b=function(e,n){for(var t=u()(n,(function(e){return(0,v.Wu)(e.assetKey)})),r=function(e){return!!t[e]},i=0,o=Object.keys(e.upstream);i<o.length;i++)for(var a=o[i],s=0,l=Object.keys(e.upstream[a]);s<l.length;s++){var c=l[s];!e.nodes[c]&&r(a)&&(delete e.upstream[a][c],delete e.downstream[c][a])}for(var d=0,p=Object.keys(e.downstream);d<p.length;d++)for(var f=p[d],m=0,h=Object.keys(e.downstream[f]);m<h.length;m++){var g=h[m];!e.nodes[g]&&r(f)&&(delete e.upstream[g][f],delete e.downstream[f][g])}},S=function(e,n){var t=p()(e,(function(e){return e.name})),r=t[(0,v.Je)(n)];if(!r)return{upstream:0,downstream:0};return{upstream:function e(n,r){var i=t[n].inputs.flatMap((function(e){return e.dependsOn.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,o.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0),downstream:function e(n,r){var i=t[n].outputs.flatMap((function(e){return e.dependedBy.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,o.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0)}},N=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query AssetGraphQuery($pipelineSelector: PipelineSelector, $groupSelector: AssetGroupSelector) {\n    assetNodes(pipeline: $pipelineSelector, group: $groupSelector) {\n      id\n      groupName\n      repository {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n      dependencyKeys {\n        path\n      }\n      dependedByKeys {\n        path\n      }\n      ...AssetNodeFragment\n    }\n  }\n  ","\n"])),y.zU)},64424:function(e,n,t){t.d(n,{l:function(){return b},m:function(){return N}});var r,i,o,a=t(99500),s=t(59019),l=t(73701),c=t(38565),u=t(70157),d=t(3159),p=t(58891),f=t.n(p),m=t(325),h=t(19102),g=t(55752),y=t(7748),v=t(39061),x=t(32289),j=2e3;function b(e){var n=(0,l.a)(w,{skip:0===e.length,variables:{assetKeys:e},notifyOnNetworkStatusChange:!0}),t=m.useMemo((function(){return n.data?(0,v.Qg)(n.data):{}}),[n.data]),r=m.useRef(!1);r.current=[c.I.refetch,c.I.loading].includes(n.networkStatus);var i=m.useRef(null),o=m.useCallback((function(){var e=n.refetch;i.current||(i.current=setTimeout((function n(){r.current?i.current=setTimeout(n,j):(i.current=null,e())}),j))}),[i,n.refetch]);m.useEffect((function(){return function(){i.current&&clearTimeout(i.current)}}),[]);var a=(0,h.C4)(n,3e4);(0,g.Qs)(n.refetch,j);var u=m.useMemo((function(){return new Set(e.map(v.Je))}),[e]),d=m.useMemo((function(){var e;return new Set((null===(e=n.data)||void 0===e?void 0:e.assetNodes.flatMap((function(e){return e.opNames})))||[])}),[n]),p=f()(Object.values(t).flatMap((function(e){return[].concat((0,s.Z)(e.unstartedRunIds),(0,s.Z)(e.inProgressRunIds))}))).sort().slice(0,3);return{liveDataByNode:t,liveDataRefreshState:a,runWatchers:(0,x.jsx)(x.Fragment,{children:p.map((function(e){return(0,x.jsx)(S,{runId:e,assetKeyTokens:u,assetStepKeys:d,callback:o},e)}))}),assetKeys:e}}var S=m.memo((function(e){var n=e.runId,t=e.assetKeyTokens,r=e.assetStepKeys,i=e.callback,o=m.useRef(0);return m.useEffect((function(){return console.log("Subscribed to ".concat(n)),function(){return console.log("Unsubscribed from ".concat(n," after ").concat(o.current," messages"))}}),[n]),(0,u.m)(C,{fetchPolicy:"no-cache",variables:{runId:n},onSubscriptionData:function(e){var n,a=null===(n=e.subscriptionData.data)||void 0===n?void 0:n.pipelineRunLogs;"PipelineRunLogsSubscriptionSuccess"===(null===a||void 0===a?void 0:a.__typename)&&(o.current+=a.messages.length,a.messages.some((function(e){return"AssetMaterializationPlannedEvent"===e.__typename||"MaterializationEvent"===e.__typename||"ObservationEvent"===e.__typename?e.assetKey&&t.has((0,v.Je)(e.assetKey)):("ExecutionStepFailureEvent"===e.__typename||"ExecutionStepStartEvent"===e.__typename)&&(e.stepKey&&r.has(e.stepKey))}))&&i())}}),(0,x.jsx)("span",{})})),N=(0,d.Ps)(r||(r=(0,a.Z)(["\n  fragment AssetLatestInfoFragment on AssetLatestInfo {\n    assetKey {\n      path\n    }\n    unstartedRunIds\n    inProgressRunIds\n    latestRun {\n      status\n      id\n    }\n  }\n"]))),w=(0,d.Ps)(i||(i=(0,a.Z)(["\n  query AssetGraphLiveQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      ...AssetNodeLiveFragment\n    }\n    assetsLatestInfo(assetKeys: $assetKeys) {\n      ...AssetLatestInfoFragment\n    }\n  }\n\n  ","\n  ","\n"])),y.oR,N),C=(0,d.Ps)(o||(o=(0,a.Z)(['\n  subscription AssetLiveRunLogsSubscription($runId: ID!) {\n    pipelineRunLogs(runId: $runId, cursor: "HEAD") {\n      __typename\n      ... on PipelineRunLogsSubscriptionSuccess {\n        messages {\n          __typename\n          ... on AssetMaterializationPlannedEvent {\n            assetKey {\n              path\n            }\n          }\n          ... on MaterializationEvent {\n            assetKey {\n              path\n            }\n          }\n          ... on ObservationEvent {\n            assetKey {\n              path\n            }\n          }\n          ... on ExecutionStepStartEvent {\n            stepKey\n          }\n          ... on ExecutionStepFailureEvent {\n            stepKey\n          }\n        }\n      }\n    }\n  }\n'])))},34449:function(e,n,t){t.d(n,{r:function(){return s}});var r,i=t(99500),o=t(3159),a=t(33774),s=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeConfigFragment on AssetNode {\n    id\n    configField {\n      name\n      isRequired\n      configType {\n        ...ConfigTypeSchemaFragment\n        recursiveConfigTypes {\n          ...ConfigTypeSchemaFragment\n        }\n      }\n    }\n  }\n  ","\n"])),a.S)},61460:function(e,n,t){t.d(n,{a:function(){return g},N:function(){return y}});var r,i=t(99500),o=t(73701),a=t(3159),s=t(32030),l=t(7838),c=t(60736),u=t(60652),d=(t(325),t(14156)),p=t(39061),f=t(37099),m=t(33902),h=t(32289),g="Multiple asset definitions found",y=function(e){var n=e.assetKey,t=e.loadedFromRepo,r=e.padded,i=(0,o.a)(v,{variables:{assetKeys:[{path:n.path}]}}).data,a=null===i||void 0===i?void 0:i.assetNodeDefinitionCollisions[0];if(!a)return(0,h.jsx)("span",{});var y=a.repositories.map((function(e){return(0,m.Uz)({name:e.name,location:e.location.name})}));return(0,h.jsx)(s.x,{padding:r?{vertical:16,left:24,right:12}:{},border:{side:"bottom",width:1,color:l.w.KeylineGray},children:(0,h.jsx)(c.b,{intent:"warning",title:g,description:(0,h.jsxs)(h.Fragment,{children:["This asset was loaded from"," ",(0,f.At)(t.name,t.location),", but duplicate definitions were found in"," ",(0,h.jsxs)(u.Z,{underline:"always",color:l.w.Yellow700,onClick:function(){return(0,d._)({title:g,body:(0,h.jsxs)(h.Fragment,{children:["Code locations containing an asset definition for"," ",(0,h.jsx)("strong",{children:(0,p.ll)(n)}),":",(0,h.jsx)("ul",{children:y.map((function(e){return(0,h.jsx)("li",{children:e},e)}))})]})})},children:[y.length-1," other repo",2===y.length?"":"s"]}),". You should rename these assets to avoid collisions."]})})})},v=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query AssetDefinitionCollisionQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n"])))},52598:function(e,n,t){t.d(n,{i:function(){return y},Q:function(){return v}});var r,i=t(99500),o=t(19065),a=t(59019),s=t(3159),l=t(32030),c=t(11831),u=t(60652),d=t(325),p=t(74549),f=t(55419),m=t(77171),h=t(32289),g=function(e){var n=e.lineage_info,t=e.timestamp,r=1===n.partitions.length?"Partition":"Partitions",i=n.partitions.map((function(e){return'"'.concat(e,'"')})).join(", "),o=(0,m.p)(n.assetKey,{asOf:t});return(0,h.jsxs)(l.x,{margin:{bottom:4},children:[n.partitions.length>0?"".concat(r," ").concat(i," of "):"",(0,h.jsx)(c.u,{content:(0,h.jsxs)(h.Fragment,{children:["View snapshot as of"," ",(0,h.jsx)(f.E,{timestamp:{ms:Number(t)},timeFormat:{showSeconds:!0,showTimezone:!0}})]}),modifiers:{offset:{enabled:!0,options:{offset:[0,16]}}},placement:"right",children:(0,h.jsx)(p.rU,{to:o,children:(0,h.jsx)(l.x,{flex:{display:"inline-flex",alignItems:"center"},children:n.assetKey.path.map((function(e,n){return(0,h.jsx)("span",{children:e},n)})).reduce((function(e,n,t){return[].concat((0,a.Z)(e),[t>0?(0,h.jsxs)(d.Fragment,{children:["\xa0",">","\xa0"]},"".concat(t,"-space")):null,n])}),[])})})})]})},y=function(e){var n=e.elements,t=e.timestamp,r=d.useState(!0),i=(0,o.Z)(r,2),a=i[0],s=i[1];return(0,h.jsxs)("div",{children:[n.length>5&&(0,h.jsx)(u.Z,{onClick:function(){return s(!a)},children:a?"Show More":"Show Less"}),(a?n.slice(n.length-5):n).map((function(e,n){return(0,h.jsx)(g,{lineage_info:e,timestamp:t},n)}))]})},v=(0,s.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetLineageFragment on AssetLineageInfo {\n    assetKey {\n      path\n    }\n    partitions\n  }\n"])))},4041:function(e,n,t){t.d(n,{l:function(){return v}});var r=t(47427),i=t(59019),o=t(19065),a=t(32030),s=t(7838),l=t(12745),c=t(89646),u=t(75453),d=t(62816),p=t.n(d),f=t(58891),m=t.n(f),h=t(325),g=t(55853),y=t(32289),v=function(e){var n=h.useState(null),t=(0,o.Z)(n,2),r=t[0],d=t[1],p=h.useMemo((function(){return(0,i.Z)(e.groups).reverse()}),[e.groups]),f=x(p,e.xAxis),m=Object.keys(f).slice(0,20).sort();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".repeat(e.columnCount||2),justifyContent:"stretch"},children:m.map((function(n){return(0,y.jsx)(a.x,{style:{width:"100%"},border:{side:"bottom",width:1,color:s.w.KeylineGray},children:(0,y.jsxs)(a.x,{style:{width:"100%"},border:{side:"right",width:1,color:s.w.KeylineGray},children:[e.asSidebarSection?(0,y.jsx)(a.x,{padding:{horizontal:24,top:8},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.YS,{style:{fontWeight:700},children:n})}):(0,y.jsx)(a.x,{padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:s.w.KeylineGray},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.pm,{children:n})}),(0,y.jsx)(a.x,{padding:{horizontal:24,vertical:16},children:(0,y.jsx)(g.K,{label:n,width:"100%",data:f[n],xHover:r,onHoverX:function(e){return e!==r&&d(e)}})})]})},n)}))}),0===m.length?e.asSidebarSection?(0,y.jsx)(a.x,{margin:{horizontal:24,vertical:12},style:{color:s.w.Gray500,fontSize:"0.8rem"},children:"No numeric metadata entries available to be graphed."}):(0,y.jsx)(a.x,{padding:{horizontal:24,top:64},children:(0,y.jsx)(c.t,{shrinkable:!0,icon:"asset_plot",title:"Asset plots are automatically generated by metadata",description:"Include numeric metadata entries in your materializations and observations to see data graphed by time or partition.",action:(0,y.jsx)(u.fr,{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#recording-materialization-metadata",children:"View documentation"})})}):"partition"===e.xAxis&&(0,y.jsx)(a.x,{padding:{vertical:16,horizontal:24},style:{color:s.w.Gray400},children:"When graphing values by partition, the highest data point for each materialized event label is displayed."})]})},x=function(e,n){var t,o={},a=m()(p()(e,(function(e){var n;return((null===(n=e.latest)||void 0===n?void 0:n.metadataEntries)||[]).filter((function(e){return["IntMetadataEntry","FloatMetadataEntry"].includes(e.__typename)})).map((function(e){return e.label}))}))),s=function(e,t){var r=t.x,i=t.y;if(o[e]=o[e]||{minX:0,maxX:0,minY:0,maxY:0,values:[],xAxis:n},"partition"===n){var a=o[e].values.find((function(e){return e.x===r}));if(a)return void(isNaN(i)||(a.y=i))}o[e].values.push({xNumeric:"number"===typeof r?r:o[e].values.length,x:r,y:i})},l=(0,r.Z)(e);try{for(l.s();!(t=l.n()).done;){var c=t.value,u=c.partition,d=c.latest,f=("partition"===n?u:Number(null===d||void 0===d?void 0:d.timestamp))||null;if(null!==f){var h,g=(0,r.Z)(a);try{var y=function(){var e=h.value,n=null===d||void 0===d?void 0:d.metadataEntries.find((function(n){return n.label===e}));if(!n)return s(e,{x:f,y:NaN}),"continue";var t=NaN;"IntMetadataEntry"===n.__typename&&(t=null!==n.intValue?n.intValue:parseInt(n.intRepr)),"FloatMetadataEntry"===n.__typename&&null!==n.floatValue&&(t=n.floatValue),s(e,{x:f,y:t})};for(g.s();!(h=g.n()).done;)y()}catch(N){g.e(N)}finally{g.f()}}}}catch(N){l.e(N)}finally{l.f()}for(var v=0,x=Object.values(o);v<x.length;v++){var j=x[v],b=j.values.map((function(e){return e.xNumeric})),S=j.values.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));j.minXNumeric=Math.min.apply(Math,(0,i.Z)(b)),j.maxXNumeric=Math.max.apply(Math,(0,i.Z)(b)),j.minY=Math.min.apply(Math,(0,i.Z)(S)),j.maxY=Math.max.apply(Math,(0,i.Z)(S))}return o}},7713:function(e,n,t){t.d(n,{U6:function(){return d},mQ:function(){return p},Ws:function(){return f}});var r,i=t(99500),o=t(3159),a=t(32030),s=t(57753),l=(t(325),t(33208)),c=t(4735),u=t(32289),d=function(e){return{assetType:e.type?e.type:void 0,assetMetadata:e.metadataEntries||[]}},p=function(e){var n=e.assetMetadata,t=e.repoLocation,r=n.map((function(e){return{key:e.label,value:(0,u.jsx)(c.BL,{entry:e,repoLocation:t})}}));return(0,u.jsx)(a.x,{padding:{vertical:16,horizontal:24},children:(0,u.jsx)(s.nZ,{rows:r})})},f=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeOpMetadataFragment on AssetNode {\n    id\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    type {\n      ...DagsterTypeFragment\n    }\n  }\n  ","\n  ","\n"])),c.it,l.rB)},79986:function(e,n,t){t.d(n,{Tx:function(){return c},Dn:function(){return u},vy:function(){return d},jY:function(){return p}});var r=t(11831),i=t(54268),o=t(48625),a=t.n(o),s=(t(325),t(36243)),l=t(32289);function c(e){return(null===e||void 0===e?void 0:e.freshnessInfo)&&((null===e||void 0===e?void 0:e.freshnessInfo.currentMinutesLate)||0)>0||!1}var u=function(e){return"".concat(a().duration(e,"minute").humanize(!1,{m:120,h:48})," late")},d=function(e){var n=e.liveData,t=e.policyOnHover,o=n.freshnessInfo,a=n.freshnessPolicy,s=t?p(a):"";return o?null===o.currentMinutesLate?(0,l.jsx)(r.u,{content:(0,l.jsx)("div",{style:{maxWidth:400},children:"".concat("This asset has never been materialized."," ").concat(s)}),children:(0,l.jsx)(i.V,{intent:"danger",icon:"warning",children:"Late"})}):0===o.currentMinutesLate?s?(0,l.jsx)(r.u,{content:p(a),children:(0,l.jsx)(i.V,{intent:"success",icon:"check_circle",children:"On time"})}):(0,l.jsx)(i.V,{intent:"success",icon:"check_circle",children:"On time"}):(0,l.jsx)(r.u,{content:(0,l.jsx)("div",{style:{maxWidth:400},children:"".concat("A materialization incorporating more recent upstream data is overdue."," ").concat(s)}),children:(0,l.jsx)(i.V,{intent:"danger",icon:"warning",children:u(o.currentMinutesLate)})}):(0,l.jsx)("span",{})},p=function(e){if(!e)return"";var n=e.cronSchedule,t=e.maximumLagMinutes,r=n?(0,s.A)(n,"UTC").replace(/^At /,""):"",i=t%30===0?"".concat(t/60," hour").concat(t/60!==1?"s":""):"".concat(t," min");return r?"By ".concat(r,", this asset should incorporate all data up to ").concat(i," before that").concat("\xa0","time."):"At any point in time, this asset should incorporate all data up to ".concat(i," before that").concat("\xa0","time.")}},73522:function(e,n,t){t.d(n,{j:function(){return u}});var r=t(32030),i=t(60736),o=t(34595),a=t(325),s=t(74549),l=t(55752),c=t(32289),u=function(e){var n=e.liveData,t=e.border,u=n||{},d=u.inProgressRunIds,p=void 0===d?[]:d,f=u.unstartedRunIds,m=void 0===f?[]:f;return 0===p.length&&0===m.length?null:(0,c.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:t,children:(0,c.jsx)(i.b,{intent:"info",icon:(0,c.jsx)(o.$,{purpose:"body-text"}),title:(0,c.jsxs)("div",{style:{fontWeight:400},children:[p.length>0&&(0,c.jsxs)(c.Fragment,{children:[p.map((function(e){return(0,c.jsxs)(a.Fragment,{children:["Run"," ",(0,c.jsx)(s.rU,{to:"/runs/".concat(e),children:(0,l.EI)({runId:e})})]},e)}))," ",1===p.length?"is":"are"," currently refreshing this asset."]}),m.length>0&&(0,c.jsxs)(c.Fragment,{children:[m.map((function(e){return(0,c.jsxs)(a.Fragment,{children:["Run"," ",(0,c.jsx)(s.rU,{to:"/runs/".concat(e),children:(0,l.EI)({runId:e})})]},e)}))," ",1===m.length?"has":"have"," started and will refresh this asset."]})]})})})}},11936:function(e,n,t){t.d(n,{x:function(){return l}});var r=t(32030),i=t(7838),o=t(60736),a=t(24971),s=(t(325),t(32289)),l=function(){return(0,s.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:{side:"bottom",width:1,color:i.w.KeylineGray},children:(0,s.jsx)(o.b,{intent:"info",icon:(0,s.jsx)(a.JO,{name:"history_toggle_off",size:16,color:i.w.Blue700,style:{marginTop:1}}),title:(0,s.jsx)("div",{style:{fontWeight:400},children:"This asset depends on earlier partitions of itself. "})})})}},13885:function(e,n,t){t.d(n,{b:function(){return l}});var r=t(32030),i=t(60736),o=(t(325),t(74549)),a=t(55752),s=t(32289),l=function(e){var n=e.liveData,t=e.border,l=(n||{}).runWhichFailedToMaterialize;return l?(0,s.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:t,children:(0,s.jsx)(i.b,{intent:"error",title:(0,s.jsxs)("div",{style:{fontWeight:400},children:["Run"," ",(0,s.jsx)(o.rU,{to:"/runs/".concat(l.id),children:(0,a.EI)({runId:l.id})})," ","failed to materialize this asset."]})})}):null}},60445:function(e,n,t){t.d(n,{U2:function(){return Fe},XE:function(){return Ce},VF:function(){return Ae},Ot:function(){return Oe},ZP:function(){return _e},DO:function(){return Ee}});var r,i,o=t(99500),a=t(59019),s=t(85358),l=t(19065),c=t(95550),u=t.n(c),d=t(31522),p=t(3159),f=t(11831),m=t(75453),h=t(24971),g=t(32030),y=t(34595),v=t(762),x=t(8412),j=t(26966),b=t.n(j),S=t(58891),N=t.n(S),w=t(325),C=t(14156),E=t(79540),P=t(63579),k=t(39061),_=t(64451),K=t(25859),Z=t(28064),I=t(33774),O=t(37099),A=t(33902),M=t(34449),F=t(61460),L=t(95764),R=t(8358),T=t(7838),z=t(60652),D=t(60736),$=t(24083),G=t.n($),B=t(27601),q=t(12436),U=t(95609),V=t(22013),J=t(89493),Q=t(24298),H=t(95968),Y=t(54920),W=t(6466),X=t(12745),ee=t(13065),ne=t(36613),te=(t(47072),t(39151),t(88291),t(36523),t(33547),t(5484),t(65164),t(76336),t(26306),t(77221),t(87188),t(32289));(0,p.Ps)(r||(r=(0,o.Z)(['\n  query PartitionsBackfillSelectorQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n    $pipelineSelector: PipelineSelector!\n  ) {\n    partitionSetOrError(\n      partitionSetName: $partitionSetName\n      repositorySelector: $repositorySelector\n    ) {\n      ... on PartitionSet {\n        id\n        name\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              name\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          handleID\n          solid {\n            name\n            definition {\n              name\n            }\n            inputs {\n              dependsOn {\n                solid {\n                  name\n                }\n              }\n            }\n            outputs {\n              dependedBy {\n                solid {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      runLauncher {\n        name\n      }\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "BACKFILL") {\n          id\n          healthy\n        }\n      }\n      runQueuingSupported\n    }\n  }\n  ',"\n"])),q.Bq),(0,p.Ps)(i||(i=(0,o.Z)(["\n  query PartitionStatusQuery($partitionSetName: String!, $repositorySelector: RepositorySelector!) {\n    partitionSetOrError(\n      partitionSetName: $partitionSetName\n      repositorySelector: $repositorySelector\n    ) {\n      ... on PartitionSet {\n        id\n        name\n        partitionStatusesOrError {\n          ... on PartitionStatuses {\n            results {\n              id\n              partitionName\n              runStatus\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),q.Bq);function re(e){var n=null===e||void 0===e?void 0:e.launchPartitionBackfill,t=(0,te.jsx)(te.Fragment,{});return"PythonError"===(null===n||void 0===n?void 0:n.__typename)||"PartitionSetNotFoundError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,te.jsx)(q.T9,{error:n}):"InvalidStepError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,te.jsx)("div",{children:"Invalid step: ".concat(n.invalidStepKey)}):"InvalidOutputError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,te.jsx)("div",{children:"Invalid output: ".concat(n.invalidOutputName," for ").concat(n.stepKey)}):n&&"errors"in n&&(t=(0,te.jsx)(te.Fragment,{children:n.errors.map((function(e,n){return(0,te.jsx)(q.T9,{error:e},n)}))})),(0,te.jsxs)(W.Z,{direction:"column",spacing:4,children:[(0,te.jsx)("div",{children:"An unexpected error occurred. This backfill was not launched."}),t?(0,te.jsx)(z.Z,{color:T.w.White,underline:"always",onClick:function(){(0,C._)({body:t})},children:"View error"}):null]})}function ie(e){ee.L.show({message:re(e),icon:"error",intent:"danger"})}function oe(e,n){ee.L.show({intent:"success",message:(0,te.jsxs)("div",{children:["Created backfill ",(0,te.jsx)(X.fv,{children:n})]}),action:{text:"View",onClick:function(){return e.push("/overview/backfills")}}})}var ae,se,le,ce,ue,de=t(26961),pe=t(73701),fe=t(74549),me=function(e){var n=e.partitionSetName,t=(0,pe.a)(he,{fetchPolicy:"cache-and-network"}).data,r=("PartitionBackfills"===(null===t||void 0===t?void 0:t.partitionBackfillsOrError.__typename)?t.partitionBackfillsOrError.results:[]).filter((function(e){return e.partitionSetName===n})).length;return 0===r?(0,te.jsx)("span",{}):(0,te.jsxs)("div",{style:{color:T.w.Gray400,maxWidth:350},children:[1===r?"Note: A backfill has been requested for this job and may be refreshing displayed assets. ":"Note: ".concat(r," backfills have been requested for this job and may be refreshing displayed assets. "),(0,te.jsx)(fe.rU,{to:"/overview/backfills",target:"_blank",children:(0,te.jsxs)(g.x,{flex:{gap:4,display:"inline-flex",alignItems:"center"},children:["View ",(0,te.jsx)(h.JO,{name:"open_in_new",color:T.w.Link})]})})]})},he=(0,p.Ps)(ae||(ae=(0,o.Z)(["\n  query RunningBackfillsNoticeQuery {\n    partitionBackfillsOrError(status: REQUESTED) {\n      __typename\n      ... on PartitionBackfills {\n        results {\n          partitionSetName\n          backfillId\n        }\n      }\n    }\n  }\n"]))),ge=t(72287),ye=t(47619),ve=t(32369),xe=function(e){var n="Launch runs to materialize ".concat(e.assets.length>1?"".concat(e.assets.length," assets"):(0,k.ll)(e.assets[0].assetKey));return(0,te.jsxs)(R.Vq,{style:{width:700},isOpen:e.open,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return e.setOpen(!1)},children:[(0,te.jsx)(R.fK,{icon:"layers",label:n}),(0,te.jsx)(je,(0,L.Z)({},e))]})},je=function(e){var n=e.setOpen,t=e.assets,r=e.repoAddress,i=e.assetJobName,o=e.upstreamAssetKeys,c=t.filter((function(e){return!!e.partitionDefinition})),p=(0,P.TE)().canLaunchPartitionBackfill,h=w.useState(!1),y=(0,l.Z)(h,2),v=y[0],x=y[1],j=w.useState(0),b=(0,l.Z)(j,2),S=b[0],N=b[1],E=c.length-S,K=(0,ye.m)(c.map((function(e){return e.assetKey}))),Z=w.useMemo((function(){return(0,ne.$G)(K)}),[K]),I=(0,ge.u)({knownDimensionNames:c[0].partitionKeysByDimension.map((function(e){return e.name})),modifyQueryString:!1,assetHealth:Z}),O=(0,l.Z)(I,2),A=O[0],M=O[1],F=w.useState([Y.AB.MISSING]),D=(0,l.Z)(F,2),$=D[0],G=D[1],W=w.useMemo((function(){return(0,ne.CT)(A,(function(e){var n=Z.stateForKey(e);return n===Y.AB.SUCCESS_MISSING?Y.AB.MISSING:n}))}),[A,Z]),X=w.useMemo((function(){return W.filter((function(e){return $.includes(e.state)}))}),[W,$]),ee=(0,d.x)(),re=(0,B.k6)(),ae=(0,(0,_.C)().useLaunchWithTelemetry)(),se=(0,ve.f)(r,i),le=se.partitionSet,ce=se.partitionSetError,ue=function(){var e=(0,s.Z)(u().mark((function e(){var o,s,l,c,d,p,f,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),le){e.next=5;break}return x(!1),(0,C._)({title:"Unable to find partition set on ".concat(i),body:ce?(0,te.jsx)(q.T9,{error:ce}):(0,te.jsx)("span",{})}),e.abrupt("return");case 5:if(1!==X.length){e.next=30;break}return e.next=8,ee.query({query:J.Fp,fetchPolicy:"network-only",variables:{repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name},partitionSetName:le.name,partitionName:X[0].partitionKey}});case 8:if(o=e.sent,(s=o.data)&&s.partitionSetOrError&&"PartitionSet"===s.partitionSetOrError.__typename&&s.partitionSetOrError.partition){e.next=12;break}return e.abrupt("return");case 12:if("PythonError"!==(l=s.partitionSetOrError.partition).tagsOrError.__typename){e.next=17;break}return x(!1),(0,C._)({title:"Unable to load tags",body:(0,te.jsx)(q.T9,{error:l.tagsOrError})}),e.abrupt("return");case 17:if("PythonError"!==l.runConfigOrError.__typename){e.next=21;break}return x(!1),(0,C._)({title:"Unable to load tags",body:(0,te.jsx)(q.T9,{error:l.runConfigOrError})}),e.abrupt("return");case 21:return c=(0,a.Z)(l.tagsOrError.results),d=l.runConfigOrError.yaml||"",e.next=25,ae({executionParams:(0,L.Z)((0,L.Z)({},Oe(r,i,t,c)),{},{runConfigData:d,mode:l.mode})},"toast");case 25:p=e.sent,x(!1),"LaunchRunSuccess"===(null===p||void 0===p?void 0:p.__typename)&&n(!1),e.next=36;break;case 30:return e.next=32,ee.mutate({mutation:V.f,variables:{backfillParams:{selector:{partitionSetName:le.name,repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name}},assetSelection:t.map((function(e){return{path:e.assetKey.path}})),partitionNames:X.map((function(e){return e.partitionKey})),fromFailure:!1,tags:[]}}});case 32:f=e.sent,m=f.data,x(!1),"LaunchBackfillSuccess"===(null===m||void 0===m?void 0:m.launchPartitionBackfill.__typename)?(oe(re,null===m||void 0===m?void 0:m.launchPartitionBackfill.backfillId),n(!1)):ie(m);case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(R.a7,{children:[(0,te.jsxs)(g.x,{flex:{direction:"column",gap:8},children:[(0,te.jsx)(g.x,{children:"Select partitions to materialize. Click and drag to select a range on the timeline."}),A.map((function(e,n){return(0,te.jsx)(Q.n,{partitionKeys:e.dimension.partitionKeys,partitionStateForKey:function(e){return Z.stateForSingleDimension(n,e,2===A.length?A[1-n].selected:void 0)},selected:e.selected,setSelected:function(n){return M(A.map((function(t){return t.dimension===e.dimension?(0,L.Z)((0,L.Z)({},t),{},{selected:n}):t})))}},e.dimension.name)})),(0,te.jsx)(H.f,{partitionKeysForCounts:W,allowed:[Y.AB.MISSING,Y.AB.SUCCESS],value:$,onChange:G})]}),S>0&&(0,te.jsxs)(g.x,{margin:{top:16},flex:{direction:"column",gap:8},padding:{vertical:16,horizontal:20},border:{side:"horizontal",width:1,color:T.w.KeylineGray},background:T.w.Gray100,style:{marginLeft:-20,marginRight:-20,overflowY:"auto",overflowX:"visible",maxHeight:"35vh"},children:[c.slice(0,S).map((function(e){return(0,te.jsx)(U.m,{assetKey:e.assetKey,showAssetKey:!0,data:K,ranges:A},(0,k.ll)(e.assetKey))})),E>0&&(0,te.jsx)(g.x,{margin:{vertical:8},children:(0,te.jsxs)(z.Z,{onClick:function(){return N(c.length)},children:["Show ",E," more ",E>1?"previews":"preview"]})})]}),0===S&&c.length>1&&(0,te.jsx)(g.x,{margin:{top:16,bottom:8},children:(0,te.jsx)(z.Z,{onClick:function(){return N(5)},children:"Show per-asset partition health"})}),(0,te.jsx)(be,{upstreamAssetKeys:o,ranges:A,setRanges:M})]}),(0,te.jsxs)(R.cN,{left:le&&(0,te.jsx)(me,{partitionSetName:le.name}),children:[(0,te.jsx)(m.zx,{intent:"none",onClick:function(){return n(!1)},children:"Cancel"}),1===X.length||p.enabled?(0,te.jsx)(m.zx,{intent:"primary",onClick:ue,disabled:0===X.length,loading:v,children:v?"Launching...":1!==X.length?"Launch ".concat(X.length,"-Run Backfill"):"Launch 1 Run"}):(0,te.jsx)(f.u,{content:p.disabledReason,children:(0,te.jsx)(m.zx,{disabled:!0,children:"Launch ".concat(X.length,"-Run Backfill")})})]})]})},be=function(e){var n=e.upstreamAssetKeys,t=e.ranges,r=e.setRanges,i=(0,ye.m)(n),o=function(e){return i.length>0&&i.some((function(n){return n.stateForKey([e])===Y.AB.MISSING}))},a=1===t.length?(0,de.lU)(t[0].selected,o).filter((function(e){return!0===e.status})):[];return 0===a.length?(0,te.jsx)("span",{}):(0,te.jsx)(g.x,{margin:{top:16},children:(0,te.jsx)(D.b,{intent:"warning",title:"Upstream data missing",description:(0,te.jsxs)(te.Fragment,{children:[a.map((function(e){return(0,de.ZX)(e,t[0].selected)})).join(", ")," cannot be materialized because upstream materializations are missing. Consider materializing upstream assets or ",(0,te.jsx)(z.Z,{underline:"always",onClick:function(){if(t.length>1)throw new Error("Assertion failed, this feature is only available for 1 dimensional assets");r([(0,L.Z)((0,L.Z)({},t[0]),{},{selected:G()(t[0].selected,o)})])},children:"remove these partitions"})," to avoid failures."]})})})},Se=t(90815),Ne=function(e){return e.length>1?" (".concat(e.length,")"):""},we=function(e){return e.some((function(e){return"partitionDefinition"in e&&!!e.partitionDefinition||"isPartitioned"in e&&e.isPartitioned}))};var Ce=function(e){var n=e.scope,t=e.liveDataForStale,r=e.preferredJobName,i=e.intent,o=void 0===i?"primary":i,a=(0,P.TE)().canLaunchPipelineExecution,s=Ee(r),c=s.onClick,u=s.loading,d=s.launchpadElement,p=w.useState(!1),j=(0,l.Z)(p,2),b=j[0],S=j[1],N=function(e,n){if("selected"in e){var t=e.selected.filter((function(e){return!e.isSource}));return[{assetKeys:t.map((function(e){return e.assetKey})),label:"Materialize selected".concat(Ne(t)).concat(we(t)?"\u2026":"")}]}var r=[],i=e.all.filter((function(e){return!e.isSource}));if(r.push({assetKeys:i.map((function(e){return e.assetKey})),label:i.length>1&&!e.skipAllTerm?"Materialize all".concat(we(i)?"\u2026":""):"Materialize".concat(we(i)?"\u2026":"")}),n){var o=i.filter((function(e){return(0,Se.KO)(n[(0,k.Wu)(e.assetKey)])||(0,Se.KM)(n[(0,k.Wu)(e.assetKey)])}));r.push({assetKeys:o.map((function(e){return e.assetKey})),label:"Materialize stale and missing".concat(Ne(o))})}return r}(n,t),C=N[0];return C?a.enabled?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(g.x,{flex:{alignItems:"center"},children:[(0,te.jsx)(f.u,{content:"Shift+click to add configuration",position:"bottom-right",children:(0,te.jsx)(m.zx,{intent:o,onClick:function(e){return c(C.assetKeys,e)},style:N.length>1?{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"1px solid rgba(255,255,255,0.2)"}:{},disabled:!C.assetKeys.length,icon:u?(0,te.jsx)(y.$,{purpose:"body-text"}):(0,te.jsx)(h.JO,{name:"materialization"}),children:C.label})}),N.length>1&&(0,te.jsx)(v.J,{isOpen:b,onInteraction:function(e){return S(e)},position:"bottom-right",content:(0,te.jsx)(x.v2,{children:N.slice(1).map((function(e){return(0,te.jsx)(x.sN,{text:e.label,icon:"materialization",disabled:0===e.assetKeys.length,onClick:function(n){return c(e.assetKeys,n)}},e.label)}))}),children:(0,te.jsx)(m.zx,{role:"button",style:{minWidth:"initial",borderTopLeftRadius:0,borderBottomLeftRadius:0},icon:(0,te.jsx)(h.JO,{name:"arrow_drop_down"}),intent:o})})]}),d]}):(0,te.jsx)(f.u,{content:"You do not have permission to materialize assets",position:"bottom-right",children:(0,te.jsx)(m.zx,{intent:o,icon:(0,te.jsx)(h.JO,{name:"materialization"}),disabled:!0,children:C.label})}):(0,te.jsx)("span",{})},Ee=function(e){var n=(0,(0,_.C)().useLaunchWithTelemetry)(),t=(0,d.x)(),r=(0,E.p)(),i=w.useState({type:"none"}),o=(0,l.Z)(i,2),a=o[0],c=o[1],p=function(){var i=(0,s.Z)(u().mark((function i(o,s){var l,d,p,f,m;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("loading"!==a.type){i.next=2;break}return i.abrupt("return");case 2:return c({type:"loading"}),i.next=5,t.query({query:Fe,variables:{assetKeys:o.map((function(e){return{path:e.path}}))}});case 5:if(!(l=i.sent).data.assetNodeDefinitionCollisions.length){i.next=10;break}return(0,C._)(Ae(l.data)),c({type:"none"}),i.abrupt("return");case 10:return d=l.data.assetNodes,p=s.shiftKey,i.next=14,Pe(t,d,p,e);case 14:if("error"!==(f=i.sent).type){i.next=19;break}return(0,C._)({title:"Unable to Materialize",body:f.error}),c({type:"none"}),i.abrupt("return");case 19:return i.next=21,Ze(t,d);case 21:if(!(m=i.sent).length){i.next=33;break}return c({type:"none"}),i.prev=24,i.next=27,r({title:"Are you sure?",description:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("div",{children:"Materializing these assets may fail because the upstream assets listed below have not been materialized yet."}),(0,te.jsx)("ul",{children:m.map((function(e,n){return(0,te.jsx)("li",{children:(0,k.ll)(e)},n)}))})]})});case 27:c({type:"loading"}),i.next=33;break;case 30:return i.prev=30,i.t0=i.catch(24),i.abrupt("return");case 33:if("single-run"!==f.type){i.next=39;break}return i.next=36,n({executionParams:f.executionParams},"toast");case 36:c({type:"none"}),i.next=40;break;case 39:c(f);case 40:case"end":return i.stop()}}),i,null,[[24,30]])})));return function(e,n){return i.apply(this,arguments)}}();return{onClick:p,loading:"loading"===a.type,launchpadElement:"launchpad"===a.type?(0,te.jsx)(K.e,{assetJobName:a.jobName,repoAddress:a.repoAddress,sessionPresets:a.sessionPresets,open:!0,setOpen:function(){return c({type:"none"})}}):"partitions"===a.type?(0,te.jsx)(xe,{assets:a.assets,upstreamAssetKeys:a.upstreamAssetKeys,repoAddress:a.repoAddress,assetJobName:a.jobName,open:!0,setOpen:function(){return c({type:"none"})}}):null}};function Pe(e,n,t,r){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.Z)(u().mark((function e(n,t,r,i){var o,a,s,l,c,d,p,f,m,h,g,y,v,x,j,b,S;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return e.isSource}))){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more source assets are selected and cannot be materialized."});case 2:if(l=(0,O.kQ)((null===(o=t[0])||void 0===o?void 0:o.repository.name)||"",(null===(a=t[0])||void 0===a?void 0:a.repository.location.name)||""),c=(0,A.Uz)(l),t.every((function(e){return e.repository.name===l.name&&e.repository.location.name===l.location}))){e.next=6;break}return e.abrupt("return",{type:"error",error:"Assets must be in ".concat(c," to be materialized together.")});case 6:if(d=null===(s=t.find((function(e){return!!e.partitionDefinition})))||void 0===s?void 0:s.partitionDefinition,!t.some((function(e){return e.partitionDefinition&&d&&e.partitionDefinition.description!==d.description}))){e.next=9;break}return e.abrupt("return",{type:"error",error:"Assets must share a partition definition to be materialized together."});case 9:if(p=_e(t,i)){e.next=12;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same job to be materialized together."});case 12:return e.next=14,n.query({query:Le,variables:{pipelineName:p,repositoryName:t[0].repository.name,repositoryLocationName:t[0].repository.location.name}});case 14:if(f=e.sent,"Pipeline"===(m=f.data.pipelineOrError).__typename){e.next=18;break}return e.abrupt("return",{type:"error",error:m.message});case 18:if("PartitionSets"===(h=f.data.partitionSetsOrError).__typename){e.next=21;break}return e.abrupt("return",{type:"error",error:h.message});case 21:if(g=t.flatMap((function(e){return e.requiredResources.map((function(e){return e.resourceKey}))})),y=m.modes[0].resources.filter((function(e){return g.includes(e.name)})),v=y.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),x=t.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),j=d&&!(0,k.pv)(p),!(!j&&(x||v))&&!r){e.next=30;break}return b=t.flatMap((function(e){return e.opNames||[]})),e.abrupt("return",{type:"launchpad",jobName:p,repoAddress:l,sessionPresets:{flattenGraphs:!0,assetSelection:t.map((function(e){return{assetKey:e.assetKey,opNames:e.opNames}})),solidSelectionQuery:b.map((function(e){return'"'.concat(e,'"')})).join(", "),base:h.results.length?{partitionsSetName:h.results[0].name,partitionName:null,tags:[]}:void 0}});case 30:if(!d){e.next=33;break}return S=Ke(t),e.abrupt("return",{type:"partitions",assets:t,jobName:p,repoAddress:l,upstreamAssetKeys:S});case 33:return e.abrupt("return",{type:"single-run",executionParams:Oe(l,p,t,[])});case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,n){var t=e[0]?e[0].jobNames.filter((function(n){return e.every((function(e){return e.jobNames.includes(n)}))})):[];return t.find((function(e){return e===n}))||t[0]||null}function Ke(e){var n=new Set(e.map((function(e){return JSON.stringify({path:e.assetKey.path})})));return N()(e.flatMap((function(e){return e.dependencyKeys.map((function(e){var n=e.path;return JSON.stringify({path:n})}))}))).filter((function(e){return!n.has(e)})).map((function(e){return JSON.parse(e)}))}function Ze(e,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(u().mark((function e(n,t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=Ke(t)).length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,n.query({query:Re,variables:{assetKeys:r}});case 5:return i=e.sent,e.abrupt("return",i.data.assetNodes.filter((function(e){return!e.isSource&&0===e.assetMaterializations.length})).map((function(e){return e.assetKey})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,n,t,r){return{mode:"default",executionMetadata:{tags:[].concat((0,a.Z)(r.map((function(e){return b()(e,["key","value"])}))),[{key:Z.H.StepSelection,value:t.flatMap((function(e){return e.opNames})).join(",")}])},runConfigData:"{}",selector:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n,assetSelection:t.map((function(e){return{path:e.assetKey.path}}))}}}function Ae(e){return{title:F.a,body:(0,te.jsxs)("div",{style:{overflow:"auto"},children:["One or more of the selected assets are defined in multiple code locations. Rename these assets to avoid collisions and then try again.",(0,te.jsx)("ul",{children:e.assetNodeDefinitionCollisions.map((function(e,n){return(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:(0,k.ll)(e.assetKey)}),(0,te.jsx)("ul",{children:e.repositories.map((function(e,n){return(0,te.jsx)("li",{children:(0,A.Uz)({name:e.name,location:e.location.name})},n)}))})]},n)}))})]})}}var Me=(0,p.Ps)(se||(se=(0,o.Z)(["\n  fragment LaunchAssetExecutionAssetNodeFragment on AssetNode {\n    id\n    opNames\n    jobNames\n    graphName\n    partitionDefinition {\n      description\n    }\n    partitionKeysByDimension {\n      name\n    }\n    isObservable\n    isSource\n    assetKey {\n      path\n    }\n    dependencyKeys {\n      path\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n    ...AssetNodeConfigFragment\n  }\n  ","\n"])),M.r),Fe=(0,p.Ps)(le||(le=(0,o.Z)(["\n  query LaunchAssetLoaderQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys) {\n      id\n      ...LaunchAssetExecutionAssetNodeFragment\n    }\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n  ","\n"])),Me),Le=(0,p.Ps)(ce||(ce=(0,o.Z)(["\n  query LaunchAssetLoaderResourceQuery(\n    $pipelineName: String!\n    $repositoryLocationName: String!\n    $repositoryName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PythonError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PartitionSets {\n        results {\n          id\n          name\n        }\n      }\n    }\n\n    pipelineOrError(\n      params: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PythonError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on Pipeline {\n        id\n        modes {\n          id\n          resources {\n            name\n            description\n            configField {\n              name\n              isRequired\n              configType {\n                ...ConfigTypeSchemaFragment\n                recursiveConfigTypes {\n                  ...ConfigTypeSchemaFragment\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),I.S),Re=(0,p.Ps)(ue||(ue=(0,o.Z)(["\n  query LaunchAssetCheckUpstreamQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      assetKey {\n        path\n      }\n      isSource\n      opNames\n      graphName\n      assetMaterializations(limit: 1) {\n        runId\n      }\n    }\n  }\n"])))},36613:function(e,n,t){t.d(n,{nv:function(){return o},vH:function(){return a},$G:function(){return s},rY:function(){return l},CT:function(){return c},IF:function(){return u}});var r=t(47427),i=t(54920);function o(e){return a(e.partitionKeys[0])}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/\d{4}-\d{2}-\d{2}/.test(e)}function s(e){if(!e.length)return{dimensions:[],stateForKey:function(){return i.AB.MISSING},stateForPartialKey:function(){return i.AB.MISSING},stateForSingleDimension:function(){return i.AB.MISSING}};var n=e[0].dimensions;if(!e.every((function(e){return e.dimensions.length===n.length})))throw new Error("Attempting to show unified asset health for assets with different dimensions");if(!e.every((function(e){return e.dimensions.every((function(e,t){return e.partitionKeys.length===n[t].partitionKeys.length}))})))throw new Error("Attempting to show unified asset health for assets with dimension of different lengths");return{dimensions:n.map((function(e){return{name:e.name,partitionKeys:e.partitionKeys}})),stateForKey:function(n){return l(e.map((function(e){return e.stateForKey(n)})))},stateForPartialKey:function(n){return l(e.map((function(e){return e.stateForPartialKey(n)})))},stateForSingleDimension:function(n,t,r){return l(e.map((function(e){return e.stateForSingleDimension(n,t,r)})))}}}function l(e){return e.includes(i.AB.MISSING)&&e.includes(i.AB.SUCCESS)?i.AB.SUCCESS_MISSING:e[0]}function c(e,n){if(0===e.length)return[];if(1===e.length)return e[0].selected.map((function(e){return{partitionKey:e,state:n([e])}}));if(2===e.length){var t,i=[],o=(0,r.Z)(e[0].selected);try{for(o.s();!(t=o.n()).done;){var a,s=t.value,l=(0,r.Z)(e[1].selected);try{for(l.s();!(a=l.n()).done;){var c=a.value;i.push({partitionKey:"".concat(s,"|").concat(c),state:n([s,c])})}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}return i}throw new Error("Unsupported >2 partitions defined")}var u=function(e){return{dimension:{name:e,partitionKeys:[]},selected:[]}}},95609:function(e,n,t){t.d(n,{m:function(){return p}});var r=t(59019),i=t(34595),o=t(32030),a=t(7838),s=t(12745),l=(t(325),t(39061)),c=t(54920),u=t(36613),d=t(32289),p=function(e){var n=e.showAssetKey,t=e.assetKey,p=e.data,f=e.ranges,m=p.find((function(e){return JSON.stringify(e.assetKey)===JSON.stringify(t)}));if(!m)return(0,d.jsx)("div",{style:{minHeight:55,position:"relative"},children:(0,d.jsx)(i.$,{purpose:"section"})});var h=f?f.map((function(e){return e.selected})):m.dimensions.map((function(e){return e.partitionKeys})),g=h.reduce((function(e,n){return n.length*e}),1),y=h.reduce((function(e,n){return e.length?e.flatMap((function(e){return n.map((function(n){return[].concat((0,r.Z)(e),[n])}))})):n.map((function(e){return[e]}))}),[]).filter((function(e){return m.stateForKey(e)===c.AB.SUCCESS})).length;return(0,d.jsxs)(o.x,{color:a.w.Gray500,children:[(0,d.jsxs)(o.x,{flex:{justifyContent:"space-between"},style:{fontWeight:600},margin:{bottom:4},children:[(0,d.jsx)(s.YS,{children:n?(0,l.ll)(t):"Materialized"}),(0,d.jsx)(s.YS,{children:"".concat(y.toLocaleString(),"/").concat(g.toLocaleString())})]}),m.dimensions.map((function(e,n){return(0,d.jsxs)(o.x,{margin:{bottom:4},children:[m.dimensions.length>1&&(0,d.jsx)(s.YS,{children:e.name}),(0,d.jsx)(c.bq,{small:!0,partitionNames:e.partitionKeys,splitPartitions:!(0,u.nv)(e),selected:f?f[n].selected:void 0,partitionStateForKey:function(e){return m.stateForSingleDimension(n,e,2===(null===f||void 0===f?void 0:f.length)?f[1-n].selected:void 0)}})]},n)}))]})}},90815:function(e,n,t){t.d(n,{KO:function(){return s},KM:function(){return l},T3:function(){return c}});var r=t(32030),i=t(58591),o=t(7838),a=(t(325),t(32289)),s=function(e){return e&&null===e.currentLogicalVersion},l=function(e){return e&&null!==e.currentLogicalVersion&&"INITIAL"!==e.currentLogicalVersion&&e.currentLogicalVersion!==e.projectedLogicalVersion},c=function(e){var n=e.liveData,t=e.onClick;return l(n)?(0,a.jsx)(r.x,{onClick:t,children:(0,a.jsx)(i.m,{fillColor:o.w.Yellow50,textColor:o.w.Yellow700,label:"Stale",interactive:!!t})}):null}},33682:function(e,n,t){t.d(n,{L:function(){return c}});var r=t(59019),i=t(21663),o=t.n(i),a=t(325),s="__NO_PARTITION__",l=function(e,n){return Number(null===n||void 0===n?void 0:n.timestamp)-Number(null===e||void 0===e?void 0:e.timestamp)};function c(e,n,t,i){return a.useMemo((function(){var a=[].concat((0,r.Z)(n),(0,r.Z)(t)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}));return"partition"===e&&i?function(e,n){var t=o()(e,(function(e){return e.partition||s})),i=(0,r.Z)(n).reverse();return s in t&&i.push(s),i.filter((function(e){return e!==s})).map((function(e){var n=(0,r.Z)(t[e]||[]).sort(l),i=n.find((function(e){return"MaterializationEvent"===e.__typename}))||n[0]||null;return{all:n,latest:i,timestamp:null===i||void 0===i?void 0:i.timestamp,partition:e}}))}(a,i):a.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i,n,t,e])}},72287:function(e,n,t){t.d(n,{u:function(){return c}});var r=t(19065),i=t(325),o=t(44198),a=t(26961),s=t(36613),l={defaults:{},encode:function(e){return Object.fromEntries(e.map((function(e){return["".concat(e.name,"_range"),e.rangeText]})))},decode:function(e){return Object.entries(e).filter((function(e){return(0,r.Z)(e,1)[0].endsWith("_range")})).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return{name:t.replace(/_range$/,""),rangeText:i}}))}},c=function(e){var n=e.assetHealth,t=e.knownDimensionNames,c=void 0===t?[]:t,u=e.modifyQueryString,d=(0,o.q)(l),p=(0,r.Z)(d,2),f=p[0],m=p[1],h=i.useState([]),g=(0,r.Z)(h,2),y=g[0],v=g[1],x=JSON.stringify(c);return[i.useMemo((function(){return n?n.dimensions.map((function(e){var n=y.find((function(n){return n.name===e.name}))||f.find((function(n){return n.name===e.name}));return{dimension:e,selected:void 0!==(null===n||void 0===n?void 0:n.rangeText)?(0,a.$P)(n.rangeText,e.partitionKeys):e.partitionKeys}})):JSON.parse(x).map(s.IF)}),[f,y,n,x]),i.useCallback((function(e){var n=e.map((function(e){var n=(0,a.Z8)(e.selected,e.dimension.partitionKeys);return{name:e.dimension.name,rangeText:n!==(0,a.NN)(e.dimension)?n:void 0}}));u?m(n):v(n)}),[m,u])]}},47619:function(e,n,t){t.d(n,{m:function(){return j}});var r,i=t(99500),o=t(95764),a=t(59019),s=t(19065),l=t(85358),c=t(95550),u=t.n(c),d=t(31522),p=t(3159),f=t(90428),m=t.n(f),h=t(325),g=t(54920),y=t(36613);function v(e,n){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(u().mark((function e(n,t){var r,i,o,a,l,c,d,p,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({query:b,fetchPolicy:"network-only",variables:{assetKey:{path:t.path}}});case 2:return r=e.sent,i=r.data,o="AssetNode"===i.assetNodeOrError.__typename?i.assetNodeOrError.partitionKeysByDimension:[],a="AssetNode"===i.assetNodeOrError.__typename&&i.assetNodeOrError.partitionMaterializationCounts||{__typename:"MaterializationCountSingleDimension",materializationCounts:[]},l=Object.fromEntries("MaterializationCountSingleDimension"===a.__typename?a.materializationCounts.map((function(e,n){return[o[0].partitionKeys[n],e>0?g.AB.SUCCESS:g.AB.MISSING]})):a.materializationCountsGrouped.map((function(e,n){return[o[0].partitionKeys[n],Object.fromEntries(e.map((function(e,n){return[o[1].partitionKeys[n],e>0?g.AB.SUCCESS:g.AB.MISSING]})))]}))),c=function(e){return e.reduce((function(e,n){return e[n]}),l)},d=function(e,n,t){if(0===e&&1===o.length)return c([n]);if(0===e)return(0,y.rY)(Object.entries(l[n]).filter((function(e){var n=(0,s.Z)(e,1)[0];return!t||t.includes(n)})).map((function(e){var n=(0,s.Z)(e,2);n[0];return n[1]})));if(1===e)return(0,y.rY)(Object.entries(l).filter((function(e){var n=(0,s.Z)(e,1)[0];return!t||t.includes(n)})).map((function(e){var t=(0,s.Z)(e,2);t[0];return t[1][n]})));throw new Error("stateForSingleDimension asked for third dimension")},p=function(e){return e.length===o.length?c(e):(0,y.rY)(Object.values(l[e[0]]))},f={assetKey:t,stateForKey:c,stateForPartialKey:p,stateForSingleDimension:d,dimensions:o.map((function(e){return{name:e.name,partitionKeys:e.partitionKeys}}))},e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=h.useState([]),r=(0,s.Z)(t,2),i=r[0],c=r[1],p=(0,d.x)(),f=e.map((function(e){return JSON.stringify(e)})),g=JSON.stringify(f),y=f.find((function(e){return!i.some((function(t){return JSON.stringify(t.assetKey)===e&&t.fetchedAt===n}))}));return h.useMemo((function(){if(y){var e=JSON.parse(y),t=function(){var t=(0,l.Z)(u().mark((function t(){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(p,e);case 2:r=t.sent,c((function(t){return[].concat((0,a.Z)(t.filter((function(n){return!m()(n.assetKey,e)}))),[(0,o.Z)((0,o.Z)({},r),{},{fetchedAt:n})])}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[p,y,n]),h.useMemo((function(){var e=JSON.parse(g);return i.filter((function(n){return e.includes(JSON.stringify(n.assetKey))}))}),[g,i])}var b=(0,p.Ps)(r||(r=(0,i.Z)(["\n  query PartitionHealthQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        partitionKeysByDimension {\n          name\n          partitionKeys\n        }\n        partitionMaterializationCounts {\n          ... on MaterializationCountGroupedByDimension {\n            materializationCountsGrouped\n          }\n          ... on MaterializationCountSingleDimension {\n            materializationCounts\n          }\n        }\n      }\n    }\n  }\n"])))},32369:function(e,n,t){t.d(n,{f:function(){return c}});var r,i=t(99500),o=t(73701),a=t(3159),s=t(325),l=t(12436);function c(e,n){var t=(0,o.a)(u,{variables:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n}}).data;return s.useMemo((function(){return{partitionSet:"PartitionSets"===(null===t||void 0===t?void 0:t.partitionSetsOrError.__typename)?t.partitionSetsOrError.results[0]:void 0,partitionSetError:"PipelineNotFoundError"===(null===t||void 0===t?void 0:t.partitionSetsOrError.__typename)||"PythonError"===(null===t||void 0===t?void 0:t.partitionSetsOrError.__typename)?t.partitionSetsOrError:void 0}}),[t])}var u=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query AssetJobPartitionSetsQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      __typename\n      ...PythonErrorFragment\n      ... on PipelineNotFoundError {\n        __typename\n        message\n      }\n      ... on PartitionSets {\n        __typename\n        results {\n          id\n          name\n          mode\n          solidSelection\n        }\n      }\n    }\n  }\n\n  ","\n"])),l.Bq)},66855:function(e,n,t){t.d(n,{fE:function(){return p},ZC:function(){return f}});var r,i,o,a=t(99500),s=t(73701),l=t(3159),c=t(325),u=t(4735),d=t(52598);function p(e,n,t){var r=t.assetHasDefinedPartitions,i=n.asOf?"".concat(Number(n.asOf)+1):void 0,o=r?"partition":"time",a=void 0!==n.partition?"partition":void 0!==n.time||i?"time":o,l=r&&"partition"===a,u=(0,s.a)(h,{variables:l?{assetKey:{path:e.path},before:i,partitionInLast:120}:{assetKey:{path:e.path},before:i,limit:100}}),d=u.data,p=u.loading,f=u.refetch;return c.useMemo((function(){var e,n="Asset"===(null===d||void 0===d?void 0:d.assetOrError.__typename)?null===d||void 0===d?void 0:d.assetOrError:null,t=(null===n||void 0===n?void 0:n.assetMaterializations)||[],r=(null===n||void 0===n?void 0:n.assetObservations)||[],i=null===n||void 0===n||null===(e=n.definition)||void 0===e?void 0:e.partitionKeys;return{asset:n,loadedPartitionKeys:l&&i?i.slice(i.length-120):void 0,materializations:t,observations:r,loading:p,refetch:f,xAxis:a}}),[d,p,f,l,a])}var f=(0,l.Ps)(r||(r=(0,a.Z)(["\n  fragment AssetMaterializationFragment on MaterializationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      ...AssetLineageFragment\n    }\n  }\n  ","\n  ","\n"])),u.it,d.Q),m=(0,l.Ps)(i||(i=(0,a.Z)(["\n  fragment AssetObservationFragment on ObservationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n  }\n  ","\n"])),u.it),h=(0,l.Ps)(o||(o=(0,a.Z)(["\n  query AssetEventsQuery(\n    $assetKey: AssetKeyInput!\n    $limit: Int\n    $before: String\n    $partitionInLast: Int\n  ) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetObservations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetObservationFragment\n        }\n        assetMaterializations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetMaterializationFragment\n        }\n\n        definition {\n          id\n          partitionKeys\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),m,f)},89493:function(e,n,t){t.d(n,{KC:function(){return I},UU:function(){return L},L9:function(){return R},Fp:function(){return z}});var r,i,o,a,s=t(99500),l=t(95764),c=t(19065),u=t(59019),d=t(922),p=t(73701),f=t(3159),m=t(34056),h=t(24971),g=t(7838),y=t(61104),v=t(32030),x=t(34595),j=t(8412),b=t(42849),S=t(75453),N=t(325),w=t(52848),C=t(14156),E=t(12436),P=t(27719),k=t(76314),_=t(33902),K=t(26306),Z=t(32289),I=function(e){var n=e.pipeline,t=e.base,r=e.onSaveSession,i=e.onSelectPreset,o=e.onSelectPartition,a=e.partitionSets,s=e.repoAddress,l=n.isJob,c=n.presets,d=N.useMemo((function(){return[].concat((0,u.Z)(c),(0,u.Z)(a)).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[c,a]);return(0,Z.jsxs)(F,{children:[l||d.length<1?null:(0,Z.jsx)(A,{label:t?"presetName"in t?"Preset: ".concat(t.presetName):"Partition Set: ".concat(t.partitionsSetName):c.length&&!a.length?"Preset":!c.length&&a.length?"Partition Set":"Preset / Partition Set",configGenerators:d,onSelect:function(e){"PartitionSet"===e.__typename?r({mode:e.mode,base:{partitionsSetName:e.name,partitionName:null,tags:t?t.tags:null}}):i(e)}}),t&&"partitionsSetName"in t?(0,Z.jsx)(O,{pipeline:n,partitionSetName:t.partitionsSetName,value:t.partitionName,onSelect:o,repoAddress:s}):null]})},O=N.memo((function(e){var n=e.partitionSetName,t=e.value,r=e.onSelect,i=e.repoAddress,o=N.useContext(w.I).basePath,a=(0,K.$)(i),s=(0,p.a)(T,{variables:{repositorySelector:a,partitionSetName:n},fetchPolicy:"network-only"}),d=s.data,f=s.loading,b="".concat("dagit.partition-sort-order","-").concat(o,"-").concat((0,_.Uz)(i),"-").concat(n),S=(0,k.U)(b,(function(e){return void 0===e?"asc":e})),P=(0,c.Z)(S,2),I=P[0],O=P[1],A=N.useMemo((function(){var e="PartitionSet"===(null===d||void 0===d?void 0:d.partitionSetOrError.__typename)&&"Partitions"===(null===d||void 0===d?void 0:d.partitionSetOrError.partitionsOrError.__typename)?d.partitionSetOrError.partitionsOrError.results:[];return"asc"===I?e:(0,u.Z)(e).reverse()}),[d,I]),F="PartitionSet"===(null===d||void 0===d?void 0:d.partitionSetOrError.__typename)&&"Partitions"!==(null===d||void 0===d?void 0:d.partitionSetOrError.partitionsOrError.__typename)?d.partitionSetOrError.partitionsOrError:null,L=A.find((function(e){return e.name===t})),R=N.useCallback((function(e){e.preventDefault(),O((function(e){return"asc"===e?"desc":"asc"}))}),[O]),z=A.length?(0,Z.jsx)(M,{onMouseDown:R,children:(0,Z.jsx)(h.JO,{name:"sort_by_alpha",color:g.w.Gray400})}):void 0,D={placeholder:"Partition",style:{width:180},intent:(f?t:L)?m.S.NONE:m.S.DANGER,rightElement:z};return f&&0===A.length?(0,Z.jsx)(y.U5,{inputProps:(0,l.Z)((0,l.Z)({},D),{},{rightElement:t?void 0:(0,Z.jsx)(v.x,{flex:{direction:"column",justifyContent:"center"},padding:{right:4},style:{height:"30px"},children:(0,Z.jsx)(x.$,{purpose:"body-text"})})}),items:[],itemRenderer:function(){return null},noResults:(0,Z.jsx)(j.sN,{disabled:!0,text:"Loading..."}),inputValueRenderer:function(e){return e},selectedItem:t,onItemSelect:function(){}},"loading"):(F&&(0,C._)({body:(0,Z.jsx)(E.T9,{error:F})}),(0,Z.jsx)(y.U5,{defaultSelectedItem:L,items:A,inputProps:D,inputValueRenderer:function(e){return e.name},itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,Z.jsx)(j.sN,{active:n.modifiers.active,onClick:n.handleClick,text:e.name},e.name)},noResults:(0,Z.jsx)(j.sN,{disabled:!0,text:"No presets."}),onItemSelect:function(e){r(a,n,e.name)}},L?L.name:"none"))})),A=N.memo((function(e){var n=e.configGenerators,t=e.label,r=e.onSelect,i=N.useRef(null);return(0,Z.jsx)("div",{children:(0,Z.jsx)(P.b,{shortcutLabel:"\u2325E",shortcutFilter:function(e){return"KeyE"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.click()},children:(0,Z.jsx)(b.P,{items:n,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemListRenderer:function(e){var n=e.itemsParentRef,t=e.renderItem,r=e.filteredItems,i=r.filter((function(e){return"PipelinePreset"===e.__typename})).map(t).filter(Boolean),o=r.filter((function(e){return"PartitionSet"===e.__typename})).map(t).filter(Boolean),a=i.length>0&&o.length>0;return(0,Z.jsxs)(j.v2,{ulRef:n,children:[a&&(0,Z.jsx)(j.sN,{disabled:!0,text:"Presets"}),i,a&&(0,Z.jsx)(j.R,{}),a&&(0,Z.jsx)(j.sN,{disabled:!0,text:"Partition Sets"}),o]})},itemRenderer:function(e,n){return(0,Z.jsx)(j.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,Z.jsxs)("div",{children:[e.name,(0,Z.jsx)("div",{style:{opacity:.4,fontSize:"0.75rem"},children:[e.solidSelection?1===e.solidSelection.length?"Ops: ".concat(e.solidSelection[0]):"Ops: ".concat(e.solidSelection.length):"Ops: All","Mode: ".concat(e.mode)].join(" - ")})]})},e.name)},noResults:(0,Z.jsx)(j.sN,{disabled:!0,text:"No presets."}),onItemSelect:r,children:(0,Z.jsx)(S.zx,{ref:i,"data-test-id":"preset-selector-button",rightIcon:(0,Z.jsx)(h.JO,{name:"expand_more"}),children:t})})})})})),M=d.ZP.button.withConfig({displayName:"ConfigEditorConfigPicker__SortButton",componentId:"sc-9oggai-0"})(["border:0;cursor:pointer;padding:4px;margin:3px 3px 0 0;background-color:",";border-radius:4px;transition:background-color 100ms;:hover,:focus{background-color:",";outline:none;","{background-color:",";}}"],g.w.White,g.w.Gray100,h.a1,g.w.Gray700),F=d.ZP.div.withConfig({displayName:"ConfigEditorConfigPicker__PickerContainer",componentId:"sc-9oggai-1"})(["display:flex;justify:space-between;align-items:center;gap:6px;"]),L=(0,f.Ps)(r||(r=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPipelineFragment on Pipeline {\n    id\n    isJob\n    name\n    presets {\n      __typename\n      name\n      mode\n      solidSelection\n      runConfigYaml\n      tags {\n        key\n        value\n      }\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),R=(0,f.Ps)(i||(i=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPartitionSetsFragment on PartitionSets {\n    results {\n      id\n      name\n      mode\n      solidSelection\n    }\n  }\n"]))),T=(0,f.Ps)(o||(o=(0,s.Z)(["\n  query ConfigPartitionsQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      __typename\n      ... on PartitionSet {\n        id\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              name\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n    }\n  }\n  ","\n"])),E.Bq),z=(0,f.Ps)(a||(a=(0,s.Z)(["\n  query ConfigPartitionSelectionQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n    $partitionName: String!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      __typename\n      ... on PartitionSet {\n        id\n        partition(partitionName: $partitionName) {\n          name\n          solidSelection\n          runConfigOrError {\n            ... on PartitionRunConfig {\n              yaml\n            }\n            ...PythonErrorFragment\n          }\n          mode\n          tagsOrError {\n            ... on PartitionTags {\n              results {\n                key\n                value\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),E.Bq)},64451:function(e,n,t){t.d(n,{C:function(){return x}});var r=t(325),i=t(85358),o=t(95550),a=t.n(o),s=t(63579),l=t(36523),c=t(32289),u=function(e){var n=(0,x().useLaunchWithTelemetry)(),t=(0,s.TE)().canLaunchPipelineExecution,r=function(){var t=(0,i.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=e.getVariables())){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n(r,e.behavior);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.jsx)(l.C,{runCount:1,config:{onClick:r,icon:e.icon||"open_in_new",title:e.title||"Launch Run",warning:e.warning||void 0,disabled:e.disabled||!t.enabled,tooltip:t.enabled?void 0:t.disabledReason}})},d=t(19065),p=t(49148),f=t(27601),m=t(86761),h=t(55752),g=t(25429);function y(){var e=(0,s.TE)().canLaunchPipelineExecution,n=(0,p.D)(h.a6),t=(0,d.Z)(n,1)[0],o=(0,m.Ci)(),l=(0,f.k6)();return r.useCallback(function(){var n=(0,i.Z)(a().mark((function n(r,i){var s,c,u,d,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=r.executionParams.selector.jobName||r.executionParams.selector.pipelineName,e.enabled&&c){n.next=3;break}return n.abrupt("return");case 3:return u={jobName:c,opSelection:r.executionParams.selector.solidSelection?"provided":void 0},n.next=6,t({variables:r});case 6:d=n.sent,o(m.Iq.LAUNCH_RUN,u);try{(0,h.lF)(c,null===(p=d.data)||void 0===p?void 0:p.launchPipelineExecution,l,{behavior:i})}catch(a){(0,g.t)(a)}return n.abrupt("return",null===(s=d.data)||void 0===s?void 0:s.launchPipelineExecution);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,l,t,o])}var v=r.createContext({LaunchRootExecutionButton:void 0,useLaunchWithTelemetry:void 0});function x(){var e=r.useContext(v).LaunchRootExecutionButton,n=r.useContext(v).useLaunchWithTelemetry;return{LaunchRootExecutionButton:null!==e&&void 0!==e?e:u,useLaunchWithTelemetry:null!==n&&void 0!==n?n:y}}},25859:function(e,n,t){t.d(n,{e:function(){return Z},$:function(){return I}});var r,i,o,a,s=t(99500),l=t(73701),c=t(3159),u=t(922),d=(t(95550),t(325)),p=t(32289),f=(0,u.vJ)(r||(r=(0,s.Z)(["\n  .CodeMirror-hints,\n  .CodeMirror-hints.dagit {\n    z-index: 100;\n  }\n"]))),m=t(8358),h=t(27601),g=t(63579),y=t(12436),v=t(78093),x=t(96294),j=t(23196),b=t(76336),S=t(89493),N=t(44969),w=t(6364),C=t(19065),E=t(95764),P=t(88796),k=t(40433),_=function(e){var n=e.launchpadType,t=e.pipeline,r=e.partitionSets,i=e.repoAddress,o=e.sessionPresets,a=(0,P.Bv)(t,r),s=(0,P.h5)((0,E.Z)((0,E.Z)({},o),{},{runConfigYaml:a.runConfigYaml})),l=d.useState(s),c=(0,C.Z)(l,2),u=c[0],f=c[1];return(0,p.jsx)(k.Z,{launchpadType:n,session:u,onSave:function(e){var n=(0,E.Z)((0,E.Z)({},u),e);f(n)},pipeline:t,partitionSets:r,repoAddress:i})},K=d.lazy((function(){return t.e(566).then(t.bind(t,90566))})),Z=function(e){var n=e.repoAddress,t=e.sessionPresets,r=e.assetJobName,i=e.open,o=e.setOpen;return(0,p.jsxs)(m.Vq,{style:{height:"90vh",width:"80%"},isOpen:i,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return o(!1)},children:[(0,p.jsx)(m.fK,{icon:"layers",label:"Launchpad (configure assets)"}),(0,p.jsx)(f,{}),(0,p.jsx)(O,{launchpadType:"asset",pipelinePath:r,repoAddress:n,sessionPresets:t})]})},I=function(e){var n=e.repoAddress,t=(0,h.UO)(),r=t.pipelinePath,i=t.repoPath;return(0,g.TE)().canLaunchPipelineExecution.enabled?(0,p.jsx)(O,{launchpadType:"job",pipelinePath:r,repoAddress:n}):(0,p.jsx)(h.l_,{to:"/locations/".concat(i,"/pipeline_or_job/").concat(r)})},O=function(e){var n,t;(0,v.Px)();var r=e.pipelinePath,i=e.repoAddress,o=e.launchpadType,a=e.sessionPresets,s=(0,x.p3)(r),c=s.pipelineName,u=(0,b.Ux)(i),f=(0,b.E8)(u,c);(0,j.b)(s,f),(0,x.Bj)(e);var m=i.name,h=i.location,g=(0,l.a)(F,{variables:{repositoryName:m,repositoryLocationName:h,pipelineName:c},fetchPolicy:"cache-and-network",partialRefetch:!0}),y=null===g||void 0===g||null===(n=g.data)||void 0===n?void 0:n.pipelineOrError,S=null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.partitionSetsOrError;if(!y||!S)return(0,p.jsx)(w.m,{});if("PipelineNotFoundError"===S.__typename||"PipelineNotFoundError"===y.__typename){var C="PipelineNotFoundError"===y.__typename?y.message:"No data returned from GraphQL";return""!==c?(0,p.jsx)(N.U,{icon:"error",title:f?"Job not found":"Pipeline not found",description:C}):(0,p.jsx)(N.U,{icon:"no-results",title:f?"Select a job":"Select a pipeline",description:C})}if("InvalidSubsetError"===y.__typename)throw new Error("Should never happen because we do not request a subset");return"PythonError"===y.__typename?(0,p.jsx)(N.U,{icon:"error",title:"Python Error",description:y.message}):S&&"PythonError"===S.__typename?(0,p.jsx)(N.U,{icon:"error",title:"Python Error",description:S.message}):"asset"===o?(0,p.jsx)(_,{launchpadType:o,pipeline:y,partitionSets:S,repoAddress:i,sessionPresets:a||{}}):(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(K,{launchpadType:o,pipeline:y,partitionSets:S,repoAddress:i})})},A=(0,c.Ps)(i||(i=(0,s.Z)(["\n  fragment LaunchpadSessionPipelineFragment on Pipeline {\n    id\n    isJob\n    isAssetJob\n    ...ConfigEditorGeneratorPipelineFragment\n    modes {\n      id\n      name\n      description\n    }\n  }\n  ","\n"])),S.UU),M=(0,c.Ps)(o||(o=(0,s.Z)(["\n  fragment LaunchpadSessionPartitionSetsFragment on PartitionSets {\n    ...ConfigEditorGeneratorPartitionSetsFragment\n  }\n  ","\n"])),S.L9),F=(0,c.Ps)(a||(a=(0,s.Z)(["\n  query LaunchpadRootQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    pipelineOrError(\n      params: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n      ... on Pipeline {\n        id\n        ...LaunchpadSessionPipelineFragment\n      }\n    }\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      __typename\n      ...LaunchpadSessionPartitionSetsFragment\n      ... on PipelineNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),A,M,y.Bq)},40433:function(e,n,t){t.d(n,{Z:function(){return bn}});var r=t(99500),i=t(85358),o=t(59019),a=t(47427),s=t(19065),l=t(95764),c=t(922),u=t(95550),d=t.n(u),p=t(31522),f=t(73701),m=t(3159),h=t(57994),g=t(98907),y=t(64428),v=t(28463),x=(t(39388),t(50680),t(25559),t(44186),t(99912),t(94407),t(39519),t(36341),t(33961),t(36852),t(81452),t(6968),t(43615)),j=t.n(x),b=t(325),S=t(6796),N=t(24818),w=t(13091),C=t.n(w),E="CodeMirror-lint-markers";function P(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e,n,t){var r=function(e,n,t){var r=document.createElement("div"),i=t.getBoundingClientRect();return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),i.top>r.clientHeight?(r.style.top=i.top-r.clientHeight-5+"px",r.style.left=i.left+5+"px"):(r.style.top=i.top+5+"px",r.style.left=i.right+10+"px"),null!=r.style.opacity&&(r.style.opacity=1),r}(0,n,t);function i(){var e;C().off(t,"mouseout",i),r&&((e=r).parentNode&&(null==e.style.opacity&&P(e),e.style.opacity=0,setTimeout((function(){P(e)}),600)),r=null)}var o=setInterval((function(){if(r)for(var e=t;;e=e.parentNode){if(e&&11===e.nodeType&&(e=e.host),e===document.body)return;if(!e){i();break}}if(!r)return clearInterval(o)}),400);C().on(t,"mouseout",i)}function _(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(E);for(var t=0;t<n.marked.length;++t)n.marked[t].clear();n.marked.length=0}function K(e,n,t,r){var i=document.createElement("div"),o=i;return i.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+n,t&&((o=i.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),!1!==r&&C().on(o,"mouseover",(function(n){k(0,e,o)})),i}function Z(e){var n=e.severity;n||(n="error");var t=document.createElement("div");return t.className="CodeMirror-lint-message CodeMirror-lint-message-"+n,"undefined"!==typeof e.messageHTML?t.innerHTML=e.messageHTML:t.appendChild(document.createTextNode(e.message)),t}function I(e,n){_(e);for(var t,r,i=e.state.lint,o=i.options,a=function(e){for(var n=[],t=0;t<e.length;++t){var r=e[t],i=r.from.line;(n[i]||(n[i]=[])).push(r)}return n}(n),s=0;s<a.length;++s){var l=a[s];if(l){for(var c=null,u=i.hasGutter&&document.createDocumentFragment(),d=0;d<l.length;++d){var p=l[d],f=p.severity;f||(f="error"),r=f,c="error"===(t=c)?t:r,o.formatAnnotation&&(p=o.formatAnnotation(p)),i.hasGutter&&u.appendChild(Z(p)),p.to&&i.marked.push(e.markText(p.from,p.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+f,__annotation:p}))}i.hasGutter&&e.setGutterMarker(s,E,K(u,c,l.length>1,i.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(n,a,e)}function O(e){var n=e.state.lint.options,t=n.options||n,r=n.getAnnotations||e.getHelper(C().Pos(0,0),"lint");if(r)if(n.async||r.async)!function(e,n,t){var r=e.state.lint,i=++r.waitingFor;function o(){i=-1,e.off("change",o)}e.on("change",o),n(e.getValue(),(function(n,t){e.off("change",o),r.waitingFor===i&&(t&&n instanceof C()&&(n=t),e.operation((function(){I(e,n)})))}),t,e)}(e,r,t);else{var i=r(e.getValue(),t,e);if(!i)return;i.then?i.then((function(n){e.operation((function(){I(e,n)}))})):e.operation((function(){I(e,i)}))}}function A(e){var n=e.state.lint;n&&(clearTimeout(n.timeout),n.timeout=setTimeout((function(){O(e)}),n.options.delay||500))}function M(e,n){for(var t=(n.target||n.srcElement).getBoundingClientRect(),r=(t.left+t.right)/2,i=(t.top+t.bottom)/2,o=e.coordsChar({left:r,top:i},"client"),a=e.findMarksAt(o),s=e.getHelper(C().Pos(0,0),"dagster-docs")(e,o),l=[],c=0;c<a.length;++c){var u=a[c].__annotation;u&&l.push(u)}(s||l.length)&&function(e,n,t){var r=t.target||t.srcElement,i=document.createDocumentFragment();if(e){var o=document.createElement("div");o.textContent=e,i.appendChild(o),n.length&&(o.style.paddingBottom="4px",o.style.marginBottom="4px",o.style.borderBottom="1px solid rgba(0,0,0,0.25)")}for(var a=0;a<n.length;a++){var s=n[a];i.appendChild(Z(s))}k(0,i,r)}(s,l,n)}function F(e,n,t){this.marked=[],this.options=n,this.timeout=null,this.hasGutter=t,this.onMouseOver=function(n){M(e,n)},this.waitingFor=0}var L,R=t(13235),T=t(32289);C().defineOption("lint",!1,(function(e,n,t){if(t&&t!==C().Init&&(_(e),!1!==e.state.lint.options.lintOnChange&&e.off("change",A),C().off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var r=e.getOption("gutters"),i=!1,o=0;o<r.length;++o)r[o]===E&&(i=!0);var a=e.state.lint=new F(e,(s=n)instanceof Function?{getAnnotations:s}:(s&&!0!==s||(s={}),s),i);!1!==a.options.lintOnChange&&e.on("change",A),!1!==a.options.tooltips&&"gutter"!==a.options.tooltips&&C().on(e.getWrapperElement(),"mouseover",a.onMouseOver)}var s})),C().defineExtension("performLint",(function(){this.state.lint&&O(this)}));var z,D,$=/^[a-zA-Z0-9_@(]$/,G=j()((function(e){e.performLint()}),1e3),B=(0,c.vJ)(L||(L=(0,r.Z)(["\n  .react-codemirror2 .CodeMirror.cm-s-config-editor {\n    height: initial;\n    position: absolute;\n    inset: 0;\n  }\n"]))),q=function(e){(0,y.Z)(t,e);var n=(0,v.Z)(t);function t(){var e;(0,h.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i)))._editor=void 0,e.moveCursor=function(n,t){var r;if(e._editor){e._editor.setCursor(n,t,{scroll:!1});var i=e._editor.getScrollInfo().clientHeight,o=e._editor.cursorCoords(!0,"local"),a=o.left,s=o.top;null===(r=e._editor)||void 0===r||r.scrollIntoView({left:a,right:a,top:s-20,bottom:s+(i-20)}),e._editor.focus()}},e.moveCursorToPath=function(n){if(e._editor){var t=e._editor.getDoc(),r=S.wL(e.props.configCode),i=(0,R.$P)(r,n,"key");if(i){var o=t.posFromIndex(i?i.start:0);e.moveCursor(o.line,o.ch)}}},e}return(0,g.Z)(t,[{key:"componentDidUpdate",value:function(e){this._editor&&e.configSchema!==this.props.configSchema&&this.performInitialPass()}},{key:"shouldComponentUpdate",value:function(e){return e.configCode!==this.props.configCode||e.readOnly!==this.props.readOnly||e.configSchema!==this.props.configSchema}},{key:"performInitialPass",value:function(){G(this._editor);var e=(0,R.Im)(this._editor).context;this.props.onHelpContextChange(e?{type:e.closestMappingType}:null)}},{key:"render",value:function(){var e=this;return(0,T.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,T.jsx)(B,{}),(0,T.jsx)(N.X9,{value:this.props.configCode,theme:["config-editor"],options:{mode:"yaml",lineNumbers:!0,readOnly:this.props.readOnly,indentUnit:2,smartIndent:!0,showCursorWhenSelecting:!0,lintOnChange:!1,lint:{checkConfig:this.props.checkConfig,lintOnChange:!1,onUpdateLinting:!1},hintOptions:{completeSingle:!1,closeOnUnfocus:!1,schema:this.props.configSchema},keyMap:"sublime",extraKeys:{"Cmd-Space":function(e){return e.showHint({completeSingle:!0})},"Ctrl-Space":function(e){return e.showHint({completeSingle:!0})},"Alt-Space":function(e){return e.showHint({completeSingle:!0})},"Shift-Tab":function(e){return e.execCommand("indentLess")},Tab:function(e){return e.execCommand("indentMore")},"Cmd-F":"findPersistent","Ctrl-F":"findPersistent"},gutters:["CodeMirror-foldgutter","CodeMirror-lint-markers","CodeMirror-linenumbers"],foldGutter:!0},editorDidMount:function(n){e._editor=n,e.performInitialPass()},onBeforeChange:function(n,t,r){e.props.onConfigChange(r)},onCursorActivity:function(n){if(n.getSelection().length)e.props.onHelpContextChange(null);else{var t=(0,R.Im)(n).context;e.props.onHelpContextChange(t?{type:t.closestMappingType}:null)}},onChange:function(e){G(e)},onBlur:function(e){G(e)},onKeyUp:function(e,n){$.test(n.key)&&e.execCommand("autocomplete")}})]})}}]),t}(b.Component),U=function(e,n){return(e&&e.type.key)===(n&&n.type.key)},V=t(7838),J=t(71725),Q=b.memo((function(e){var n=e.context,t=e.allInnerTypes;return n?(0,T.jsxs)(W,{children:[(0,T.jsx)(Y,{children:(0,T.jsx)(J.L,{type:n.type,typesInScope:t,maxDepth:2})}),(0,T.jsx)(H,{children:"Use Ctrl+Space to show auto-completions inline."})]}):(0,T.jsx)(W,{})}),(function(e,n){return U(e.context,n.context)})),H=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__AutocompletionsNote",componentId:"sc-1pjkbac-0"})(["font-size:0.75rem;text-align:center;padding:4px;border-top:1px solid ",";background:",";color:",";"],V.w.KeylineGray,V.w.Gray100,V.w.Gray500),Y=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__ConfigScrollWrap",componentId:"sc-1pjkbac-1"})(["padding:8px;color:",";flex:1;pointer-events:initial;max-height:100%;overflow-y:auto;"],V.w.Dark),W=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__Container",componentId:"sc-1pjkbac-2"})(["position:relative;display:flex;flex-direction:column;background-color:",";height:100%;"],V.w.Gray50),X=t(32030),ee=t(17912),ne=t(88863),te=t(75453),re=t(24971),ie=t(6466),oe=t(3810),ae=t.n(oe),se=t(54972),le=t.n(se),ce=t(14156),ue=t(12436),de=t(27719),pe=t(39061),fe=(0,m.Ps)(z||(z=(0,r.Z)(["\n  fragment ConfigEditorRunConfigSchemaFragment on RunConfigSchema {\n    rootConfigType {\n      key\n    }\n    allConfigTypes {\n      __typename\n      key\n      description\n      isSelector\n      typeParamKeys\n      ... on RegularConfigType {\n        givenName\n      }\n      ... on MapConfigType {\n        keyLabelName\n      }\n      ... on EnumConfigType {\n        givenName\n        values {\n          value\n          description\n        }\n      }\n      ... on CompositeConfigType {\n        fields {\n          name\n          description\n          isRequired\n          configTypeKey\n          defaultValueAsJson\n        }\n      }\n      ... on ScalarUnionConfigType {\n        key\n        scalarTypeKey\n        nonScalarTypeKey\n      }\n    }\n  }\n"]))),me=(0,m.Ps)(D||(D=(0,r.Z)(["\n  fragment ConfigEditorValidationFragment on PipelineConfigValidationResult {\n    __typename\n    ... on RunConfigValidationInvalid {\n      errors {\n        __typename\n        reason\n        message\n        stack {\n          entries {\n            __typename\n            ... on EvaluationStackPathEntry {\n              fieldName\n            }\n            ... on EvaluationStackListItemEntry {\n              listIndex\n            }\n            ... on EvaluationStackMapKeyEntry {\n              mapKey\n            }\n            ... on EvaluationStackMapValueEntry {\n              mapKey\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function he(e){return e.map((function(e){switch(e.__typename){case"EvaluationStackPathEntry":return e.fieldName;case"EvaluationStackListItemEntry":return"".concat(e.listIndex);case"EvaluationStackMapKeyEntry":case"EvaluationStackMapValueEntry":return"".concat(e.mapKey)}}))}function ge(e,n){if("RunConfigValidationInvalid"!==n.__typename)return{isValid:!0};var t=n.errors.map((function(e){return{message:e.message,reason:e.reason,path:he(e.stack.entries)}})),r=S.ZP.parse(e),i=Object.keys(r);return t.forEach((function(e){0===e.path.length&&i.length&&(e.path=[i[0]])})),{isValid:!1,errors:t}}var ye,ve,xe=t(28064),je=t(33902),be=t(26306),Se=t(89493),Ne=t(42849),we=t(8412),Ce=function(e){var n=e.modeName?e.modes.find((function(n){return n.name===e.modeName})):e.modes[0];b.useEffect((function(){var t;n&&n.name!==e.modeName&&(null===(t=e.onModeChange)||void 0===t||t.call(e,n.name))}),[n,e.modeName]);var t=1===e.modes.length,r=!e.modeError,i=t&&r;return(0,T.jsx)(Ne.P,{activeItem:n,filterable:!0,disabled:i,items:e.modes,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,T.jsx)(we.sN,{active:n.modifiers.active,text:e.name,onClick:n.handleClick},e.name)},onItemSelect:function(n){var t;null===(t=e.onModeChange)||void 0===t||t.call(e,n.name)},children:(0,T.jsx)(te.zx,{icon:r?void 0:(0,T.jsx)(re.JO,{name:"error"}),intent:r?"none":"danger",title:i?"To add a mode, add a ModeDefinition to the pipeline.":"Current execution mode",disabled:i,rightIcon:(0,T.jsx)(re.JO,{name:"expand_more"}),"data-test-id":"mode-picker-button",children:r?n?"Mode: ".concat(n.name):"Select Mode":"Invalid Mode Selection"})})},Ee=t(64451),Pe=t(33214),ke=t(762),_e=t(25496),Ke=t(27218),Ze=t(2112),Ie=t(65164),Oe=t(76336),Ae=(0,m.Ps)(ye||(ye=(0,r.Z)(["\n  query OpSelectorQuery($selector: PipelineSelector!, $requestScopeHandleID: String) {\n    pipelineOrError(params: $selector) {\n      __typename\n      ... on Pipeline {\n        id\n        name\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),Ze.Q,ue.Bq),Me=function(e){var n=e.serverProvidedSubsetError,t=e.onChange,r=e.pipelineName,i=e.repoAddress,o=e.onFlattenGraphsChange,a=b.useState(!1),c=(0,s.Z)(a,2),u=c[0],d=c[1],p=b.useRef(null),m=e.flattenGraphs||!1,h=(0,l.Z)((0,l.Z)({},(0,be.$)(i)),{},{pipelineName:r}),g=(0,Oe.Ux)(i),y=(0,Oe.E8)(g,r),v=(0,f.a)(Ae,{variables:{selector:h,requestScopeHandleID:m?void 0:""},fetchPolicy:"cache-and-network"}),x=v.data,j=v.loading,S=e.query||"*",N=("Pipeline"===(null===x||void 0===x?void 0:x.pipelineOrError.__typename)?m?(0,Ke.i)(x.pipelineOrError.solidHandles):x.pipelineOrError.solidHandles:[]).map((function(e){return e.solid})),w=m||N.some((function(e){return"CompositeSolidDefinition"===e.definition.__typename})),C="Pipeline"!==(null===x||void 0===x?void 0:x.pipelineOrError.__typename)&&(null===x||void 0===x?void 0:x.pipelineOrError.message)||null,E=(0,_e.V)(N,S).all,P=!j&&0===E.length?y?"You must provide a valid op query or * to execute the entire job.":"You must provide a valid solid query or * to execute the entire pipeline.":n?n.message:C;return null!==x&&void 0!==x&&x.pipelineOrError?(0,T.jsx)(X.x,{flex:{direction:"row",alignItems:"center",gap:8},children:(0,T.jsx)(ke.J,{isOpen:u&&!!P,position:"bottom-left",content:(0,T.jsx)(Fe,{children:P}),children:(0,T.jsx)(de.b,{shortcutLabel:"\u2325S",shortcutFilter:function(e){return"KeyS"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},children:(0,T.jsx)(Ie.j,{width:"*"!==S&&""!==S||u||w?350:90,intent:P?"danger":"none",items:N,ref:p,value:S,placeholder:"Type an op subset\u2026",onChange:function(e){""===e&&(e="*");var n=(0,_e.V)(N,e).all;n.length===N.length?t(null,e):t(n.map((function(e){return e.name})),e)},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},linkToPreview:{repoName:i.name,repoLocation:i.location,pipelineName:r,isJob:y},flattenGraphsEnabled:w,flattenGraphs:m,setFlattenGraphs:function(){o(!m)}})})})}):null},Fe=c.ZP.div.withConfig({displayName:"OpSelector__PopoverErrorWrap",componentId:"sc-6j6o1g-0"})(["padding:4px 8px;border-radius:2px;border:1px solid ",";background:",";color:",";"],V.w.Red500,V.w.Red200,V.w.Red700),Le=t(16540),Re=t(81034),Te=t(12745),ze=t(60652),De=t(11831),$e=t(54268),Ge=t(50346),Be=t(8546),qe=t(79540),Ue=["resources","ops","solids"];function Ve(e){return!(!e||"object"!==typeof e||!("__typename"in e))}var Je={invalid:{title:"You need to fix this configuration section.",intent:"danger"},missing:{title:"You need to add this configuration section.",intent:"danger"},present:{title:"This section is present and valid.",intent:"none"},none:{title:"This section is empty and valid.",intent:"none"}},Qe=function(e){var n,t=e.onRemoveExtraPaths,r=e.extraNodes,o=e.disabled,l=(0,qe.p)(),c={},u=[],p=(0,a.Z)(r);try{for(p.s();!(n=p.n()).done;){var f=n.value,m=f.split(".");if(2===m.length){var h=(0,s.Z)(m,2),g=h[0],y=h[1];c[g]||(c[g]=[]),c[g].push(y)}else u.push(f)}}catch(x){p.e(x)}finally{p.f()}var v=function(){var e=(0,i.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({title:"Remove extra config",description:(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{children:"You have provided extra configuration in your run config which does not conform to your\n            pipeline's config schema."}),Object.entries(c).length>0&&Object.entries(c).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("p",{children:["Extra ",t,":"]}),(0,T.jsx)("ul",{children:r.map((function(e){return(0,T.jsx)("li",{children:(0,T.jsx)(Te.EK,{children:e})},e)}))})]})})),u.length>0&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{children:"Other extra paths:"}),(0,T.jsx)("ul",{children:u.map((function(e){return(0,T.jsx)("li",{children:(0,T.jsx)(Te.EK,{children:e})},e)}))})]}),(0,T.jsx)("p",{children:"Clicking confirm will automatically remove this extra configuration from your run config."})]})});case 2:t(r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,T.jsxs)(X.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,T.jsx)(te.zx,{disabled:o,onClick:v,children:"Remove extra config"}),o?(0,T.jsxs)(X.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,T.jsx)(re.JO,{name:"check_circle",color:V.w.Green500}),"No extra config to remove"]}):null]})},He=function(e){var n=e.onScaffoldMissingConfig,t=e.missingNodes,r=e.disabled,o=(0,qe.p)(),a=(0,T.jsxs)("div",{children:[t.length>0&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{children:"Missing paths:"}),(0,T.jsx)("ul",{children:t.map((function(e){return(0,T.jsx)("li",{children:(0,T.jsx)(Te.EK,{children:e})},e)}))})]}),(0,T.jsx)("p",{children:"Clicking confirm will automatically scaffold this missing configuration into your run config with default values. You will need to change the values appropriately."})]}),s=function(){var e=(0,i.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({title:"Scaffold missing config",description:a});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,T.jsxs)(X.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,T.jsx)(te.zx,{disabled:r,onClick:s,children:"Scaffold missing config"}),r?(0,T.jsxs)(X.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,T.jsx)(re.JO,{name:"check_circle",color:V.w.Green500}),"No missing config"]}):null]})},Ye=function(e){var n=e.document,t=e.validation,r=e.onHighlightPath,i=e.launchpadType,l=e.onRemoveExtraPaths,c=e.onScaffoldMissingConfig,u=e.solidSelection,d=e.runConfigSchema,p=b.useState(!1),f=(0,s.Z)(p,2),m=f[0],h=f[1],g=b.useMemo((function(){if(!d)return{};var e=d.allConfigTypes,n=d.rootConfigType,t={},r=e.find((function(e){return e.key===n.key}));return"CompositeConfigType"!==(null===r||void 0===r?void 0:r.__typename)||r.fields.forEach((function(n){var r=e.find((function(e){return e.key===n.configTypeKey}));"CompositeConfigType"===(null===r||void 0===r?void 0:r.__typename)&&(t[n.name]=r)})),t}),[d]),y=[],v=[],x=[];if(t&&"RunConfigValidationInvalid"===t.__typename&&t.errors.forEach((function(e){var n=he(e.stack.entries);if(x.push({pathKey:n.join("."),error:e}),"MissingFieldConfigError"===e.__typename)v.push([].concat((0,o.Z)(n),[e.field.name]).join("."));else if("MissingFieldsConfigError"===e.__typename){var t,r=(0,a.Z)(e.fields);try{for(r.s();!(t=r.n()).done;){var i=t.value;v.push([].concat((0,o.Z)(n),[i.name]).join("."))}}catch(u){r.e(u)}finally{r.f()}}else if("FieldNotDefinedConfigError"===e.__typename)y.push([].concat((0,o.Z)(n),[e.fieldName]).join("."));else if("FieldsNotDefinedConfigError"===e.__typename){var s,l=(0,a.Z)(e.fieldNames);try{for(l.s();!(s=l.n()).done;){var c=s.value;y.push([].concat((0,o.Z)(n),[c]).join("."))}}catch(u){l.e(u)}finally{l.f()}}else"RuntimeMismatchConfigError"===e.__typename&&v.push(n.join("."))})),"InvalidSubsetError"===(null===t||void 0===t?void 0:t.__typename)&&x.push({pathKey:"",error:t.message}),"PythonError"===(null===t||void 0===t?void 0:t.__typename)){var j=(0,T.jsx)(ue.T9,{error:t});x.push({pathKey:"",error:(0,T.jsxs)("span",{children:["PythonError:"," ",(0,T.jsx)(ze.Z,{onClick:function(){return(0,ce._)({body:j})},children:"Click for details"})]})})}var S=g.resources,N=g.ops,w=g.solids,C=(0,Re.Z)(g,Ue),E=!(null===N||void 0===N||!N.fields),P=function(e,t){var i=t.map((function(t){if(null!==u&&void 0!==u&&u.length&&(null===u||void 0===u||!u.includes(t.name)))return null;var i=[].concat((0,o.Z)(e),[t.name]),a=i.join("."),s=x.filter((function(e){return e.pathKey===a||e.pathKey.startsWith("".concat(a,"."))})).map((function(e){return e.error})),l=ln(i,n),c=v.some((function(e){return e.includes(i.join("."))})),d=s.length||c,p=i.some((function(e,n){return v.includes(i.slice(0,n+1).join("."))}));if(m&&!d)return!1;var f=p&&t.isRequired?"missing":d?"invalid":l?"present":"none";return(0,T.jsx)(De.u,{position:"bottom",content:Je[f].title,intent:Je[f].intent,children:(0,T.jsx)($e.V,{intent:Je[f].intent,onClick:function(){var e=s.find(Ve);r(e?he(e.stack.entries):i)},children:t.name},t.name)},t.name)})).filter(Boolean);return i.length?i:(0,T.jsx)(tn,{children:"Nothing to display."})};return(0,T.jsx)(ee.OS,{identifier:"run-preview",axis:"horizontal",first:(0,T.jsxs)(rn,{children:[(0,T.jsxs)(en,{children:[(0,T.jsx)(Xe,{children:"Errors"}),x.length?x.map((function(e,n){return(0,T.jsx)(sn,{error:e.error,onHighlight:r},n)})):(0,T.jsxs)(X.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,T.jsx)(re.JO,{name:"check_circle",color:V.w.Green500}),"No errors"]})]}),(0,T.jsxs)(en,{children:[(0,T.jsx)(Xe,{children:"Config actions:"}),(0,T.jsxs)(X.x,{flex:{direction:"column",gap:8},padding:{top:4,bottom:20},children:[(0,T.jsx)(He,{onScaffoldMissingConfig:c,missingNodes:v,disabled:!v.length}),(0,T.jsx)(Qe,{onRemoveExtraPaths:l,extraNodes:y,disabled:!y.length})]})]})]}),firstInitialPercent:50,firstMinSize:150,second:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{style:{overflowY:"scroll",width:"100%",height:"100%"},children:[(0,T.jsxs)(an,{children:[(0,T.jsxs)(en,{children:[(0,T.jsx)(Xe,{children:"Runtime"}),(0,T.jsx)(nn,{children:P([],Object.keys(C).map((function(e){return{name:e,isRequired:!1}})))})]}),((null===S||void 0===S?void 0:S.fields.length)||0)>0&&(0,T.jsxs)(en,{children:[(0,T.jsx)(Xe,{children:"Resources"}),(0,T.jsx)(nn,{children:P(["resources"],(null===S||void 0===S?void 0:S.fields)||[])})]})]}),(0,T.jsxs)(en,{children:[(0,T.jsx)(Xe,{children:"asset"===i?"Assets (Ops)":"Ops"}),(0,T.jsx)(nn,{children:P([E?"ops":"solids"],(E?null===N||void 0===N?void 0:N.fields:null===w||void 0===w?void 0:w.fields)||[])})]}),(0,T.jsx)("div",{style:{height:50}})]}),(0,T.jsx)("div",{style:{position:"absolute",top:0,right:0,padding:"12px 15px 0px 10px",background:"rgba(255,255,255,0.7)"},children:(0,T.jsx)(Ge.X,{label:"Errors Only",checked:m,onChange:function(){return h(!m)}})})]})})},We=(0,m.Ps)(ve||(ve=(0,r.Z)(["\n  fragment RunPreviewValidationFragment on PipelineConfigValidationResult {\n    __typename\n    ... on RunConfigValidationInvalid {\n      errors {\n        __typename\n        reason\n        message\n        stack {\n          entries {\n            __typename\n            ... on EvaluationStackPathEntry {\n              fieldName\n            }\n            ... on EvaluationStackListItemEntry {\n              listIndex\n            }\n            ... on EvaluationStackMapKeyEntry {\n              mapKey\n            }\n            ... on EvaluationStackMapValueEntry {\n              mapKey\n            }\n          }\n        }\n        ... on MissingFieldConfigError {\n          field {\n            name\n          }\n        }\n        ... on MissingFieldsConfigError {\n          fields {\n            name\n          }\n        }\n        ... on FieldNotDefinedConfigError {\n          fieldName\n        }\n        ... on FieldsNotDefinedConfigError {\n          fieldNames\n        }\n      }\n    }\n    ... on PipelineNotFoundError {\n      message\n    }\n    ... on InvalidSubsetError {\n      message\n    }\n    ...PythonErrorFragment\n  }\n\n  ","\n"])),ue.Bq),Xe=c.ZP.div.withConfig({displayName:"RunPreview__SectionTitle",componentId:"sc-1d5bfcs-0"})(["color:",";text-transform:uppercase;font-size:12px;margin-bottom:8px;"],V.w.Gray400),en=c.ZP.div.withConfig({displayName:"RunPreview__Section",componentId:"sc-1d5bfcs-1"})(["margin-top:14px;margin-left:10px;"]),nn=c.ZP.div.withConfig({displayName:"RunPreview__ItemSet",componentId:"sc-1d5bfcs-2"})(["display:flex;flex-direction:row;flex-wrap:wrap;gap:4px;"]),tn=c.ZP.div.withConfig({displayName:"RunPreview__ItemsEmptyNotice",componentId:"sc-1d5bfcs-3"})(["font-size:13px;padding-top:7px;padding-bottom:7px;"]),rn=c.ZP.div.withConfig({displayName:"RunPreview__ErrorListContainer",componentId:"sc-1d5bfcs-4"})(["margin-left:10px;overflow-y:scroll;height:100%;"]),on=c.ZP.div.withConfig({displayName:"RunPreview__ErrorRowContainer",componentId:"sc-1d5bfcs-5"})(["text-align:left;font-size:13px;white-space:pre-wrap;word-break:break-word;font-family:",";cursor:pointer;display:flex;flex-direction:row;align-items:flex-start;border-bottom:1px solid #ccc;padding:8px;margin:8px 12px 0 -8px;&:last-child{border-bottom:0;margin-bottom:15px;}",""],Be.b.monospace,(function(e){return e.hoverable&&"&:hover {\n      background: ".concat(V.w.Gray50,";\n    }\n  ")})),an=c.ZP.div.withConfig({displayName:"RunPreview__RuntimeAndResourcesSection",componentId:"sc-1d5bfcs-6"})(["display:flex;gap:12px;@media (max-width:800px){flex-direction:column;}"]),sn=function(e){var n=e.error,t=e.onHighlight,r=n,i=null;Ve(n)&&(r=n.message,i=n);var o=r;return"string"===typeof r&&r.length>400&&(o=function(e){var n=e.indexOf("{");-1===n&&(n=e.indexOf(". "));-1===n&&(n=400);return e.substr(0,n)+"... "}(r)),(0,T.jsxs)(on,{hoverable:!!i,onClick:function(){return i&&t(he(i.stack.entries))},children:[(0,T.jsx)("div",{style:{paddingRight:4},children:(0,T.jsx)(re.JO,{name:"error",color:V.w.Red500})}),(0,T.jsxs)("div",{children:[o,o!==r&&(0,T.jsxs)(T.Fragment,{children:["\xa0",(0,T.jsx)(ze.Z,{onClick:function(){return(0,ce._)({body:(0,T.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:r})})},children:"View all"})]})]})]})};function ln(e,n){if(!n||"object"!==typeof n)return!1;if(0===e.length)return!0;var t=(0,Le.Z)(e),r=t[0];return ln(t.slice(1),n[r])}var cn,un,dn,pn=t(80610),fn=t(33547),mn=t(76341),hn=function e(n,t){var r=t[n];switch(r.__typename){case"CompositeConfigType":if(r.isSelector)return"<selector>";var i,o={},s=(0,a.Z)(r.fields);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.name,u=l.isRequired,d=l.configTypeKey;u&&(o[c]=e(d,t))}}catch(p){s.e(p)}finally{s.f()}return o;case"ArrayConfigType":return[];case"MapConfigType":return{};case"NullableConfigType":return e(r.typeParamKeys[0],t);case"EnumConfigType":return r.values.map((function(e){return e.value})).join("|");case"ScalarUnionConfigType":return e(r.scalarTypeKey,t);case"RegularConfigType":return{String:"",Int:0,Float:0,Bool:!0,Any:"AnyType"}[r.key];default:(0,mn.UT)(r)}},gn=function(e){var n=e.allConfigTypes,t=e.rootConfigType,r=function(e){var n,t={},r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i.key]=i}}catch(o){r.e(o)}finally{r.f()}return t}(n);return hn(t.key,r)},yn="The YAML you provided couldn't be parsed. Please fix the syntax errors and try again.",vn=function(e,n){switch(n.type){case"preview-loading":return(0,l.Z)((0,l.Z)({},e),{},{previewLoading:n.payload});case"set-preview":var t=n.payload,r=t.preview,i=t.previewedDocument,o=t.previewLoading;return(0,l.Z)((0,l.Z)({},e),{},{preview:r,previewedDocument:i,previewLoading:o});case"toggle-tag-editor":return(0,l.Z)((0,l.Z)({},e),{},{tagEditorOpen:n.payload});case"toggle-config-loading":return(0,l.Z)((0,l.Z)({},e),{},{configLoading:n.payload});case"set-editor-help-context":return(0,l.Z)((0,l.Z)({},e),{},{editorHelpContext:n.payload});default:return e}},xn=function(e){var n=e.launchpadType,t=e.children;return"asset"===n?(0,T.jsxs)(X.x,{flex:{direction:"row"},border:{side:"top",width:1,color:V.w.KeylineGray},padding:{right:12,vertical:8},children:[(0,T.jsx)("div",{style:{flexGrow:1}}),t]}):(0,T.jsx)("div",{style:{position:"absolute",bottom:12,right:12,zIndex:1},children:t})},jn={preview:null,previewLoading:!1,previewedDocument:null,configLoading:!1,editorHelpContext:null,tagEditorOpen:!1},bn=function(e){var n,t,r,c=e.launchpadType,u=e.session,m=e.onSave,h=e.partitionSets,g=e.pipeline,y=e.repoAddress,v=(0,p.x)(),x=b.useReducer(vn,jn),j=(0,s.Z)(x,2),N=j[0],w=j[1],C=b.useRef(!1),E=b.useRef(null),P=b.useRef(null),k=b.useRef(0),_=g.isJob,K=b.useMemo((function(){return u.tags||[]}),[u]),Z=(0,l.Z)((0,l.Z)({},(0,be.$)(y)),{},{pipelineName:g.name,solidSelection:u.solidSelection||void 0,assetSelection:null===(n=u.assetSelection)||void 0===n?void 0:n.map((function(e){return{path:e.assetKey.path}}))}),I=(0,f.a)(kn,{variables:{selector:Z,mode:null===u||void 0===u?void 0:u.mode},fetchPolicy:"cache-and-network",partialRefetch:!0}),O=null===I||void 0===I||null===(t=I.data)||void 0===t?void 0:t.runConfigSchemaOrError;b.useEffect((function(){return C.current=!0,function(){C.current=!1}}));var A,M,F=function(e){m(e)},L="RunConfigSchema"===(null===O||void 0===O?void 0:O.__typename)?O:void 0,R="ModeNotFoundError"===(null===O||void 0===O?void 0:O.__typename)?O:void 0,z=function(){var e=(0,i.Z)(d().mark((function e(n){var t,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.current+=1,t=k.current,r=wn(n),w({type:"preview-loading",payload:!0}),e.next=6,v.query({fetchPolicy:"no-cache",query:Cn,variables:{runConfigData:r,pipeline:Z,mode:u.mode||"default"}});case 6:return i=e.sent,o=i.data,C.current&&(a=t===k.current,w({type:"set-preview",payload:{preview:o,previewedDocument:r,previewLoading:!a&&N.previewLoading}})),e.abrupt("return",ge(r,o.isPipelineConfigValid));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(e){var n=u.base?K.filter((function(n){var t,r;return(null===(t=u.base)||void 0===t?void 0:t.tags)&&!(null!==(r=u.base)&&void 0!==r&&r.tags.some((function(e){return e.key===n.key&&e.value===n.value})))&&!e.some((function(e){return e.key===n.key}))})):[];return[].concat((0,o.Z)(e),(0,o.Z)(n))},$=function(){var e=(0,i.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.tags.map(Sn),F({base:{presetName:n.name,tags:t},name:n.name,runConfigYaml:n.runConfigYaml||"",solidSelection:n.solidSelection,solidSelectionQuery:null===n.solidSelection?"*":n.solidSelection.join(","),mode:n.mode,tags:D(t),needsRefresh:!1});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)(d().mark((function e(n,t,r,i){var o,a,s,l,c,p,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(),e.prev=1,o=u.base,e.next=5,v.query({query:Se.Fp,variables:{repositorySelector:n,partitionSetName:t,partitionName:r}});case 5:if(a=e.sent,(s=a.data)&&s.partitionSetOrError&&"PartitionSet"===s.partitionSetOrError.__typename&&s.partitionSetOrError.partition){e.next=10;break}return Y(),e.abrupt("return");case 10:l=s.partitionSetOrError.partition,c=[],"PythonError"===l.tagsOrError.__typename?(0,ce._)({body:(0,T.jsx)(ue.T9,{error:l.tagsOrError})}):c=l.tagsOrError.results.map(Sn),"PythonError"===l.runConfigOrError.__typename?(p="",(0,ce._)({body:(0,T.jsx)(ue.T9,{error:l.runConfigOrError})})):p=l.runConfigOrError.yaml,f=i||l.solidSelection,F({name:l.name,base:Object.assign({},o,{partitionName:l.name,tags:c}),runConfigYaml:p,solidSelection:f,solidSelectionQuery:null===f?"*":f.join(","),mode:l.mode,tags:D(c),needsRefresh:!1}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:Y();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n,t,r,i){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(d().mark((function e(n){var t,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("presetName"in n)){e.next=5;break}return t=n.presetName,(r=g.presets.find((function(e){return e.name===t})))&&$((0,l.Z)((0,l.Z)({},r),{},{solidSelection:u.solidSelection||r.solidSelection})),e.abrupt("return");case 5:if(i=n.partitionName,o=n.partitionsSetName,a=(0,be.$)(y),!i){e.next=12;break}return H(),e.next=11,G(a,o,i,u.solidSelection);case 11:Y();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){return w({type:"toggle-tag-editor",payload:!0})},H=function(){return w({type:"toggle-config-loading",payload:!0})},Y=function(){return w({type:"toggle-config-loading",payload:!1})},W=N.preview,oe=N.previewLoading,se=N.previewedDocument,fe=N.configLoading,me=N.editorHelpContext,he=N.tagEditorOpen,ye=b.useMemo((function(){var e=u.base,n=u.needsRefresh;return e&&n&&("presetName"in e||e.partitionsSetName&&e.partitionName)?e:null}),[u]);"asset"===c&&(A="Materialize"),h.results.length&&u.base&&"partitionsSetName"in u.base&&!u.base.partitionName&&(M="This job is partitioned. Are you sure you want to launch a run without a partition specified?");var ve=(0,Ee.C)().LaunchRootExecutionButton;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ee.OS,{axis:"vertical",identifier:"execution",firstMinSize:100,firstInitialPercent:75,first:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Pe.f,{isLoading:fe,message:"Generating configuration..."}),(0,T.jsxs)(pn.a,{children:[(0,T.jsx)(Se.KC,{pipeline:g,partitionSets:h.results,base:u.base,onSaveSession:F,onSelectPreset:$,onSelectPartition:G,repoAddress:y}),(0,T.jsx)(En,{}),"asset"===c?(0,T.jsx)(ne.oi,{readOnly:!0,value:u.assetSelection?u.assetSelection.map((function(e){return(0,pe.Je)(e.assetKey)})).join(", "):"*"}):(0,T.jsx)(Me,{serverProvidedSubsetError:"InvalidSubsetError"===(null===W||void 0===W?void 0:W.isPipelineConfigValid.__typename)?W.isPipelineConfigValid:void 0,pipelineName:g.name,value:u.solidSelection||null,query:u.solidSelectionQuery||null,onChange:function(e,n){F({solidSelection:e,solidSelectionQuery:n})},flattenGraphs:u.flattenGraphs,onFlattenGraphsChange:function(e){F({flattenGraphs:e})},repoAddress:y}),_?(0,T.jsx)("span",{}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(En,{}),(0,T.jsx)(Ce,{modes:g.modes,modeError:R,onModeChange:function(e){F({mode:e})},modeName:u.mode})]}),(0,T.jsx)(fn.U,{tagsFromDefinition:g.tags,tagsFromSession:K,onChange:function(e){var n={},t=[];e.forEach((function(e){e.key in n||(n[e.key]=e.value,t.push(e))})),F({tags:t})},open:he,onRequestClose:function(){return w({type:"toggle-tag-editor",payload:!1})}}),(0,T.jsx)("div",{style:{flex:1}}),(0,T.jsx)(de.b,{shortcutLabel:"\u2325T",shortcutFilter:function(e){return"KeyT"===e.code&&e.altKey},onShortcut:J,children:(0,T.jsx)(te.zx,{onClick:J,icon:(0,T.jsx)(re.JO,{name:"edit"}),children:"Edit tags"})}),(0,T.jsx)(En,{}),(0,T.jsx)(ee.Uj,{axis:"horizontal",container:P})]}),g.tags.length||K.length?(0,T.jsx)(X.x,{padding:{vertical:8,left:12,right:0},border:{side:"bottom",width:1,color:V.w.Gray200},children:(0,T.jsx)(fn.x,{tagsFromDefinition:g.tags,tagsFromSession:K,onRequestEdit:J})}):null,ye?(0,T.jsx)(X.x,{padding:{vertical:8,horizontal:12},border:{side:"bottom",width:1,color:V.w.Gray200},children:(0,T.jsxs)(ie.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,T.jsx)(re.JO,{name:"warning",color:V.w.Yellow500}),(0,T.jsxs)("div",{children:[(0,je.Uz)(y)," has been manually refreshed, and this configuration may now be out of date."]}),(0,T.jsx)(te.zx,{intent:"primary",onClick:function(){return B(ye)},disabled:N.configLoading,children:"Refresh config"}),(0,T.jsx)(te.zx,{onClick:function(){F({needsRefresh:!1})},children:"Dismiss"})]})}):null,(0,T.jsx)(ee.OS,{ref:P,axis:"horizontal",identifier:"execution-editor",firstMinSize:100,firstInitialPercent:70,first:(0,T.jsx)(q,{ref:E,readOnly:!1,configSchema:L,configCode:u.runConfigYaml,onConfigChange:function(e){F({runConfigYaml:e})},onHelpContextChange:function(e){U(me,e)||w({type:"set-editor-help-context",payload:e})},checkConfig:z}),second:(0,T.jsx)(Q,{context:me,allInnerTypes:(null===L||void 0===L?void 0:L.allConfigTypes)||[]})})]}),second:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Pe.f,{isLoading:oe,message:L?"Checking config...":"Loading config schema..."}),(0,T.jsx)(Ye,{launchpadType:c,document:se,validation:W?W.isPipelineConfigValid:null,solidSelection:u.solidSelection,runConfigSchema:L,onHighlightPath:function(e){var n;return null===(n=E.current)||void 0===n?void 0:n.moveCursorToPath(e)},onRemoveExtraPaths:function(e){return function(e){try{var n,t=S.Qc(wn(u.runConfigYaml)),r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;Nn(t,i)}}catch(o){r.e(o)}finally{r.f()}F({runConfigYaml:S.Pz(t)})}catch(o){return void(0,ce._)({title:"Invalid YAML",body:yn})}}(e)},onScaffoldMissingConfig:function(){var e=L?gn(L):{};try{var n=S.Qc(wn(u.runConfigYaml)),t=ae()(e,n),r=S.Pz(t);F({runConfigYaml:r})}catch(i){(0,ce._)({title:"Invalid YAML",body:yn})}}})]})}),(0,T.jsx)(xn,{launchpadType:c,children:(0,T.jsx)(ve,{title:A,warning:M,pipelineName:g.name,getVariables:function(){var e,n;if(u){var t=wn(u.runConfigYaml);try{S.Qc(t)}catch(r){return void(0,ce._)({title:"Invalid YAML",body:yn})}return{executionParams:{runConfigData:t,selector:(0,l.Z)((0,l.Z)({},Z),{},{assetSelection:u.assetSelection?u.assetSelection.map((function(e){return{path:e.assetKey.path}})):void 0}),mode:u.mode||"default",executionMetadata:{tags:le()([].concat((0,o.Z)(u.solidSelectionQuery?[{key:xe.H.SolidSelection,value:u.solidSelectionQuery}]:[]),(0,o.Z)(null!==u&&void 0!==u&&null!==(e=u.base)&&void 0!==e&&e.presetName?[{key:xe.H.PresetName,value:null===u||void 0===u||null===(n=u.base)||void 0===n?void 0:n.presetName}]:[]),(0,o.Z)(u.assetSelection?[{key:xe.H.StepSelection,value:u.assetSelection.flatMap((function(e){return e.opNames})).join(",")}]:[]),(0,o.Z)(K.map(Sn)),(0,o.Z)(g.tags.map(Sn))),(function(e){return e.key}))}}}}},disabled:"PipelineConfigValidationValid"!==(null===W||void 0===W||null===(r=W.isPipelineConfigValid)||void 0===r?void 0:r.__typename),behavior:"open"})})]})},Sn=function(e){return{key:e.key,value:e.value}},Nn=function(e,n){for(var t=n.split("."),r=0;r<t.length-1;r++)if("undefined"===typeof(e=e[t[r]]))return;var i=t.pop();i&&delete e[i]},wn=function(e){return(e||"").trim()||"{}"},Cn=(0,m.Ps)(cn||(cn=(0,r.Z)(["\n  query PreviewConfigQuery(\n    $pipeline: PipelineSelector!\n    $runConfigData: RunConfigData!\n    $mode: String!\n  ) {\n    isPipelineConfigValid(pipeline: $pipeline, runConfigData: $runConfigData, mode: $mode) {\n      ...ConfigEditorValidationFragment\n      ...RunPreviewValidationFragment\n    }\n  }\n  ","\n  ","\n"])),We,me),En=c.ZP.div.withConfig({displayName:"LaunchpadSession__SessionSettingsSpacer",componentId:"sc-1pg2cql-0"})(["width:5px;"]),Pn=(0,m.Ps)(un||(un=(0,r.Z)(["\n  fragment LaunchpadSessionRunConfigSchemaFragment on RunConfigSchemaOrError {\n    __typename\n    ... on RunConfigSchema {\n      ...ConfigEditorRunConfigSchemaFragment\n    }\n    ... on ModeNotFoundError {\n      message\n    }\n  }\n  ","\n"])),fe),kn=(0,m.Ps)(dn||(dn=(0,r.Z)(["\n  query PipelineExecutionConfigSchemaQuery($selector: PipelineSelector!, $mode: String) {\n    runConfigSchemaOrError(selector: $selector, mode: $mode) {\n      ...LaunchpadSessionRunConfigSchemaFragment\n    }\n  }\n\n  ","\n"])),Pn)},44969:function(e,n,t){t.d(n,{U:function(){return c}});var r=t(95764),i=t(17912),o=t(34595),a=t(89646),s=(t(325),t(80610)),l=t(32289),c=function(e){return(0,l.jsx)(i.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.a,{children:(0,l.jsx)(o.$,{purpose:"section"})}),(0,l.jsx)(a.t,(0,r.Z)({},e))]}),second:(0,l.jsx)("div",{})})}},6364:function(e,n,t){t.d(n,{m:function(){return s}});var r=t(17912),i=(t(325),t(33214)),o=t(80610),a=t(32289),s=function(){return(0,a.jsx)(r.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.f,{isLoading:!0,message:"Loading pipeline and partition sets..."}),(0,a.jsx)(o.a,{})]}),second:(0,a.jsx)(i.f,{isLoading:!0,message:"Loading pipeline and partition sets..."})})}},33214:function(e,n,t){t.d(n,{f:function(){return s}});var r=t(922),i=t(6466),o=t(34595),a=(t(325),t(32289)),s=function(e){var n=e.isLoading,t=e.message;return(0,a.jsx)(l,{isLoading:n,children:(0,a.jsxs)(i.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(o.$,{purpose:"body-text"}),(0,a.jsx)("div",{children:t})]})})},l=r.ZP.div.withConfig({displayName:"LoadingOverlay__LoadingOverlayContainer",componentId:"sc-1tqulki-0"})(["position:absolute;left:0;right:0;top:0;bottom:0;background-color:#fff;z-index:20;display:",";align-items:center;justify-content:center;opacity:",";transition:opacity 150ms linear;transition-delay:300ms;"],(function(e){return e.isLoading?"flex":"none"}),(function(e){return e.isLoading?"0.7":"0"}))},80610:function(e,n,t){t.d(n,{a:function(){return o}});var r=t(922),i=t(7838),o=r.ZP.div.withConfig({displayName:"SessionSettingsBar",componentId:"sc-6lzkvu-0"})(["color:white;display:flex;position:relative;border-bottom:1px solid ",";background:",";align-items:center;height:47px;padding:8px 10px;"],i.w.Gray200,i.w.White)},33547:function(e,n,t){t.d(n,{U:function(){return y},x:function(){return v}});var r=t(59019),i=t(19065),o=t(922),a=t(8358),s=t(6466),l=t(32030),c=t(11831),u=t(88863),d=t(75453),p=t(24971),f=t(325),m=t(27719),h=t(28064),g=t(32289),y=function(e){var n=e.tagsFromDefinition,t=void 0===n?[]:n,o=e.tagsFromSession,y=void 0===o?[]:o,v=e.open,x=e.onChange,b=e.onRequestClose,S=f.useState((function(){return y.length?y:[{key:"",value:""}]})),N=(0,i.Z)(S,2),w=N[0],C=N[1];f.useEffect((function(){v||C(y.length?y:[{key:"",value:""}])}),[y,v]);var E=w.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return e.key&&e.value})),P=w.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return!e.key!==!e.value})),k=function(){P.length||(x(E),b())},_=w===y||!!P.length,K=function(e,n,t){C((function(i){return[].concat((0,r.Z)(i.slice(0,t)),[{key:e,value:n}],(0,r.Z)(i.slice(t+1)))}))};return(0,g.jsxs)(a.Vq,{icon:"info",onClose:b,style:{minWidth:700},title:"Add tags to run",isOpen:v,children:[(0,g.jsx)(a.a7,{children:(0,g.jsxs)(s.Z,{spacing:16,direction:"column",children:[t.length?(0,g.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,g.jsx)(l.x,{margin:{left:2},style:{fontSize:"13px",fontWeight:500},children:"Tags from definition:"}),(0,g.jsx)(j,{children:t.map((function(e,n){var t=e.key;return w.some((function(e){return e.key===t}))?(0,g.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,g.jsx)("span",{style:{opacity:.2},children:(0,g.jsx)(h.i,{tag:e},n)})},t):(0,g.jsx)(h.i,{tag:e},t)}))})]}):null,(0,g.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,g.jsx)("div",{children:"Custom tags:"}),(0,g.jsx)(l.x,{flex:{direction:"column",gap:8},children:w.map((function(e,n){var t=e.key,i=e.value;return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8},children:[(0,g.jsx)(u.oi,{placeholder:"Tag Key",value:t,onChange:function(e){return K(e.target.value,i,n)}}),(0,g.jsx)(u.oi,{placeholder:"Tag Value",value:i,onChange:function(e){return K(t,e.target.value,n)}}),(0,g.jsx)(d.zx,{disabled:1===w.length&&!t.trim()&&!i.trim(),onClick:function(){return function(e){C((function(n){return 0===e&&1===n.length?[{key:"",value:""}]:[].concat((0,r.Z)(n.slice(0,e)),(0,r.Z)(n.slice(e+1)))}))}(n)},icon:(0,g.jsx)(p.JO,{name:"delete"}),children:"Remove"})]},n)}))}),(0,g.jsx)(l.x,{margin:{left:2},flex:{direction:"row"},children:(0,g.jsx)(d.zx,{onClick:function(){C((function(e){return[].concat((0,r.Z)(e),[{key:"",value:""}])}))},icon:(0,g.jsx)(p.JO,{name:"add_circle"}),children:"Add custom tag"})})]})]})}),(0,g.jsxs)(a.cN,{children:[(0,g.jsx)(d.zx,{onClick:b,children:"Cancel"}),(0,g.jsx)(m.b,{shortcutLabel:"\u2325Enter",shortcutFilter:function(e){return"Enter"===e.code&&e.altKey},onShortcut:k,children:(0,g.jsx)(d.zx,{intent:"primary",onClick:k,disabled:_,children:"Apply"})})]})]})},v=function(e){var n=e.tagsFromSession,t=e.tagsFromDefinition;return(0,g.jsx)(x,{children:(0,g.jsxs)(j,{children:[t?t.map((function(e,t){var r=e.key;return n.some((function(e){return e.key===r}))?(0,g.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,g.jsx)("span",{style:{opacity:.2},children:(0,g.jsx)(h.i,{tag:e},t)})},r):(0,g.jsx)(h.i,{tag:e},t)})):void 0,n.map((function(e,n){return(0,g.jsx)(h.i,{tag:e},n)}))]})})},x=o.ZP.div.withConfig({displayName:"TagEditor__Container",componentId:"f3ti0i-0"})(["align-items:flex-start;display:flex;flex-direction:row;"]),j=o.ZP.div.withConfig({displayName:"TagEditor__TagList",componentId:"f3ti0i-1"})(["display:flex;flex:1;flex-wrap:wrap;gap:4px;"])},77221:function(e,n,t){t.d(n,{X:function(){return d}});var r=t(19065),i=t(88863),o=t(24971),a=t(325),s=t(14156),l=t(74386),c=t(26961),u=t(32289),d=function(e){var n=e.value,t=e.onChange,d=e.partitionKeys,p=e.isTimeseries,f=a.useState(""),m=(0,r.Z)(f,2),h=m[0],g=m[1],y=a.useMemo((function(){return JSON.stringify(d)}),[d]);a.useEffect((function(){var e=JSON.parse(y);g(p?(0,c.Z8)(n,e):n.join(", "))}),[n,y,p]);var v=a.useMemo((function(){return function(e,n){if(0===e.length)return"";if(e.length<4||!n)return"ex: ".concat(e[0],", ").concat(e[1]);return"ex: ".concat(e[0],", ").concat(e[1],", [").concat(e[2],"...").concat(e[e.length-1],"]")}(d,p)}),[d,p]),x=function(e){try{t((0,c.$P)(h,d))}catch(n){e.preventDefault(),(0,s._)({body:n.message})}};return(0,u.jsx)(i.oi,{placeholder:v,value:h,style:{display:"flex",width:"100%",flex:1,flexGrow:1},onChange:function(e){return g(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&x(e)},onBlur:x,rightElement:(0,u.jsx)(l.C,{style:{display:h.length?"initial":"none"},onClick:function(){return t([])},children:(0,u.jsx)(o.JO,{name:"cancel"})})})}},24298:function(e,n,t){t.d(n,{n:function(){return c}});var r=t(32030),i=t(75453),o=(t(325),t(36613)),a=t(77221),s=t(54920),l=t(32289),c=function(e){var n=e.selected,t=e.setSelected,c=e.partitionKeys,u=e.partitionStateForKey,d=(0,o.vH)(c[0]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.x,{flex:{direction:"row",alignItems:"center",gap:8},padding:{vertical:4},children:[(0,l.jsx)(r.x,{flex:{direction:"column"},style:{flex:1},children:(0,l.jsx)(a.X,{value:n,partitionKeys:c,onChange:t,isTimeseries:d})}),d&&(0,l.jsx)(i.zx,{small:!0,onClick:function(){return t(c.slice(-1))},children:"Latest"}),(0,l.jsx)(i.zx,{small:!0,onClick:function(){return t(c)},children:"All"})]}),(0,l.jsx)(r.x,{margin:{bottom:8},children:(0,l.jsx)(s.bq,{partitionNames:c,partitionStateForKey:u,splitPartitions:!d,selected:n,onSelect:t})})]})}},95968:function(e,n,t){t.d(n,{f:function(){return d}});var r=t(59019),i=t(47427),o=t(16798),a=t(32030),s=t(50346),l=t(325),c=t(54920),u=t(32289),d=function(e){var n=e.partitionKeysForCounts,t=e.value,d=e.onChange,p=e.allowed,f=l.useMemo((function(){var e,t,r=(e={},(0,o.Z)(e,c.AB.SUCCESS,0),(0,o.Z)(e,c.AB.SUCCESS_MISSING,0),(0,o.Z)(e,c.AB.MISSING,0),(0,o.Z)(e,c.AB.FAILURE,0),(0,o.Z)(e,c.AB.QUEUED,0),(0,o.Z)(e,c.AB.STARTED,0),e),a=(0,i.Z)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;r[s.state]=(r[s.state]||0)+1}}catch(l){a.e(l)}finally{a.f()}return r}),[n]);return(0,u.jsx)(a.x,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:p.map((function(e){return(0,u.jsx)(s.X,{style:{marginBottom:0,marginLeft:10,minWidth:200},checked:t.includes(e),label:"".concat((0,c.qg)(e)," (").concat(f[e],")"),onChange:function(){return d(t.includes(e)?t.filter((function(n){return n!==e})):[].concat((0,r.Z)(t),[e]))}},e)}))})}},57872:function(e,n,t){t.d(n,{Q:function(){return a}});var r=t(89646),i=(t(325),t(33902)),o=t(32289),a=function(e){var n=e.isGraph,t=e.repoAddress,a=e.result;return"PipelineSnapshotNotFoundError"===a.__typename?(0,o.jsx)(r.t,{icon:"error",title:n?"Graph snapshot not found":"Pipeline snapshot not found",description:a.message}):"PipelineNotFoundError"===a.__typename?(0,o.jsx)(r.t,{icon:"error",title:n?"Graph not found":"Pipeline not found",description:a.message}):"RepositoryNotFoundError"===a.__typename?(0,o.jsx)(r.t,{icon:"error",title:"".concat(t?(0,i.Uz)(t):"Definitions"," not found"),description:a.message}):"PythonError"===a.__typename?(0,o.jsx)(r.t,{icon:"error",title:"Query error",description:a.message}):(0,o.jsx)("span",{})}},23196:function(e,n,t){t.d(n,{b:function(){return o}});var r=t(325),i=t(82348),o=function(e,n){var t=e.pipelineName,o=r.useMemo((function(){return n?"Job: ".concat(t):"Pipeline: ".concat(t)}),[n,t]);(0,i.j)(o)}},74386:function(e,n,t){t.d(n,{C:function(){return a}});var r=t(922),i=t(24971),o=t(7838),a=r.ZP.button.withConfig({displayName:"ClearButton",componentId:"sc-1rz1pk2-0"})(["background:transparent;border:none;cursor:pointer;margin:0 -2px 0 0;padding:2px;","{background-color:",";transition:background-color 100ms linear;}:hover ",",:focus ","{background-color:",";}:active ","{background-color:",";}:focus{outline:none;}"],i.a1,o.w.Gray400,i.a1,i.a1,o.w.Gray700,i.a1,o.w.Dark)},33743:function(e,n,t){t.d(n,{A:function(){return f}});var r=t(68436),i=t.n(r),o=t(3726),a=t.n(o),s=t(24612),l=t.n(s),c=t(1962),u=t.n(c),d=a()().use(l()).use(u()),p=new(i())({max:500}),f=function(e){var n=p.get(e);if(n)return n;var t=d.processSync(e).toString().replaceAll(/\\/g,"").trim();return p.set(e,t),t}},14848:function(e,n,t){t.d(n,{G:function(){return o}});var r=t(922),i=t(8546),o=r.ZP.div.withConfig({displayName:"Version",componentId:"sc-1arl6ei-0"})(["font-family:",";font-size:16px;overflow:hidden;text-overflow:ellipsis;"],i.b.monospace)},42849:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(95764),i=t(1492),o=t(3810),a=t.n(o),s=(t(325),t(32289)),l=function(e){var n,t,o=(0,r.Z)((0,r.Z)({},e.popoverProps),{},{minimal:!0,modifiers:a()({offset:{enabled:!0,offset:"0, 8px"}},(null===(n=e.popoverProps)||void 0===n?void 0:n.modifiers)||{}),popoverClassName:"dagit-popover ".concat((null===(t=e.popoverProps)||void 0===t?void 0:t.className)||"")});return(0,s.jsx)(i.P,(0,r.Z)((0,r.Z)({},e),{},{popoverProps:o}))}}}]);
//# sourceMappingURL=960.c5862beb.chunk.js.map