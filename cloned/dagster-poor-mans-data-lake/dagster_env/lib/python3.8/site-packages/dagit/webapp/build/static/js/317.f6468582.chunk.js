"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[317],{86655:function(e,n,t){t.d(n,{R:function(){return d}});var r=t(59019),i=t(32030),s=t(24971),o=t(7838),a=t(14198),l=(t(325),t(74549)),c=t(77171),u=t(32289),d=function(e){var n=e.path,t=e.icon,d=e.url,h=e.isGroup,p=e.textStyle,x=void 0===p?"break-word":p,f=d||(0,c.p)({path:n}),m=n.reduce((function(e,n,t){return[].concat((0,r.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(h?"/":"");return(0,u.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,u.jsx)(i.x,{margin:{right:8,top:2},children:(0,u.jsx)(s.JO,{name:t,color:o.w.Gray400})}):null,(0,u.jsx)(l.rU,{to:f,style:{overflow:"hidden"},children:"break-word"===x?(0,u.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,u.jsx)(a.g,{text:m})})]})}},2789:function(e,n,t){t.d(n,{b:function(){return de},G:function(){return ie}});var r,i,s=t(99500),o=t(85358),a=t(19065),l=t(922),c=t(95550),u=t.n(c),d=t(49148),h=t(3159),p=t(6466),x=t(55113),f=t(12745),m=t(762),j=t(8412),g=t(75453),y=t(24971),v=t(32030),S=t(54268),w=t(7838),b=t(325),N=t(74549),k=t(27601),C=t(14156),I=t(13065),R=t(63579),E=t(12436),T=t(39061),P=t(54920),Z=t(62e3),_=t(4998),O=t(34653),U=t(45302),L=t(68156),F=t(5484),q=t(76336),A=t(37099),G=t(33902),z=t(25582),D=t(8358),$=t(8546),J=t(32289),V=function(e){var n=e.backfill,t=e.onClose;return(0,J.jsxs)(D.Vq,{isOpen:!!n,title:(0,J.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,J.jsx)("span",{style:{fontSize:"18px",fontFamily:$.b.monospace},children:null===n||void 0===n?void 0:n.backfillId})]}),onClose:t,children:[(0,J.jsx)(D.a7,{children:n?(0,J.jsx)(v.x,{flex:{direction:"column",gap:8},style:{maxHeight:"80vh",overflowY:"auto"},children:n.partitionNames.map((function(e){return(0,J.jsx)("div",{children:e},e)}))}):null}),(0,J.jsx)(D.cN,{topBorder:!0,children:(0,J.jsx)(g.zx,{onClick:t,children:"Done"})})]})},B=t(51012),K=t(73974),M=t(28064),H=t(26306),Q=function(e){var n=e.backfill,t=e.onClose;return(0,J.jsxs)(D.Vq,{isOpen:!(null===n||void 0===n||!n.partitionSet),title:"Step status for backfill: ".concat(null===n||void 0===n?void 0:n.backfillId),onClose:t,style:{width:"80vw"},children:[function(){if(null===n||void 0===n||!n.partitionSet)return null;var e=(0,A.kQ)(n.partitionSet.repositoryOrigin.repositoryName,n.partitionSet.repositoryOrigin.repositoryLocationName);return(0,J.jsx)(Y,{backfill:n,partitionSet:n.partitionSet,repoAddress:e,onClose:t})}(),(0,J.jsx)(D.cN,{topBorder:!0,children:(0,J.jsx)(g.zx,{onClick:t,children:"Done"})})]})},Y=function(e){var n=e.backfill,t=e.partitionSet,r=e.repoAddress,i=b.useState(60),s=(0,a.Z)(i,2),o=s[0],l=s[1],c=b.useState(0),u=(0,a.Z)(c,2),d=u[0],h=u[1],p=b.useMemo((function(){return[{token:"tag",value:"dagster/backfill=".concat(n.backfillId)}]}),[n.backfillId]),x=(0,K.T)({partitionSetName:t.name,partitionTagName:M.H.Partition,partitionNames:n.partitionNames,pageSize:o,runsFilter:p,repositorySelector:(0,H.$)(r),jobName:t.pipelineName,offset:d,skipQuery:!n});return(0,J.jsx)(B.ux,{partitionNames:n.partitionNames,partitions:x,pipelineName:null===t||void 0===t?void 0:t.pipelineName,repoAddress:r,setPageSize:l,offset:d,setOffset:h})},W=t(16798),X=t(95764),ee=t(38568),ne=function(e){var n=e.backfill,t=e.onClose,r=e.onComplete,i=(0,d.D)(te),s=(0,a.Z)(i,1)[0],l=b.useState(!1),c=(0,a.Z)(l,2),h=c[0],p=c[1],x=b.useMemo((function(){return n&&n.partitionStatuses.results.filter((function(e){return e.runStatus&&e.runId&&O.oV.has(e.runStatus)})).reduce((function(e,n){return n&&n.runId?(0,X.Z)((0,X.Z)({},e),{},(0,W.Z)({},n.runId,!0)):e}),{})||{}}),[n]);if(!n)return null;var f=(n.numPartitions||0)-(n.numRequested||0),m=function(){var e=(0,o.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,s({variables:{backfillId:n.backfillId}});case 3:r(),p(!1),t();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(D.Vq,{isOpen:!!n&&n.status!==F.Jv.CANCELED&&!!f,title:"Cancel backfill",onClose:t,children:[(0,J.jsxs)(D.a7,{children:["There ",1===f?"is 1 partition ":"are ".concat(f," partitions "),"yet to be queued or launched."]}),(0,J.jsxs)(D.cN,{children:[(0,J.jsx)(g.zx,{intent:"none",onClick:t,children:"Close"}),h?(0,J.jsx)(g.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,J.jsx)(g.zx,{intent:"danger",onClick:m,children:"Cancel backfill"})]})]}),(0,J.jsx)(ee.A,{isOpen:!!n&&(!f||"REQUESTED"!==n.status)&&!!Object.keys(x).length,onClose:t,onComplete:r,selectedRuns:x})]})},te=(0,h.Ps)(r||(r=(0,s.Z)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      __typename\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),E.Bq),re=t(22013),ie=function(e){var n=e.showBackfillTarget,t=void 0===n||n,r=e.allPartitions,i=e.backfills,s=e.refetch,l=b.useState(),c=(0,a.Z)(l,2),h=c[0],f=c[1],m=b.useState(),j=(0,a.Z)(m,2),g=j[0],y=j[1],v=b.useState(),S=(0,a.Z)(v,2),w=S[0],N=S[1],k=(0,d.D)(re.g),T=(0,a.Z)(k,1)[0],P=(0,R.TE)().canCancelPartitionBackfill,Z=null===h||void 0===h?void 0:h.backfillId;b.useEffect((function(){if(P.enabled&&Z){var e=i.filter((function(e){return e.backfillId===Z})),n=(0,a.Z)(e,1)[0];f(n)}}),[i,Z,P]);var _=function(){var e=(0,o.Z)(u().mark((function e(n){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({variables:{backfillId:n.backfillId}});case 2:t=e.sent,(r=t.data)&&"ResumeBackfillSuccess"===r.resumePartitionBackfill.__typename?s():r&&"UnauthorizedError"===r.resumePartitionBackfill.__typename?I.L.show({message:(0,J.jsx)(p.Z,{direction:"column",spacing:4,children:(0,J.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"}):r&&"PythonError"===r.resumePartitionBackfill.__typename&&(i=r.resumePartitionBackfill,I.L.show({message:(0,J.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,C._)({body:(0,J.jsx)(E.T9,{error:i})})}}}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(x.i,{$monospaceFont:!1,children:[(0,J.jsx)("thead",{children:(0,J.jsxs)("tr",{children:[(0,J.jsx)("th",{style:{width:120},children:"Backfill ID"}),(0,J.jsx)("th",{style:{width:200},children:"Created"}),t?(0,J.jsx)("th",{children:"Backfill target"}):null,r?(0,J.jsx)("th",{children:"Requested"}):null,(0,J.jsx)("th",{style:{width:140},children:"Backfill status"}),(0,J.jsx)("th",{children:"Run status"}),(0,J.jsx)("th",{style:{width:80}})]})}),(0,J.jsx)("tbody",{children:i.map((function(e){return(0,J.jsx)(se,{showBackfillTarget:t,backfill:e,allPartitions:r,onTerminateBackfill:f,onResumeBackfill:_,onShowStepStatus:y,onShowPartitionsRequested:N},e.backfillId)}))})]}),(0,J.jsx)(Q,{backfill:g,onClose:function(){return y(void 0)}}),(0,J.jsx)(V,{backfill:w,onClose:function(){return N(void 0)}}),(0,J.jsx)(ne,{backfill:h,onClose:function(){return f(void 0)},onComplete:function(){return s()}})]})},se=function(e){var n=e.backfill,t=e.allPartitions,r=e.showBackfillTarget,i=e.onTerminateBackfill,s=e.onResumeBackfill,o=e.onShowStepStatus,a=e.onShowPartitionsRequested,l=(0,k.k6)(),c=(0,R.TE)(),u=c.canCancelPartitionBackfill,d=c.canLaunchPartitionBackfill,h=(0,U.it)([{token:"tag",value:"dagster/backfill=".concat(n.backfillId)}]),p=n.partitionStatuses.results.some((function(e){return e.runStatus===F.VO.QUEUED||e.runStatus===F.VO.STARTED}));return(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{style:{width:120},children:(0,J.jsx)(f.fv,{style:{fontSize:"16px",lineHeight:"18px"},children:(0,J.jsx)(N.rU,{to:h,children:n.backfillId})})}),(0,J.jsx)("td",{style:{width:240},children:n.timestamp?(0,J.jsx)(L.v,{timestamp:n.timestamp}):"-"}),r?(0,J.jsx)("td",{children:(0,J.jsx)(ce,{backfill:n})}):null,t?(0,J.jsx)("td",{style:{width:300},children:(0,J.jsx)(oe,{allPartitions:t,backfill:n,onExpand:function(){return a(n)}})}):null,(0,J.jsx)("td",{style:{width:140},children:(0,J.jsx)(ae,{backfill:n})}),(0,J.jsx)("td",{children:(0,J.jsx)(le,{backfill:n,history:l})}),(0,J.jsx)("td",{children:(0,J.jsx)(m.J,{content:(0,J.jsxs)(j.v2,{children:[u.enabled?(0,J.jsxs)(J.Fragment,{children:[n.numRequested<n.partitionStatuses.results.length&&n.status===F.Jv.REQUESTED?(0,J.jsx)(j.sN,{text:"Cancel backfill submission",icon:"cancel",intent:"danger",onClick:function(){return i(n)}}):null,p?(0,J.jsx)(j.sN,{text:"Terminate unfinished runs",icon:"cancel",intent:"danger",onClick:function(){return i(n)}}):null]}):null,d.enabled&&n.status===F.Jv.FAILED&&n.partitionSet?(0,J.jsx)(j.sN,{text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return s(n)}}):null,(0,J.jsx)(j.sN,{text:"View backfill runs",icon:"settings_backup_restore",onClick:function(){return l.push(h)}}),(0,J.jsx)(j.sN,{text:"View step status",icon:"view_list",onClick:function(){o(n)}})]}),position:"bottom-right",children:(0,J.jsx)(g.zx,{icon:(0,J.jsx)(y.JO,{name:"expand_more"})})})})]})},oe=function(e){var n=e.allPartitions,t=e.backfill,r=e.onExpand;return(0,J.jsxs)(v.x,{flex:{direction:"column",gap:8},children:[(0,J.jsx)("div",{children:(0,J.jsx)(ue,{onClick:r,children:(0,J.jsxs)(S.V,{intent:"primary",interactive:!0,children:[t.partitionNames.length," partitions"]})})}),(0,J.jsx)(P.bq,{partitionNames:n,partitionStateForKey:function(){return P.AB.QUEUED},small:!0,hideStatusTooltip:!0})]})},ae=function(e){var n=e.backfill;switch(n.status){case F.Jv.REQUESTED:return(0,J.jsx)(S.V,{children:"Requested"});case F.Jv.CANCELED:case F.Jv.FAILED:return(0,J.jsx)(v.x,{margin:{bottom:12},children:(0,J.jsx)(ue,{onClick:function(){return n.error&&(0,C._)({title:"Error",body:(0,J.jsx)(E.T9,{error:n.error})})},children:(0,J.jsx)(S.V,{intent:"danger",children:"FAILED"===n.status?"Failed":"Canceled"})})});case F.Jv.COMPLETED:var t=n.partitionStatuses.results.map((function(e){return e.runStatus}));return t.filter((function(e){return e===F.VO.SUCCESS})).length===n.partitionNames.length?(0,J.jsx)(S.V,{intent:"success",children:"Completed"}):t.filter((function(e){return e&&e in O.Ys})).length?(0,J.jsx)(S.V,{intent:"primary",children:"In progress"}):(0,J.jsx)(S.V,{intent:"warning",children:"Incomplete"})}},le=function(e){var n=e.backfill,t=e.history,r=b.useMemo((function(){return Object.fromEntries(n.partitionStatuses.results.map((function(e){return[e.partitionName,(0,P.C3)(e.runStatus)]})))}),[n]);return(0,J.jsx)(P.bq,{partitionNames:n.partitionNames,partitionStateForKey:function(e){return r[e]},splitPartitions:!0,onClick:function(e){var r=n.partitionStatuses.results.find((function(n){return n.partitionName===e}));r&&t.push("/runs/".concat(r.runId))}})},ce=function(e){var n=e.backfill,t=n.assetSelection,r=n.partitionSet,i=n.partitionSetName,s=r?(0,A.kQ)(r.repositoryOrigin.repositoryName,r.repositoryOrigin.repositoryLocationName):null,o=(0,q.Ux)(s);if(!r||!s)return(0,J.jsx)("span",{style:{fontWeight:500},children:i});var a=!(!o||!(0,q.E8)(o,r.pipelineName)),l=(0,T.pv)(r.pipelineName),c=(0,J.jsxs)(v.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{fontSize:"12px"},children:[(0,J.jsx)(y.JO,{name:"repo",color:w.w.Gray400}),(0,J.jsx)(N.rU,{to:(0,z.$U)(s),children:(0,G.Uz)(s)})]});return l?(0,J.jsxs)(v.x,{flex:{direction:"column",gap:8},children:[c,(0,J.jsx)(_.m,{assetKeys:t,modalTitle:"Assets in backfill"})]}):(0,J.jsxs)(v.x,{flex:{direction:"column",gap:8},children:[(0,J.jsx)(N.rU,{to:(0,z.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:a,path:"/partitions?partitionSet=".concat(encodeURIComponent(r.name))}),style:{fontWeight:500},children:r.name}),(0,J.jsxs)(v.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[c,(0,J.jsx)(Z.h,{showIcon:!0,size:"small",pipelineName:r.pipelineName,pipelineHrefContext:{name:r.repositoryOrigin.repositoryName,location:r.repositoryOrigin.repositoryLocationName},isJob:a})]})]})},ue=l.ZP.button.withConfig({displayName:"BackfillTable__TagButton",componentId:"sc-111y28m-0"})(["border:none;background:none;cursor:pointer;padding:0;margin:0;:focus{outline:none;}"]),de=(0,h.Ps)(i||(i=(0,s.Z)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    backfillId\n    status\n    numRequested\n    partitionNames\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      name\n      mode\n      pipelineName\n      repositoryOrigin {\n        id\n        repositoryName\n        repositoryLocationName\n      }\n    }\n    partitionStatuses {\n      results {\n        id\n        partitionName\n        runId\n        runStatus\n      }\n    }\n    assetSelection {\n      path\n    }\n    error {\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),E.Bq)},85548:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(54268),i=t(32030),s=t(762),o=t(325),a=t(59549),l=t(9091),c=t(34653),u=t(55752),d=t(5484),h=t(28797),p=t(80609),x=t(32289),f=o.memo((function(e){var n=e.name,t=e.run,f=e.showHover,m=void 0!==f&&f,j=e.showButton,g=void 0===j||j,y=e.showSummary,v=void 0===y||y,S=t.status,w=o.useMemo((function(){switch(S){case d.VO.SUCCESS:return"success";case d.VO.CANCELED:case d.VO.CANCELING:case d.VO.FAILURE:return"danger";default:return"none"}}),[S]);return(0,x.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,x.jsxs)(i.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[function(){var e=(0,x.jsx)(r.V,{intent:w,children:(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,x.jsx)(a.K9,{status:t.status,size:10}),(0,x.jsx)(u.Zr,{run:t})]})});return m?(0,x.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(l.qL,{run:t,name:n})}),hoverOpenDelay:100,children:e}):e}(),v?(0,x.jsx)(u.Tw,{run:t}):null]}),v&&(c.hd.has(t.status)||c.Ys.has(t.status))?(0,x.jsx)(p.I,{runId:t.id}):void 0]}),g?(0,x.jsx)(h.A,{to:"/runs/".concat(t.id),children:"View run"}):null]})}))},80609:function(e,n,t){t.d(n,{I:function(){return m}});var r,i=t(99500),s=t(73701),o=t(3159),a=t(12745),l=t(7838),c=t(41332),u=t.n(c),d=t(325),h=t(74549),p=t(34653),x=t(5484),f=t(32289),m=function(e){var n=e.runId,t=(0,s.a)(j,{variables:{runId:n}}).data,r=null===t||void 0===t?void 0:t.pipelineRunOrError,i="Run"===(null===r||void 0===r?void 0:r.__typename)?r.status:null,o=d.useMemo((function(){if("Run"!==(null===r||void 0===r?void 0:r.__typename))return[];var e=r.status;return p.hd.has(e)?r.stepStats.filter((function(e){return e.status===x.SG.FAILURE})):p.Ys.has(e)?r.stepStats.filter((function(e){return e.status===x.SG.IN_PROGRESS})):[]}),[r]),c=o.length;if(!c||!i)return null;if(p.hd.has(i)){if(1===c){var m=o[0],g=m.endTime?u().stringify({focusedTime:Math.floor(1e3*m.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(n).concat(g),children:m.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}if(p.Ys.has(i)){if(1===c){var y=o[0],v=y.endTime?u().stringify({focusedTime:Math.floor(1e3*y.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(n).concat(v),children:y.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}return null},j=(0,o.Ps)(r||(r=(0,i.Z)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"])))},62997:function(e,n,t){t.d(n,{TW:function(){return E},i0:function(){return T},lB:function(){return P},dY:function(){return _}});var r,i,s=t(99500),o=t(19065),a=t(922),l=t(73701),c=t(3159),u=t(54268),d=t(60652),h=t(8358),p=t(75453),x=t(11831),f=t(32030),m=t(34595),j=t(89646),g=t(6466),y=t(7838),v=t(12745),S=t(24971),w=t(325),b=t(14156),N=t(12436),k=t(76341),C=t(22797),I=t(5484),R=t(32289),E=function(e){var n=e.tick,t=e.instigationType,r=w.useState(!1),i=(0,o.Z)(r,2),s=i[0],a=i[1];switch(n.status){case I.iz.STARTED:return(0,R.jsx)(u.V,{children:"Started"});case I.iz.SUCCESS:if(!n.runIds.length)return(0,R.jsx)(u.V,{intent:"primary",children:"Requested"});var l=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(u.V,{intent:"primary",interactive:!0,children:(0,R.jsxs)(d.Z,{underline:"never",onClick:function(){return a(!0)},children:[n.runIds.length," Requested"]})}),(0,R.jsxs)(h.Vq,{isOpen:s,onClose:function(){return a(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,R.jsx)(T,{runIds:n.runIds}),(0,R.jsx)(h.cN,{children:(0,R.jsx)(p.zx,{intent:"primary",onClick:function(){return a(!1)},children:"OK"})})]})]});if(n.runKeys.length>n.runIds.length){var c="".concat(n.runKeys.length," runs requested, but ").concat(n.runKeys.length-n.runIds.length," skipped because the runs already exist for those requested keys.");return(0,R.jsx)(x.u,{position:"right",content:c,children:l})}return l;case I.iz.SKIPPED:if(n.runKeys.length){var f="".concat(n.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,R.jsx)(x.u,{position:"right",content:f,children:(0,R.jsx)(u.V,{intent:"warning",children:"Skipped"})})}return n.skipReason?(0,R.jsx)(x.u,{position:"right",content:n.skipReason,targetTagName:"div",children:(0,R.jsx)(u.V,{intent:"warning",children:"Skipped"})}):(0,R.jsx)(u.V,{intent:"warning",children:"Skipped"});case I.iz.FAILURE:if(n.error){var m=n.error,j=function(){return(0,b._)({title:t?t===I._5.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,R.jsx)(N.T9,{error:m})})};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z,{onClick:j,children:(0,R.jsx)(u.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,R.jsx)(d.Z,{onClick:j,style:{marginLeft:8,fontSize:12},children:"View"})]})}return(0,R.jsx)(u.V,{intent:"danger",children:"Failure"});default:return(0,k.UT)(n.status)}},T=function(e){var n=e.runIds,t=(0,l.a)(O,{variables:{filter:{runIds:n}}}),r=t.data;return t.loading||!r?(0,R.jsx)(f.x,{padding:32,children:(0,R.jsx)(m.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,R.jsx)(f.x,{padding:32,children:(0,R.jsx)(j.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,R.jsx)(f.x,{padding:{bottom:8},children:(0,R.jsx)(C.A,{runs:r.pipelineRunsOrError.results})})},P=function(e){var n=e.originRunIds;return n&&n.length?(0,R.jsxs)(g.Z,{direction:"column",spacing:16,children:[(0,R.jsxs)(f.x,{padding:12,border:{side:"bottom",width:1,color:y.w.Gray200},children:[(0,R.jsxs)(v.uT,{children:["Failed Runs",(0,R.jsx)(x.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,R.jsx)(S.JO,{name:"info",color:y.w.Gray500})})]}),(0,R.jsx)(T,{runIds:n})]}),(0,R.jsxs)(f.x,{padding:12,margin:{bottom:8},children:[(0,R.jsxs)(v.uT,{children:["Requested Runs",(0,R.jsx)(x.u,{content:"Runs launched by the run requests in this tick.",children:(0,R.jsx)(S.JO,{name:"info",color:y.w.Gray500})})]}),(0,R.jsx)(j.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},Z=a.ZP.button.withConfig({displayName:"InstigationTick__LinkButton",componentId:"o7n48i-0"})(["background:inherit;border:none;cursor:pointer;font-size:inherit;text-decoration:none;padding:0;"]),_=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),N.Bq),O=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),C.Z,N.Bq)},45352:function(e,n,t){t.d(n,{UD:function(){return g},RX:function(){return y},S9:function(){return v},ai:function(){return S},Jy:function(){return w}});var r,i,s=t(99500),o=t(922),a=t(3159),l=t(7838),c=t(6466),u=t(12745),d=(t(325),t(74549)),h=t(12436),p=t(85548),x=t(59549),f=t(55752),m=t(62997),j=t(32289),g=function(e){var n=e.instigationState;return n.runs.length?(0,j.jsx)(p.Z,{run:n.runs[0],name:n.name}):(0,j.jsx)("span",{style:{color:l.w.Gray300},children:"None"})},y=function(e){var n=e.run;return(0,j.jsxs)(c.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,j.jsx)(x.K9,{status:n.status}),(0,j.jsx)(d.rU,{to:"/runs/".concat(n.runId),target:"_blank",rel:"noreferrer",children:(0,j.jsx)(u.fv,{children:(0,f.EI)({runId:n.runId})})})]})},v=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment RunStatusFragment on Run {\n    id\n    runId\n    status\n  }\n"]))),S=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n  ","\n  ","\n  ","\n  ","\n"])),h.Bq,m.dY,v,f.$X),w=o.ZP.table.withConfig({displayName:"InstigationUtils__StatusTable",componentId:"sc-1od21u7-0"})(["font-size:13px;border-spacing:0;&&&&& tr{box-shadow:none;}&&&&& tbody > tr > td{background:transparent;box-shadow:none !important;padding:1px 0;}&&&&& tbody > tr > td:first-child{color:",";}"],l.w.Gray500)},56313:function(e,n,t){t.d(n,{e:function(){return C},Y:function(){return I}});var r=t(85358),i=t(19065),s=t(95550),o=t.n(s),a=t(49148),l=t(32030),c=t(12745),u=t(55113),d=t(60736),h=t(50346),p=t(11831),x=t(6466),f=t(7838),m=(t(325),t(79540)),j=t(63579),g=t(73565),y=t(36243),v=t(88161),S=t(5484),w=t(2097),b=t(62997),N=t(45352),k=t(32289),C=function(e){var n=e.sensorStates,t=e.showSubheading,r=void 0===t||t;return n.length?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.x,{padding:{vertical:16,horizontal:20},children:[r?(0,k.jsx)(c.pm,{children:"Unloadable sensors"}):null,(0,k.jsx)(R,{})]}),(0,k.jsxs)(u.i,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{style:{maxWidth:"60px"}}),(0,k.jsx)("th",{children:"Sensor Name"}),(0,k.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,k.jsx)("th",{children:"Last Run"})]})}),(0,k.jsx)("tbody",{children:n.map((function(e){return(0,k.jsx)(T,{sensorState:e},e.id)}))})]})]}):null},I=function(e){var n=e.scheduleStates,t=e.showSubheading,r=void 0===t||t;return n.length?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.x,{padding:{vertical:16,horizontal:20},children:[r?(0,k.jsx)(c.pm,{children:"Unloadable schedules"}):null,(0,k.jsx)(E,{})]}),(0,k.jsxs)(u.i,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{style:{maxWidth:"60px"}}),(0,k.jsx)("th",{children:"Schedule Name"}),(0,k.jsx)("th",{style:{width:"150px"},children:"Schedule"}),(0,k.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,k.jsx)("th",{children:"Last Run"}),(0,k.jsx)("th",{children:"Partition Set Status"})]})}),(0,k.jsx)("tbody",{children:n.map((function(e){return(0,k.jsx)(P,{scheduleState:e},e.id)}))})]})]}):null},R=function(){return(0,k.jsx)(d.b,{intent:"warning",title:(0,k.jsxs)("div",{children:["Note: You can turn off any of the following sensors, but you cannot turn them back on."," "]}),description:(0,k.jsx)("div",{children:"The following sensors were previously started but now cannot be loaded. They may be part of a different workspace or from a sensor or code location that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})},E=function(){return(0,k.jsx)(d.b,{intent:"warning",title:(0,k.jsx)("div",{children:"Note: You can turn off any of the following schedules, but you cannot turn them back on."}),description:(0,k.jsx)("div",{children:"The following schedules were previously started but now cannot be loaded. They may be part of a different workspace or from a schedule or code location that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})},T=function(e){var n=e.sensorState,t=n.id,s=n.selectorId,l=n.name,c=n.status,u=n.ticks,d=(0,j.TE)().canStopSensor,g=(0,a.D)(v.Xu,{onCompleted:v.oI}),y=(0,i.Z)(g,2),C=y[0],I=y[1].loading,R=(0,m.p)(),E=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==S.yn.RUNNING){e.next=4;break}return e.next=3,R({title:"Are you sure you want to turn off this sensor?",description:"The definition for this sensor is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:C({variables:{jobOriginId:t,jobSelectorId:s}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=c===S.yn.RUNNING&&!d.enabled,P=u.length?u[0]:null;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{width:60},children:function(){var e=(0,k.jsx)(h.X,{format:"switch",disabled:I||c===S.yn.STOPPED||T,checked:c===S.yn.RUNNING,onChange:E});return T?(0,k.jsx)(p.u,{content:d.disabledReason,children:e}):e}()}),(0,k.jsxs)("td",{children:[(0,k.jsx)(x.Z,{direction:"row",spacing:8,alignItems:"center",children:l}),(0,k.jsx)(w.Y,{instigatorState:n})]}),(0,k.jsx)("td",{children:P?(0,k.jsx)(b.TW,{tick:P,instigationType:S._5.SENSOR}):(0,k.jsx)("span",{style:{color:f.w.Gray300},children:"None"})}),(0,k.jsx)("td",{children:(0,k.jsx)("div",{style:{display:"flex"},children:(0,k.jsx)(N.UD,{instigationState:n})})})]},l)},P=function(e){var n=e.scheduleState,t=(0,j.TE)().canStopRunningSchedule,s=(0,a.D)(g.d0,{onCompleted:g.JH}),l=(0,i.Z)(s,2),c=l[0],u=l[1].loading,d=(0,m.p)(),f=n.id,v=n.selectorId,C=n.name,I=n.ticks,R=n.status,E=n.typeSpecificData,T=I.length>0?I[0]:null,P=E&&"ScheduleData"===E.__typename?E.cronSchedule:null,Z=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==S.yn.RUNNING){e.next=4;break}return e.next=3,d({title:"Are you sure you want to stop this schedule?",description:"The definition for this schedule is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:c({variables:{scheduleOriginId:f,scheduleSelectorId:v}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=R===S.yn.RUNNING&&!t.enabled;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{width:60},children:function(){var e=(0,k.jsx)(h.X,{format:"switch",checked:R===S.yn.RUNNING,disabled:R!==S.yn.RUNNING||u||_,onChange:Z});return _?(0,k.jsx)(p.u,{content:t.disabledReason,children:e}):e}()}),(0,k.jsxs)("td",{children:[(0,k.jsx)(x.Z,{direction:"row",spacing:8,alignItems:"center",children:(0,k.jsx)("div",{children:C})}),(0,k.jsx)(w.Y,{instigatorState:n})]}),(0,k.jsx)("td",{style:{maxWidth:150},children:(0,k.jsx)("div",{style:{position:"relative",width:"100%",whiteSpace:"pre-wrap",display:"block"},children:P?(0,k.jsx)(p.u,{position:"bottom",content:P,children:(0,y.A)(P)}):(0,k.jsx)("div",{children:"\u2014"})})}),(0,k.jsx)("td",{children:T?(0,k.jsx)(b.TW,{tick:T,instigationType:S._5.SCHEDULE}):null}),(0,k.jsx)("td",{children:(0,k.jsx)(N.UD,{instigationState:n})}),(0,k.jsx)("td",{children:(0,k.jsx)("div",{style:{display:"flex"},children:"\u2014"})})]},C)}},30057:function(e,n,t){t.d(n,{b:function(){return m}});var r=t(922),i=t(32030),s=t(24971),o=t(7838),a=t(14198),l=t(34595),c=t(11831),u=(t(325),t(74549)),d=t(63579),h=t(33902),p=t(25582),x=t(86562),f=t(32289),m=function(e){var n=e.repoAddress,t=e.showIcon,r=void 0!==t&&t,c=e.showRefresh,u=void 0===c||c,m=n.location,v=(0,d.TE)().canReloadRepositoryLocation,S=(0,h.Uz)(n);return(0,f.jsxs)(i.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:S,children:[r&&(0,f.jsx)(s.JO,{name:"folder",style:{marginRight:8},color:o.w.Gray400}),(0,f.jsx)(j,{to:(0,p.$U)(n),style:{flex:1},children:(0,f.jsx)(a.g,{text:S})}),v.enabled&&u?(0,f.jsx)(x.s,{location:m,children:function(e){var n=e.tryReload,t=e.reloading;return(0,f.jsx)(g,{content:t?"Reloading\u2026":(0,f.jsxs)(f.Fragment,{children:["Reload location ",(0,f.jsx)("strong",{children:m})]}),children:t?(0,f.jsx)(l.$,{purpose:"body-text"}):(0,f.jsx)(y,{onClick:n,children:(0,f.jsx)(s.JO,{name:"refresh",color:o.w.Gray400})})})}}):null]})},j=(0,r.ZP)(u.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),g=(0,r.ZP)(c.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),y=r.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],s.a1,s.a1,o.w.Blue500)},86476:function(e,n,t){t.d(n,{I:function(){return y}});var r=t(19065),i=t(54268),s=t(60652),o=t(7838),a=t(32030),l=t(11831),c=t(8546),u=t(14198),d=t(325),h=t(74549),p=t(9315),x=t(36243),f=t(86875),m=t(25582),j=t(72444),g=t(32289),y=function(e){var n=e.schedules,t=e.sensors,a=e.repoAddress,l=e.showSwitch,c=void 0===l||l,u=d.useState(!1),h=(0,r.Z)(u,2),p=h[0],x=h[1],f=n.length,m=t.length;if(f>1||m>1||f&&m){var y=f&&m?"".concat(f+m," schedules/sensors"):f?"".concat(f," schedules"):"".concat(m," sensors"),w=f>1?"schedule":"sensors";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.V,{icon:w,children:(0,g.jsx)(s.Z,{onClick:function(){return x(!0)},color:o.w.Link,children:y})}),(0,g.jsx)(j.f,{isOpen:p,onClose:function(){return x(!1)},repoAddress:a,schedules:n,sensors:t,showSwitch:c})]})}return f?(0,g.jsx)(v,{schedule:n[0],repoAddress:a,showSwitch:c}):m?(0,g.jsx)(S,{sensor:t[0],repoAddress:a,showSwitch:c}):null},v=function(e){var n=e.schedule,t=e.repoAddress,r=e.showSwitch,s=n.cronSchedule,o=n.executionTimezone,u="RUNNING"===n.scheduleState.status,d=(0,g.jsx)(i.V,{intent:u?"primary":"none",icon:"schedule",children:(0,g.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,g.jsx)(h.rU,{to:(0,m.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.A)(s,o||"UTC")}),r?(0,g.jsx)(p.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,g.jsx)(l.u,{placement:"top-start",content:(0,g.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,g.jsxs)("div",{children:["Name: ",(0,g.jsx)("strong",{children:n.name})]}),(0,g.jsxs)("div",{children:["Cron:"," ",(0,g.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,g.jsxs)("div",{children:["Timezone: ",(0,g.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:d}):d},S=function(e){var n=e.sensor,t=e.repoAddress,r=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,g.jsx)(i.V,{intent:s?"primary":"none",icon:"sensors",children:(0,g.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,g.jsx)(h.rU,{to:(0,m.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,g.jsx)(u.g,{text:n.name})}),r?(0,g.jsx)(f.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},51012:function(e,n,t){t.d(n,{ac:function(){return B},ux:function(){return M},Rc:function(){return V}});var r,i,s,o=t(99500),a=t(19065),l=t(95764),c=t(81034),u=t(47427),d=t(922),h=t(73701),p=t(3159),x=t(8358),f=t(32030),m=t(75453),j=t(24971),g=t(7838),y=t(762),v=t(8412),S=t(18961),w=t.n(S),b=t(325),N=t(39061),k=t(57676),C=t(39151),I=t(88291),R=t(55752),E=t(5484),T=t(90933),P=t(26306),Z=t(34595),_=t(89646),O=t(12436),U=t(22797),L=t(28064),F=t(32289),q=function(e){var n=(0,h.a)(A,{variables:{filter:{pipelineName:e.pipelineName,tags:[{key:L.H.Partition,value:e.partitionName}]}}}),t=n.data;return n.loading||!t?(0,F.jsx)(Z.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,F.jsx)(_.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,F.jsx)("div",{children:(0,F.jsx)(U.A,{runs:t.pipelineRunsOrError.results})})},A=(0,p.Ps)(r||(r=(0,o.Z)(["\n  query PartitionRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),U.Z,O.Bq),G=t(54920),z=t(87188),D=t(30150),$=["assetHealth","rangeDimension","rangeDimensionIdx","assetQueryItems"],J=["repoAddress","pipelineName","partitions","partitionNames"],V=function(e){return Math.ceil(e/z.Bj)-3},B=function(e){var n=e.assetHealth,t=e.rangeDimension,r=e.rangeDimensionIdx,i=e.assetQueryItems,s=(0,c.Z)(e,$),o=w()(n,(function(e){return(0,N.Je)(e.assetKey)})),a=(0,C.tc)({nodes:i,mode:k.hS.FLAT}).boxes.filter((function(e){var n,i;return(null===(n=o[e.node.name])||void 0===n||null===(i=n.dimensions[r])||void 0===i?void 0:i.name)===t.name})),u={stepRows:a.map((function(e){return{x:e.x,name:e.node.name,totalFailurePercent:0,finalFailurePercent:0}})),partitions:[],partitionColumns:t.partitionKeys.map((function(e,n){return{idx:n,name:e,runsLoaded:!0,runs:[],steps:a.map((function(n){return{name:n.node.name,unix:0,color:K(o[n.node.name].stateForSingleDimension(r,e))}}))}}))};return(0,F.jsx)(H,(0,l.Z)((0,l.Z)({},s),{},{partitionNames:t.partitionKeys,data:u,showLatestRun:!1}))},K=function(e){return e===G.AB.SUCCESS?"SUCCESS":e===G.AB.SUCCESS_MISSING?"SUCCESS-MISSING":"MISSING"},M=function(e){var n,t=e.repoAddress,r=e.pipelineName,i=e.partitions,s=e.partitionNames,o=(0,c.Z)(e,J),a=(0,P.$)(t),u=(0,l.Z)((0,l.Z)({},a),{},{pipelineName:r}),d=(0,h.a)(X,{variables:{pipelineSelector:u}}),p="PipelineSnapshot"===(null===(n=d.data)||void 0===n?void 0:n.pipelineSnapshotOrError.__typename)&&d.data.pipelineSnapshotOrError.solidHandles,x=(0,D.J2)({partitionNames:s,partitions:i,stepQuery:"",solidHandles:p});return x?(0,F.jsx)(H,(0,l.Z)((0,l.Z)({},o),{},{showLatestRun:!0,pipelineName:r,partitionNames:s,data:x})):(0,F.jsx)("span",{})},H=function(e){var n=(0,I.S)(),t=n.viewport,r=n.containerProps,i=b.useState(null),s=(0,a.Z)(i,2),o=s[0],c=s[1],d=b.useState(null),h=(0,a.Z)(d,2),p=h[0],g=h[1],y=e.setPageSize,v=e.data;b.useEffect((function(){t.width&&y(V(t.width))}),[t.width,y]);var S=v.stepRows,w=v.partitionColumns,N=function(e){var n={};return e.forEach((function(e){return n[e.name]=e})),S.map((function(e){return n[e.name]}))},k=V(t.width),C=Math.max(0,w.length-e.offset-k),R=Math.max(k,w.length-e.offset),E=w.slice(C,R),T=function(e){var n,t=Date.now()/1e3,r=1,i=(0,u.Z)(e);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,a=(0,u.Z)(o.steps);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(0!==l.unix){var c=[Math.min(t,l.unix),Math.max(r,l.unix)];t=c[0],r=c[1]}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){i.e(d)}finally{i.f()}return[t,r]}(w),P=(0,a.Z)(T,2),Z=P[0],_=P[1],O=(0,z.G3)(w.map((function(e){return e.name})));return(0,F.jsxs)(Y,{children:[(0,F.jsxs)(x.Vq,{isOpen:!!p,onClose:function(){return g(null)},style:{width:"90vw"},title:p?"".concat(p.partitionName," runs"):"",children:[(0,F.jsx)(f.x,{padding:{bottom:12},children:p&&(0,F.jsx)(q,{pipelineName:e.pipelineName,partitionName:p.partitionName})}),(0,F.jsx)(x.cN,{children:(0,F.jsx)(m.zx,{intent:"primary",autoFocus:!0,onClick:function(){return g(null)},children:"OK"})})]}),(0,F.jsxs)("div",{style:{position:"relative",display:"flex"},children:[(0,F.jsx)(z.NF,{floating:e.offset+k<e.partitionNames.length,children:(0,F.jsxs)(z.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,F.jsx)(z.eh,{style:{height:O}}),e.showLatestRun&&(0,F.jsx)(z.p$,{style:{paddingLeft:24},children:"Last Run"}),(0,F.jsx)(W,{}),S.map((function(e){return(0,F.jsx)(z.p$,{style:{paddingLeft:8+e.x},"data-tooltip":e.name,hovered:e.name===(null===o||void 0===o?void 0:o.stepName),children:e.name},e.name)}))]})}),e.offset+k<e.partitionNames.length?(0,F.jsx)(Q,{$direction:"left",onClick:function(){return e.setOffset(Math.max(0,Math.min(e.offset+k-1,e.partitionNames.length-k)))},children:(0,F.jsx)(j.JO,{name:"chevron_left"})}):null,(0,F.jsx)("div",(0,l.Z)((0,l.Z)({style:{flex:1,overflow:"hidden",position:"relative"}},r),{},{children:(0,F.jsx)("div",{style:{width:w.length*z.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:E.map((function(n,t){return(0,F.jsxs)(z.C4,{style:{zIndex:E.length-t,width:z.Bj,position:"absolute",right:(k-t)*z.Bj+20},children:[(0,F.jsx)(z.kD,{$height:O,label:n.name}),e.showLatestRun&&(0,F.jsx)(z.p$,{style:{textAlign:"center"},children:(0,F.jsx)(ne,{runs:n.runs,runsLoaded:n.runsLoaded,minUnix:Z,maxUnix:_,hovered:o,setHovered:c,setFocused:g,partitionName:n.name},"".concat(n.name,":__full_status"))}),(0,F.jsx)(W,{}),N(n.steps).map((function(e){return(0,F.jsx)(ne,{step:e,runs:n.runs,runsLoaded:n.runsLoaded,minUnix:Z,maxUnix:_,hovered:o,setHovered:c,setFocused:g,partitionName:n.name},e.name)}))]},n.name)}))})})),e.offset>0?(0,F.jsx)(Q,{$direction:"right",onClick:function(){return e.setOffset(Math.max(0,e.offset-k))},children:(0,F.jsx)(j.JO,{name:"chevron_right"})}):null]})]})},Q=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PagerControl",componentId:"fy1jed-0"})(["width:30px;position:absolute;border:1px solid ",";border-radius:3px;display:flex;justify-content:center;align-items:center;top:calc(50% - 15px);bottom:calc(50% - 15px);"," background:white;z-index:10;justify-content:center;align-items:center;cursor:pointer;display:flex;&:hover{background:#ececec;}"],g.w.KeylineGray,(function(e){return"left"===e.$direction?"left: 315px;":"right: 0;"})),Y=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PartitionRunMatrixContainer",componentId:"fy1jed-1"})(["display:block;"]),W=d.ZP.div.withConfig({displayName:"PartitionStepStatus__Divider",componentId:"fy1jed-2"})(["height:1px;width:100%;margin-top:5px;border-top:1px solid ",";"],g.w.KeylineGray),X=((0,p.Ps)(i||(i=(0,o.Z)(["\n  fragment PartitionStepStatusRun on Run {\n    id\n    runId\n    tags {\n      key\n      value\n    }\n    stepStats {\n      __typename\n      stepKey\n      status\n    }\n  }\n"]))),(0,p.Ps)(s||(s=(0,o.Z)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n  ","\n"])),D.Tg)),ee=JSON.stringify({top:20,left:10}),ne=function(e){var n,t=e.step,r=e.runs,i=e.runsLoaded,s=e.hovered,o=e.setHovered,l=e.setFocused,c=e.partitionName,u=b.useState(!1),d=(0,a.Z)(u,2),h=d[0],p=d[1];if(i)if(t)n=t.color.toLowerCase();else if(0===r.length)n="empty";else{var x=r[r.length-1].status;n=x===E.VO.CANCELED?"failure":x.toLowerCase()}else n="loading";var f=(0,F.jsx)("div",{className:"square ".concat(n),onMouseEnter:function(){return o({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})},onMouseLeave:function(){return o(null)},"data-tooltip":i&&!t?1===r.length?"1 run":"".concat(r.length," runs"):void 0,"data-tooltip-style":ee});return h||r.length&&(null===s||void 0===s?void 0:s.stepName)===(null===t||void 0===t?void 0:t.name)&&(null===s||void 0===s?void 0:s.partitionName)===c?(0,F.jsx)(y.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return p(!0)},onClosed:function(){return p(!1)},content:(0,F.jsxs)(v.v2,{children:[(0,F.jsx)(T.U,{icon:"open_in_new",text:"Show logs from last run",to:(0,R.tA)(r[r.length-1],{stepKey:t?t.name:null})}),(0,F.jsx)(v.sN,{icon:"settings_backup_restore",text:"View runs (".concat(r.length,")"),onClick:function(){return l({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})}})]}),children:f}):f}},30150:function(e,n,t){t.d(n,{J2:function(){return v},iv:function(){return S},Tg:function(){return w}});var r,i,s=t(99500),o=t(95764),a=t(3159),l=t(24972),c=t(325),u=t(25496),d=t(47072),h=t(39151),p=t(27218),x=t(2112),f=t(5484),m=new Set([f.SG.IN_PROGRESS,f.SG.SKIPPED]);function j(e){return e.startTime||0}function g(e,n){return j(e)-j(n)}function y(e,n){var t=new RegExp(e+"\\[.*\\]");return n===e||n==="".concat(e,".compute")||n.match(t)}var v=function(e){var n=c.useRef();if(!e.solidHandles)return null;if(n.current&&(0,l.shallowCompareKeys)(e,n.current.inputs))return n.current.result;var t=(0,p.i)(e.solidHandles).map((function(e){return e.solid})),r=(0,u.V)(t,e.stepQuery),i=function(e,n,t,r){var i={};t.forEach((function(e){e.runs.sort(g),i[e.name]=e}));var s=n.map((function(n,t){var r=i[n]||{name:n,runsLoaded:!1,runs:[]},s=e.boxes.map((function(e){var n,t=e.node,i={name:t.name,color:"MISSING",unix:0};if(!r.runs.length)return i;var s,o=r.runs[r.runs.length-1],a=null===(n=o.stepStats.find((function(e){return y(t.name,e.stepKey)})))||void 0===n?void 0:n.status;if(r.runs.length>1&&(!a||m.has(a)))for(var l=r.runs.length-2;l>=0&&!s;){var c,u=null===(c=r.runs[l].stepStats.find((function(e){return y(t.name,e.stepKey)})))||void 0===c?void 0:c.status;if(u&&!m.has(u)){s=u;break}l--}if(!a&&!s)return i;var d=!a||m.has(a)?"".concat(s,"-MISSING"):a;return{name:t.name,unix:j(o),color:d}}));return(0,o.Z)((0,o.Z)({},r),{},{steps:s,idx:t})})),a=s.filter((function(e){return e.runs.length>0})).length,l=e.boxes.map((function(e,n){var t=s.filter((function(e){return e.steps[n].color.includes("FAILURE")})),r=s.filter((function(e){return e.steps[n].color.endsWith("FAILURE")}));return{x:e.x,name:e.node.name,totalFailurePercent:a?Math.round(t.length/a*100):0,finalFailurePercent:a?Math.round(r.length/a*100):0}}));if(null!==r&&void 0!==r&&r.showFailuresAndGapsOnly){for(var c=function(e){0===l[e].finalFailurePercent&&(l.splice(e,1),s.forEach((function(n){return n.steps.splice(e,1)})))},u=l.length-1;u>=0;u--)c(u);for(var d=s.length-1;d>=0;d--)(0===s[d].runs.length||s[d].steps.every((function(e){return e.color.includes("SUCCESS")})))&&s.splice(d,1)}return{stepRows:l,partitions:t,partitionColumns:s}}((0,h.tc)({nodes:r.all,mode:d.hS.FLAT}),e.partitionNames,e.partitions,e.options);return n.current={result:i,inputs:e},i},S=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    runId\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),w=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n  ","\n"])),x.Q)},73974:function(e,n,t){t.d(n,{T:function(){return y}});var r,i=t(99500),s=t(85358),o=t(95764),a=t(59019),l=t(19065),c=t(95550),u=t.n(c),d=t(31522),h=t(3159),p=t(325),x=t(12436),f=t(28064),m=t(5484),j=t(30150),g={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function y(e){var n=e.partitionSetName,t=e.partitionTagName,r=e.partitionNames,i=e.pageSize,c=e.runsFilter,h=e.jobName,x=e.repositorySelector,j=e.offset,y=e.skipQuery,S=(0,d.x)(),w=p.useRef(0),b=p.useState(g),N=(0,l.Z)(b,2),k=N[0],C=N[1],I=JSON.stringify([].concat((0,a.Z)(c.map((function(e){var n=e.value.split("="),t=(0,l.Z)(n,2);return{key:t[0],value:t[1]}}))),[{key:f.H.RepositoryLabelTag,value:"".concat(x.repositoryName,"@").concat(x.repositoryLocationName)}]));return p.useEffect((function(){var e=w.current+1;w.current=e;var l=JSON.parse(I);C((function(e){return(0,o.Z)((0,o.Z)({},e),{},{runs:[],loading:!0})}));var c=function(){var c=(0,s.Z)(u().mark((function c(){var d,p,x,g,y;return u().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(w.current===e){c.next=2;break}return c.abrupt("return");case 2:d=r.length-(j||0),p=Math.max(0,d-i),C((function(e){return(0,o.Z)((0,o.Z)({},e),{},{partitionNames:r,loadingCursorIdx:d})})),5,x=u().mark((function i(){var s,c,p;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=Math.max(d-5,0),c=r.slice(s,d),i.next=4,Promise.all(c.map((function(e){var r={key:f.H.PartitionSet,value:n},i={key:t,value:e},s=h?{pipelineName:h,tags:[].concat((0,a.Z)(l),[i])}:{tags:[].concat((0,a.Z)(l),[i,r])};return v(S,{limit:1e3,filter:s})})));case 4:if(p=i.sent,w.current===e){i.next=7;break}return i.abrupt("return",{v:void 0});case 7:d=s,C((function(e){var n;return(0,o.Z)((0,o.Z)({},e),{},{runs:(n=(0,a.Z)(e.runs)).concat.apply(n,(0,a.Z)(p)),loading:d>0,loadingCursorIdx:d})}));case 9:case"end":return i.stop()}}),i)}));case 7:if(!(d>p)){c.next=14;break}return c.delegateYield(x(),"t0",9);case 9:if("object"!==typeof(g=c.t0)){c.next=12;break}return c.abrupt("return",g.v);case 12:c.next=7;break;case 14:y=setInterval((0,s.Z)(u().mark((function i(){var s,c,d;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(w.current===e){i.next=2;break}return i.abrupt("return",clearInterval(y));case 2:return C((function(e){return(0,o.Z)((0,o.Z)({},e),{},{loading:!0})})),i.next=5,v(S,{limit:10,filter:{tags:[].concat((0,a.Z)(l),[{key:f.H.PartitionSet,value:n}])}});case 5:return s=i.sent,i.next=8,v(S,{filter:{statuses:[m.VO.STARTED],tags:[].concat((0,a.Z)(l),[{key:f.H.PartitionSet,value:n}])}});case 8:if(c=i.sent,w.current===e){i.next=11;break}return i.abrupt("return",clearInterval(y));case 11:d=[].concat((0,a.Z)(c),(0,a.Z)(s)).filter((function(e){return e.tags.find((function(e){return e.key===t&&r.includes(e.value)}))})),C((function(e){var n=e.runs.filter((function(e){return!d.some((function(n){return n.runId===e.runId}))})).concat(d);return(0,o.Z)((0,o.Z)({},e),{},{loading:!1,runs:n})}));case 13:case"end":return i.stop()}}),i)}))),1e4);case 15:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return y||c(),function(){w.current+=1}}),[i,S,n,t,I,h,j,r,y]),function(e,n){var t=[],r={};return e.partitionNames.forEach((function(n,i){r[n]={name:n,runsLoaded:i>=e.loadingCursorIdx,runs:[]},t.push(r[n])})),e.runs.forEach((function(e){var t,i,s=(null===(t=e.tags.find((function(e){return e.key===n})))||void 0===t?void 0:t.value)||"";null===(i=r[s])||void 0===i||i.runs.push(e)})),t}(k,t)}function v(e,n){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(u().mark((function e(n,t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({fetchPolicy:"network-only",query:w,variables:t});case 2:return r=e.sent,e.abrupt("return","Runs"===r.data.pipelineRunsOrError.__typename&&r.data.pipelineRunsOrError.results||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=(0,h.Ps)(r||(r=(0,i.Z)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),j.iv,x.Bq)},35815:function(e,n,t){t.d(n,{l:function(){return c},L:function(){return u}});var r=t(922),i=t(32030),s=t(24971),o=t(7838),a=(t(325),t(37099)),l=t(32289),c=32,u=function(e){var n=e.expanded,t=e.onClick,r=e.repoName,c=e.repoLocation,u=e.showLocation,x=e.rightElement,f=r===a.Js;return(0,l.jsx)(d,{$open:n,onClick:t,children:(0,l.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(s.JO,{name:"folder",color:o.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h,{children:f?c:r}),u&&!f?(0,l.jsx)(p,{children:"@".concat(c)}):null]})]}),(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[x,(0,l.jsx)(i.x,{margin:{top:2},children:(0,l.jsx)(s.JO,{name:"arrow_drop_down"})})]})]})})},d=r.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],o.w.Gray50,o.w.KeylineGray,o.w.KeylineGray,c,o.w.Gray100,s.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),h=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),p=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],o.w.Gray700)},9091:function(e,n,t){t.d(n,{JH:function(){return j},qL:function(){return g}});var r=t(922),i=t(7838),s=t(32030),o=t(762),a=t(12745),l=t(8546),c=(t(325),t(74549)),u=t(80609),d=t(59549),h=t(34653),p=t(55752),x=t(32289),f={QUEUED:i.w.Blue500,NOT_STARTED:i.w.Blue500,STARTING:i.w.Blue500,MANAGED:i.w.Blue500,STARTED:i.w.Blue500,SUCCESS:i.w.Green500,FAILURE:i.w.Red500,CANCELING:i.w.Red500,CANCELED:i.w.Red500},m=function(e){var n=e.status,t=e.opacity,r=void 0===t?1:t,i=f[n];return(0,x.jsx)(b,{$color:i,$opacity:r})},j=function(e){var n=e.fade,t=e.jobName,r=e.runs,i=r.length,a=.8/Math.max(3,i);return(0,x.jsx)(s.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map((function(e,r){return(0,x.jsx)(o.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(g,{run:e,name:t})}),hoverOpenDelay:100,children:(0,x.jsx)(m,{runId:e.runId,status:e.status,opacity:n?1-(i-r-1)*a:1},e.runId)},e.runId)}))})},g=function(e){var n=e.name,t=e.run;return(0,x.jsxs)(y,{children:[(0,x.jsx)(v,{children:n}),(0,x.jsxs)(S,{children:[(0,x.jsxs)(s.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,x.jsx)(d.K9,{status:t.status}),(0,x.jsx)(c.rU,{to:"/runs/".concat(t.runId),children:(0,x.jsx)(a.fv,{style:{fontSize:"14px"},children:(0,p.EI)(t)})})]}),(0,x.jsxs)(s.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,x.jsx)(p.Zr,{run:t}),(0,x.jsx)(p.Tw,{run:t})]})]}),h.hd.has(t.status)||h.Ys.has(t.status)?(0,x.jsx)(w,{children:(0,x.jsx)(u.I,{runId:t.id})}):null]})},y=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayContainer",componentId:"sc-1eclpuq-0"})(["padding:4px;font-size:12px;width:220px;"]),v=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayTitle",componentId:"sc-1eclpuq-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],i.w.KeylineGray,l.b.default,i.w.Dark),S=r.ZP.div.withConfig({displayName:"RunStatusPez__RunRow",componentId:"sc-1eclpuq-2"})(["padding:8px;font-size:12px;display:flex;align-items:flex-start;justify-content:space-between;"]),w=r.ZP.div.withConfig({displayName:"RunStatusPez__SummaryContainer",componentId:"sc-1eclpuq-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),b=r.ZP.div.withConfig({displayName:"RunStatusPez__Pez",componentId:"sc-1eclpuq-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],(function(e){return e.$color}),(function(e){return e.$opacity}))},77892:function(e,n,t){t.d(n,{l:function(){return c}});var r=t(59019),i=t(95764),s=t(19065),o=t(73701),a=t(325),l=t(44198);function c(e){var n=a.useState((function(){return[]})),t=(0,s.Z)(n,2),c=t[0],u=t[1],d=(0,l.q)({queryKey:"cursor"}),h=(0,s.Z)(d,2),p=h[0],x=h[1],f=(0,i.Z)((0,i.Z)({},e.variables),{},{cursor:p,limit:e.pageSize+1}),m=(0,o.a)(e.query,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:f,notifyOnNetworkStatusChange:!0}),j=e.getResultArray(m.data),g={hasPrevCursor:!!p,hasNextCursor:j.length===e.pageSize+1,popCursor:function(){var e=(0,r.Z)(c);x(e.pop()),u(e)},advanceCursor:function(){p&&u((function(e){return[].concat((0,r.Z)(e),[p])}));var n=m.data&&e.nextCursorForResult(m.data);n&&x(n)},reset:function(){u([]),x(void 0)}};return{queryResult:m,paginationProps:g}}},79580:function(e,n,t){t.d(n,{W:function(){return p}});var r=t(85358),i=t(19065),s=t(95550),o=t.n(s),a=t(49148),l=t(325),c=t(27601),u=t(25429),d=t(39956),h=t(55752),p=function(e){var n=(0,c.k6)(),t=(0,a.D)(h.kO),s=(0,i.Z)(t,1)[0],p=(0,d._)(e);return l.useCallback(function(){var t=(0,r.Z)(o().mark((function t(r){var i,a,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.pipelineSnapshotId&&p){t.next=2;break}return t.abrupt("return");case 2:return i=(0,h.kz)({run:e,style:r,repositoryLocationName:p.match.repositoryLocation.name,repositoryName:p.match.repository.name}),t.prev=3,t.next=6,s({variables:i});case 6:l=t.sent,(0,h.lF)(e.pipelineName,null===(a=l.data)||void 0===a?void 0:a.launchPipelineReexecution,n,{preserveQuerystring:!0,behavior:"open"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),(0,u.t)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[n,s,p,e])}},3656:function(e,n,t){t.d(n,{b:function(){return k}});var r,i,s=t(99500),o=t(59019),a=t(19065),l=t(65880),c=t(3159),u=t(12745),d=t(7838),h=t(60652),p=t(6466),x=t(41332),f=t.n(x),m=t(325),j=t(74549),g=t(76341),y=t(45352),v=t(5484),S=t(76336),w=t(25582),b=t(32289),N=["Succeeded","Failed","Missing","Pending"],k=m.memo((function(e){var n=e.repoAddress,t=e.schedule,r=(0,S.Ux)(n),i=t.name,s=t.partitionSet,o=t.pipelineName,c=null===s||void 0===s?void 0:s.name,x=(0,S.E8)(r,o),g=m.useMemo((function(){var e=c?f().stringify({partitionSet:c},{addQueryPrefix:!0}):"";return"/".concat(x?"jobs":"pipelines","/").concat(o,"/partitions").concat(e)}),[c,x,o]),y=(0,w.$U)(n,g),v=(0,l.t)(R,{variables:{scheduleSelector:{scheduleName:i,repositoryName:n.name,repositoryLocationName:n.location}}}),N=(0,a.Z)(v,2),k=N[0],I=N[1],E=I.data,T=I.loading,P=m.useCallback((function(){return k()}),[k]);return(0,b.jsxs)(p.Z,{direction:"column",spacing:4,children:[(0,b.jsx)(j.rU,{to:y,children:c}),function(){if(T)return(0,b.jsx)(u.YS,{style:{color:d.w.Gray400},children:"Loading\u2026"});if(!E)return(0,b.jsx)(h.Z,{onClick:P,children:(0,b.jsx)(u.YS,{children:"Show coverage"})});var e=E.scheduleOrError;return"Schedule"===e.__typename?(0,b.jsx)(C,{schedule:e,partitionURL:y}):(0,b.jsx)(u.YS,{style:{color:d.w.Red700},children:"Partition set not found!"})}()]})})),C=function(e){var n=e.schedule,t=e.partitionURL,r=n.partitionSet;if(!r||"PartitionStatuses"!==r.partitionStatusesOrError.__typename)return(0,b.jsx)("span",{style:{color:d.w.Gray300},children:"None"});var i=r.partitionStatusesOrError.results,s={};return i.forEach((function(e){var n=function(e){switch(e.runStatus){case null:return"Missing";case v.VO.SUCCESS:return"Succeeded";case v.VO.FAILURE:case v.VO.CANCELED:case v.VO.CANCELING:return"Failed";case v.VO.MANAGED:case v.VO.QUEUED:case v.VO.NOT_STARTED:case v.VO.STARTED:case v.VO.STARTING:return"Pending";default:return(0,g.UT)(e.runStatus)}}(e);s[n]=[].concat((0,o.Z)(s[n]||[]),[e])})),(0,b.jsx)(y.Jy,{children:(0,b.jsx)("tbody",{children:N.map((function(e){return e in s?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{width:"100px"},children:e}),(0,b.jsx)("td",{children:"Failed"===e||"Missing"===e?(0,b.jsx)(j.rU,{to:"".concat(t,"?showFailuresAndGapsOnly=true"),style:{color:d.w.Gray900},children:s[e].length}):s[e].length})]},e):null}))})})},I=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment SchedulePartitionStatusFragment on Schedule {\n    id\n    mode\n    pipelineName\n    partitionSet {\n      id\n      name\n      partitionStatusesOrError {\n        ... on PartitionStatuses {\n          results {\n            id\n            partitionName\n            runStatus\n          }\n        }\n      }\n    }\n  }\n"]))),R=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query SchedulePartitionStatusQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...SchedulePartitionStatusFragment\n      }\n    }\n  }\n  ","\n"])),I)},89324:function(e,n,t){t.d(n,{K:function(){return c}});var r=t(95764),i=t(81034),s=t(32030),o=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var u=n.allDaemonStatuses.filter((function(e){return"SCHEDULER"===e.daemonType}));if(u){var d=u[0];c=!(!d.required||!d.healthy)}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},98191:function(e,n,t){t.d(n,{P:function(){return k},l:function(){return C}});var r=t(55113),i=t(32030),s=t(11831),o=t(24971),a=t(7838),l=t(762),c=t(54268),u=t(8412),d=t(75453),h=(t(325),t(74549)),p=t(62997),x=t(45352),f=t(62e3),m=t(5484),j=t(90933),g=t(76336),y=t(25582),v=t(3656),S=t(9315),w=t(68156),b=t(36243),N=t(32289),k=function(e){var n=e.repoAddress,t=e.schedules,l=(0,N.jsxs)("div",{style:{width:300},children:[(0,N.jsx)("p",{children:"The status of each partition in the partition set associated with this schedule."}),(0,N.jsx)("p",{children:"Partitions have a `Success` status if the last run for that partition completed successfully."}),(0,N.jsx)("p",{children:"Partititons have a `Missing` status if no run has been executed for that partition."})]});return(0,N.jsxs)(r.i,{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{width:"60px"}}),(0,N.jsx)("th",{children:"Schedule name"}),(0,N.jsx)("th",{style:{width:"15%"},children:"Schedule"}),(0,N.jsx)("th",{style:{width:"10%"},children:"Next tick"}),(0,N.jsx)("th",{style:{width:"10%"},children:(0,N.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last tick",(0,N.jsx)(s.u,{position:"top",content:"Status of the last tick: One of `Started`, `Skipped`, `Requested`, `Failed`",children:(0,N.jsx)(o.JO,{name:"info",color:a.w.Gray400})})]})}),(0,N.jsx)("th",{style:{width:130},children:(0,N.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last run",(0,N.jsx)(s.u,{position:"top",content:"The status of the last run requested by this schedule",children:(0,N.jsx)(o.JO,{name:"info",color:a.w.Gray400})})]})}),(0,N.jsx)("th",{style:{width:"30%"},children:(0,N.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Partition Set",(0,N.jsx)(s.u,{position:"top",content:l,children:(0,N.jsx)(o.JO,{name:"info",color:a.w.Gray400})})]})}),(0,N.jsx)("th",{style:{width:80}})]})}),(0,N.jsx)("tbody",{children:t.map((function(e){return(0,N.jsx)(I,{repoAddress:n,schedule:e},e.name)}))})]})},C=function(e,n){if(e===m.yn.STOPPED&&0===n)return null;if(e===m.yn.RUNNING&&1===n)return null;var t=[];return e===m.yn.RUNNING&&0===n?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):e===m.yn.STOPPED&&n>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),n>0&&t.push("Duplicate cron job for schedule found."),(0,N.jsx)(l.J,{interactionKind:"hover",popoverClassName:"bp3-popover-content-sizing",position:"right",content:(0,N.jsxs)(i.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,N.jsx)("strong",{children:"There are errors with this schedule."}),(0,N.jsx)("div",{children:"Errors:"}),(0,N.jsx)("ul",{children:t.map((function(e,n){return(0,N.jsx)("li",{children:e},n)}))})]}),children:(0,N.jsx)(c.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},I=function(e){var n=e.repoAddress,t=e.schedule,r=(0,g.Ux)(n),c=(0,g.E8)(r,t.pipelineName),k=t.name,I=t.cronSchedule,R=t.executionTimezone,E=t.futureTicks,T=t.pipelineName,P=t.scheduleState,Z=P.status,_=P.ticks,O=P.runningCount,U=_.length>0?_[0]:null;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,N.jsx)(S.M,{repoAddress:n,schedule:t}),C(Z,O)]})}),(0,N.jsx)("td",{children:(0,N.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,N.jsx)("span",{style:{fontWeight:500},children:(0,N.jsx)(h.rU,{to:(0,y.$U)(n,"/schedules/".concat(k)),children:k})}),(0,N.jsx)(f.h,{showIcon:!0,size:"small",pipelineName:T,pipelineHrefContext:n,isJob:c})]})}),(0,N.jsx)("td",{children:I?(0,N.jsx)(s.u,{position:"bottom",content:I,children:(0,N.jsx)("span",{children:(0,b.A)(I,R||"UTC")})}):(0,N.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,N.jsx)("td",{children:E.results.length&&Z===m.yn.RUNNING?(0,N.jsx)(w.v,{timestamp:E.results[0].timestamp,timezone:R,timeFormat:{showSeconds:!1,showTimezone:!0}}):(0,N.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,N.jsx)("td",{children:U?(0,N.jsx)(p.TW,{tick:U,instigationType:m._5.SCHEDULE}):(0,N.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,N.jsx)("td",{children:(0,N.jsx)(x.UD,{instigationState:P})}),(0,N.jsx)("td",{children:t.partitionSet?(0,N.jsx)(v.b,{schedule:t,repoAddress:n}):(0,N.jsx)("div",{style:{color:a.w.Gray300},children:"None"})}),(0,N.jsx)("td",{children:t.partitionSet?(0,N.jsx)(l.J,{content:(0,N.jsxs)(u.v2,{children:[(0,N.jsx)(j.U,{text:"View Partition History...",icon:"dynamic_feed",target:"_blank",to:(0,y.$U)(n,"/".concat(c?"jobs":"pipelines","/").concat(T,"/partitions"))}),(0,N.jsx)(j.U,{text:"Launch Partition Backfill...",icon:"add_circle",target:"_blank",to:(0,y.$U)(n,"/".concat(c?"jobs":"pipelines","/").concat(T,"/partitions"))})]}),position:"bottom-left",children:(0,N.jsx)(d.zx,{icon:(0,N.jsx)(o.JO,{name:"expand_more"})})}):null})]},k)}},26304:function(e,n,t){t.d(n,{e:function(){return G},F:function(){return A}});var r,i=t(19065),s=t(31112),o=t(32030),a=t(12745),l=t(54268),c=t(57753),u=t(6466),d=t(8546),h=t(75453),p=t(325),x=t(19102),f=t(86655),m=t(62997),j=t(30057),g=t(62e3),y=t(68156),v=t(5484),S=t(76336),w=t(99500),b=t(85358),N=t(95550),k=t.n(N),C=t(49148),I=t(3159),R=t(33918),E=t(60652),T=t(7838),P=t(8358),Z=(t(45436),t(14156)),_=t(13065),O=t(12436),U=t(32289),L=function(e){var n=e.sensorSelector,t=e.cursor,r=e.onClose,s=p.useState(t),o=(0,i.Z)(s,2),a=o[0],l=o[1],c=p.useState(!1),d=(0,i.Z)(c,2),x=d[0],f=d[1],m=(0,C.D)(F),j=(0,i.Z)(m,1)[0],g=function(){var e=(0,b.Z)(k().mark((function e(){var t,i,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,j({variables:{sensorSelector:n,cursor:a}});case 3:t=e.sent,"Sensor"===(null===(i=t.data)||void 0===i?void 0:i.setSensorCursor.__typename)?_.L.show({message:"Cursor value updated",intent:"success"}):null!==i&&void 0!==i&&i.setSensorCursor&&(s=i.setSensorCursor,_.L.show({intent:"danger",message:(0,U.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,U.jsx)("div",{children:"Could not set cursor value."}),(0,U.jsx)(E.Z,{color:T.w.White,underline:"always",onClick:function(){(0,Z._)({title:"Python Error",body:"PythonError"===s.__typename?(0,U.jsx)(O.T9,{error:s}):"Sensor not found"})},children:"View error"})]})})),r();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,U.jsxs)(P.Vq,{isOpen:!0,onClose:r,style:{width:"50vw"},title:"Edit ".concat(n.sensorName," cursor"),children:[(0,U.jsx)(P.a7,{children:(0,U.jsx)(R.Kx,{value:a,onChange:function(e){return l(e.target.value)},style:{width:"100%"}})}),(0,U.jsxs)(P.cN,{children:[(0,U.jsx)(h.zx,{onClick:r,children:"Cancel"}),(0,U.jsx)(h.zx,{intent:"primary",onClick:g,disabled:x,children:"Set cursor value"})]})]})},F=(0,I.Ps)(r||(r=(0,w.Z)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),O.Bq),q=t(86875),A=function(e){return e||(e=30),(e=Math.max(30,e))<60||e%60?"~".concat(e," sec"):3600===e?"~1 hour":e<3600||e%3600?"~".concat(e/60," min"):86400===e?"~1 day":e<86400||e%86400?"~".concat(e/3600," hours"):"~".concat(e/86400," days")},G=function(e){var n=e.sensor,t=e.repoAddress,r=e.daemonHealth,w=e.refreshState,b=n.name,N=n.sensorState,k=N.status,C=N.ticks,I=n.targets,R=n.metadata,E=p.useState(!1),T=(0,i.Z)(E,2),P=T[0],Z=T[1],_={sensorName:n.name,repositoryName:t.name,repositoryLocationName:t.location},O=(0,S.Ux)(t),F=null===O||void 0===O?void 0:O.repository.pipelines,G=C.length?C[0]:null,z=(null===I||void 0===I?void 0:I.length)||0,D=p.useMemo((function(){return new Set((I||[]).map((function(e){return e.pipelineName})))}),[I]),$=p.useMemo((function(){return(F||[]).some((function(e){return!e.isJob&&D.has(e.name)}))}),[F,D]),J=p.useMemo((function(){return $?z>1?"Jobs / Pipelines":"Pipeline":z>1?"Jobs":"Job"}),[$,z]),V=n.sensorState.typeSpecificData&&"SensorData"===n.sensorState.typeSpecificData.__typename&&n.sensorState.typeSpecificData.lastCursor;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(s.m,{title:(0,U.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,U.jsx)(a.X6,{children:b}),(0,U.jsx)(q.c,{repoAddress:t,sensor:n})]}),icon:"sensors",tags:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(l.V,{icon:"sensors",children:["Sensor in ",(0,U.jsx)(j.b,{repoAddress:t})]}),n.nextTick&&r&&k===v.yn.RUNNING?(0,U.jsxs)(l.V,{icon:"timer",children:["Next tick: ",(0,U.jsx)(y.v,{timestamp:n.nextTick.timestamp})]}):null]}),right:(0,U.jsx)(o.x,{margin:{top:4},children:(0,U.jsx)(x.xi,{refreshState:w})})}),(0,U.jsx)(c.fJ,{children:(0,U.jsxs)("tbody",{children:[n.description?(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:"Description"}),(0,U.jsx)("td",{children:n.description})]}):null,(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:"Latest tick"}),(0,U.jsx)("td",{children:G?(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,U.jsx)(y.v,{timestamp:G.timestamp}),(0,U.jsx)(m.TW,{tick:G,instigationType:v._5.SENSOR})]})}):"Sensor has never run"})]}),n.targets&&n.targets.length?(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:J}),(0,U.jsx)("td",{children:(0,U.jsx)(u.Z,{direction:"column",spacing:2,children:n.targets.map((function(e){return e.pipelineName?(0,U.jsx)(g.h,{pipelineName:e.pipelineName,pipelineHrefContext:t,isJob:!(!O||!(0,S.E8)(O,e.pipelineName))},e.pipelineName):null}))})})]}):null,(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:"Cursor"}),(0,U.jsxs)("td",{children:[P?(0,U.jsx)(L,{sensorSelector:_,cursor:V||"",onClose:function(){return Z(!1)}}):null,(0,U.jsxs)(o.x,{flex:{direction:"row",alignItems:"center"},children:[(0,U.jsx)(o.x,{style:{fontFamily:d.b.monospace,marginRight:10},children:V||"None"}),(0,U.jsx)(h.zx,{onClick:function(){return Z(!0)},children:"Edit"})]})]})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:"Frequency"}),(0,U.jsx)("td",{children:A(n.minIntervalSeconds)})]}),R.assetKeys&&R.assetKeys.length?(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{children:"Monitored Assets"}),(0,U.jsx)("td",{children:(0,U.jsx)(o.x,{flex:{direction:"column",gap:2},children:R.assetKeys.map((function(e){return(0,U.jsx)(f.R,{path:e.path,icon:"asset"},e.path.join("/"))}))})})]}):null]})})]})}},57466:function(e,n,t){t.d(n,{F:function(){return c}});var r=t(95764),i=t(81034),s=t(32030),o=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var u=n.allDaemonStatuses.filter((function(e){return"SENSOR"===e.daemonType}));if(u){var d=u[0];c=!(!d.required||!d.healthy)}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},3580:function(e,n,t){t.d(n,{qN:function(){return a},E5:function(){return l},W2:function(){return c},Nh:function(){return u},X2:function(){return d}});var r=t(922),i=t(32030),s=t(7838),o=(t(325),t(32289)),a=function(e){var n=e.children;return(0,o.jsx)(i.x,{padding:{vertical:8,horizontal:24},border:{side:"right",width:1,color:s.w.KeylineGray},style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:n})},l=function(e){var n=e.children;return(0,o.jsx)(i.x,{padding:{horizontal:24,vertical:12},flex:{direction:"column",justifyContent:"flex-start"},style:{color:s.w.Gray500,overflow:"hidden"},border:{side:"right",width:1,color:s.w.KeylineGray},children:n})},c=r.ZP.div.withConfig({displayName:"VirtualizedTable__Container",componentId:"sc-1e309bi-0"})(["height:100%;overflow:auto;"]),u=r.ZP.div.attrs((function(e){var n=e.$totalHeight;return{style:{height:"".concat(n,"px")}}})).withConfig({displayName:"VirtualizedTable__Inner",componentId:"sc-1e309bi-1"})(["position:relative;width:100%;"]),d=r.ZP.div.attrs((function(e){var n=e.$height,t=e.$start;return{style:{height:"".concat(n,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"VirtualizedTable__Row",componentId:"sc-1e309bi-2"})(["left:0;position:absolute;right:0;top:0;overflow:hidden;"])},82426:function(e,n,t){t.d(n,{I:function(){return D},b:function(){return z}});var r,i,s=t(99500),o=t(59019),a=t(19065),l=t(922),c=t(65880),u=t(3159),d=t(7838),h=t(14198),p=t(32030),x=t(325),f=t(74549),m=t(19102),j=t(8412),g=t(762),y=t(11831),v=t(75453),S=t(24971),w=t(63579),b=t(3148),N=t(92497),k=t(79580),C=t(90933),I=t(25582),R=t(32289),E=function(e){var n=e.job,t=e.repoAddress,r=n.runs.length?n.runs[0]:null,i=(0,w.TE)().canLaunchPipelineReexecution,s=(0,c.t)(T),o=(0,a.Z)(s,2),l=o[0],u=o[1].data,d="Run"===(null===u||void 0===u?void 0:u.pipelineRunOrError.__typename)?null===u||void 0===u?void 0:u.pipelineRunOrError:null,h=x.useCallback((function(){null!==r&&void 0!==r&&r.id&&l({variables:{runId:r.id}})}),[r,l]),p=(0,k.W)(d),f=(0,R.jsx)(j.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return p({type:"all"})},disabled:!i.enabled||!d||!(0,b.EP)(d)}),m=(0,R.jsx)(j.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return p({type:"from-failure"})},disabled:!i.enabled||!d||!(0,b.VM)(d)});return(0,R.jsx)(g.J,{onOpened:function(){return h()},content:(0,R.jsxs)(j.v2,{children:[(0,R.jsx)(C.U,{to:(0,I.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,R.jsx)(C.U,{to:(0,I.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),i.enabled?f:(0,R.jsx)(y.u,{content:i.disabledReason,display:"block",children:f}),i.enabled?m:(0,R.jsx)(y.u,{content:i.disabledReason,display:"block",children:m})]}),position:"bottom-left",children:(0,R.jsx)(v.zx,{icon:(0,R.jsx)(S.JO,{name:"expand_more"})})})},T=(0,u.Ps)(r||(r=(0,s.Z)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),N.O.RunFragment),P=t(85548),Z=t(86476),_=t(9091),O=t(55752),U=t(9315),L=t(86875),F=t(3580),q=t(16279),A=t(76336),G="1.5fr 1fr 180px 96px 80px",z=function(e){var n=e.name,t=e.isJob,r=e.repoAddress,i=e.start,s=e.height,l=(0,c.t)(V,{fetchPolicy:"cache-and-network",variables:{selector:(0,A._T)(r,n)}}),u=(0,a.Z)(l,2),j=u[0],g=u[1];(0,q.v5)(j),(0,m.C4)(g,m.dT);var y=g.data,v=x.useMemo((function(){if("Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)){var e=y.pipelineOrError;return{schedules:e.schedules,sensors:e.sensors}}return{schedules:[],sensors:[]}}),[y]),S=v.schedules,w=v.sensors,b=x.useMemo((function(){if("Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)){var e=y.pipelineOrError.runs;if(e.length)return(0,o.Z)(e)}return[]}),[y]);return(0,R.jsx)(F.X2,{$height:s,$start:i,children:(0,R.jsxs)($,{border:{side:"bottom",width:1,color:d.w.KeylineGray},children:[(0,R.jsxs)(F.E5,{children:[(0,R.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,R.jsx)(f.rU,{to:(0,I.$U)(r,"/jobs/".concat(n)),children:(0,R.jsx)(h.g,{text:n})})}),(0,R.jsx)(q.HB,{children:"Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)?y.pipelineOrError.description:""})]}),(0,R.jsx)(F.E5,{children:S.length||w.length?(0,R.jsx)(p.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,R.jsx)(J,{children:(0,R.jsx)(Z.I,{schedules:S,sensors:w,repoAddress:r})})}):(0,R.jsx)(q.mq,{queryResult:g})}),(0,R.jsx)(F.E5,{children:b.length?(0,R.jsx)(P.Z,{run:b[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,R.jsx)(q.mq,{queryResult:g})}),(0,R.jsx)(F.E5,{children:b.length?(0,R.jsx)(p.x,{padding:{top:4},children:(0,R.jsx)(_.JH,{jobName:n,runs:(0,o.Z)(b).reverse(),fade:!0})}):(0,R.jsx)(q.mq,{queryResult:g})}),(0,R.jsx)(F.E5,{children:(0,R.jsx)(p.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,R.jsx)(E,{job:{isJob:t,name:n,runs:b},repoAddress:r})})})]})})},D=function(){return(0,R.jsxs)(p.x,{border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:G,height:"32px",fontSize:"12px",color:d.w.Gray600},children:[(0,R.jsx)(F.qN,{children:"Name"}),(0,R.jsx)(F.qN,{children:"Schedules/sensors"}),(0,R.jsx)(F.qN,{children:"Latest run"}),(0,R.jsx)(F.qN,{children:"Run history"}),(0,R.jsx)(F.qN,{})]})},$=(0,l.ZP)(p.x).withConfig({displayName:"VirtualizedJobRow__RowGrid",componentId:"otbkv8-0"})(["display:grid;grid-template-columns:",";height:100%;"],G),J=l.ZP.div.withConfig({displayName:"VirtualizedJobRow__ScheduleSensorTagContainer",componentId:"otbkv8-1"})(["width:100%;> .bp3-popover2-target{width:100%;}"]),V=(0,u.Ps)(i||(i=(0,s.Z)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),O.$X,U.J,L.U)},31834:function(e,n,t){t.d(n,{i:function(){return F},o:function(){return q}});var r,i=t(99500),s=t(19065),o=t(922),a=t(65880),l=t(3159),c=t(7838),u=t(32030),d=t(14198),h=t(12745),p=t(11831),x=t(762),f=t(8412),m=t(75453),j=t(24971),g=t(325),y=t(74549),v=t(19102),S=t(85548),w=t(62997),b=t(62e3),N=t(55752),k=t(9315),C=t(98191),I=t(68156),R=t(36243),E=t(5484),T=t(90933),P=t(3580),Z=t(16279),_=t(76336),O=t(25582),U=t(32289),L="76px 1fr 1fr 148px 180px 80px",F=function(e){var n=e.name,t=e.repoAddress,r=e.start,i=e.height,o=(0,_.Ux)(t),l=(0,a.t)(z,{fetchPolicy:"cache-and-network",variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,scheduleName:n}},notifyOnNetworkStatusChange:!0}),N=(0,s.Z)(l,2),L=N[0],F=N[1];(0,Z.v5)(L),(0,v.C4)(F,v.dT);var q=F.data,D=g.useMemo((function(){return"Schedule"!==(null===q||void 0===q?void 0:q.scheduleOrError.__typename)?null:q.scheduleOrError}),[q]),$=!(!D||!(0,_.E8)(o,D.pipelineName)),J=D?(0,R.A)(D.cronSchedule,D.executionTimezone||"UTC"):"";return(0,U.jsx)(P.X2,{$height:i,$start:r,children:(0,U.jsxs)(A,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,U.jsx)(P.E5,{children:D?(0,U.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)(k.M,{repoAddress:t,schedule:D},n),(0,C.l)(D.scheduleState.status,D.scheduleState.runningCount)]}):null}),(0,U.jsx)(P.E5,{children:(0,U.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)("span",{style:{fontWeight:500},children:(0,U.jsx)(y.rU,{to:(0,O.$U)(t,"/schedules/".concat(n)),children:(0,U.jsx)(d.g,{text:n})})}),D?(0,U.jsx)(h.YS,{children:(0,U.jsx)(b.h,{showIcon:!0,size:"small",pipelineName:D.pipelineName,pipelineHrefContext:t,isJob:$})}):null]})}),(0,U.jsx)(P.E5,{children:D?(0,U.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)(G,{style:{maxWidth:"100%"},children:(0,U.jsx)(p.u,{position:"top-left",content:D.cronSchedule,display:"block",children:(0,U.jsx)("div",{style:{color:c.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:J,children:J})})}),D.scheduleState.nextTick&&D.scheduleState.status===E.yn.RUNNING?(0,U.jsx)(h.YS,{children:(0,U.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,U.jsx)(I.v,{timestamp:D.scheduleState.nextTick.timestamp,timezone:D.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,U.jsx)(Z.mq,{queryResult:F})}),(0,U.jsx)(P.E5,{children:null!==D&&void 0!==D&&D.scheduleState.ticks.length?(0,U.jsx)("div",{children:(0,U.jsx)(w.TW,{tick:D.scheduleState.ticks[0],instigationType:E._5.SCHEDULE})}):(0,U.jsx)(Z.mq,{queryResult:F})}),(0,U.jsx)(P.E5,{children:null!==D&&void 0!==D&&D.scheduleState&&(null===D||void 0===D?void 0:D.scheduleState.runs.length)>0?(0,U.jsx)(S.Z,{run:D.scheduleState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,U.jsx)(Z.mq,{queryResult:F})}),(0,U.jsx)(P.E5,{children:null!==D&&void 0!==D&&D.partitionSet?(0,U.jsx)(x.J,{content:(0,U.jsxs)(f.v2,{children:[(0,U.jsx)(T.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,O.$U)(t,"/".concat($?"jobs":"pipelines","/").concat(D.pipelineName,"/partitions"))}),(0,U.jsx)(T.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,O.$U)(t,"/".concat($?"jobs":"pipelines","/").concat(D.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,U.jsx)(m.zx,{icon:(0,U.jsx)(j.JO,{name:"expand_more"})})}):null})]})})},q=function(){return(0,U.jsxs)(u.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:L,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,U.jsx)(P.qN,{}),(0,U.jsx)(P.qN,{children:"Schedule name"}),(0,U.jsx)(P.qN,{children:"Schedule"}),(0,U.jsx)(P.qN,{children:"Last tick"}),(0,U.jsx)(P.qN,{children:"Last run"}),(0,U.jsx)(P.qN,{})]})},A=(0,o.ZP)(u.x).withConfig({displayName:"VirtualizedScheduleRow__RowGrid",componentId:"sc-9ps3vz-0"})(["display:grid;grid-template-columns:",";height:100%;"],L),G=o.ZP.div.withConfig({displayName:"VirtualizedScheduleRow__ScheduleStringContainer",componentId:"sc-9ps3vz-1"})(["max-width:100%;.bp3-popover2-target{max-width:100%;:focus{outline:none;}}"]),z=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),k.J,w.dY,N.$X)},19377:function(e,n,t){t.d(n,{R:function(){return T},K:function(){return P}});var r,i=t(99500),s=t(19065),o=t(922),a=t(65880),l=t(3159),c=t(7838),u=t(32030),d=t(14198),h=t(12745),p=t(325),x=t(74549),f=t(19102),m=t(86655),j=t(85548),g=t(62997),y=t(62e3),v=t(55752),S=t(26304),w=t(86875),b=t(5484),N=t(3580),k=t(16279),C=t(76336),I=t(25582),R=t(32289),E="76px 1.5fr 1fr 120px 148px 180px",T=function(e){var n=e.name,t=e.repoAddress,r=e.start,i=e.height,o=(0,C.Ux)(t),l=(0,a.t)(_,{fetchPolicy:"cache-and-network",variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,sensorName:n}}}),v=(0,s.Z)(l,2),E=v[0],T=v[1];(0,k.v5)(E),(0,f.C4)(T,f.dT);var P=T.data,O=p.useMemo((function(){return"Sensor"!==(null===P||void 0===P?void 0:P.sensorOrError.__typename)?null:P.sensorOrError}),[P]);return(0,R.jsx)(N.X2,{$height:i,$start:r,children:(0,R.jsxs)(Z,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,R.jsx)(N.E5,{children:O?(0,R.jsx)(u.x,{flex:{direction:"column",gap:4},children:(0,R.jsx)(w.c,{repoAddress:t,sensor:O},n)}):null}),(0,R.jsx)(N.E5,{children:(0,R.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,R.jsx)("span",{style:{fontWeight:500},children:(0,R.jsx)(x.rU,{to:(0,I.$U)(t,"/sensors/".concat(n)),children:(0,R.jsx)(d.g,{text:n})})}),(0,R.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,R.jsx)(h.YS,{style:{color:c.w.Gray500,whiteSpace:"nowrap"},children:null===O||void 0===O?void 0:O.description})})]})}),(0,R.jsx)(N.E5,{children:(0,R.jsxs)(u.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[null!==O&&void 0!==O&&O.targets&&O.targets.length?(0,R.jsx)(u.x,{flex:{direction:"column",gap:2},children:O.targets.map((function(e){return(0,R.jsx)(y.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:t,isJob:!(!o||!(0,C.E8)(o,e.pipelineName))},e.pipelineName)}))}):null,null!==O&&void 0!==O&&O.metadata.assetKeys&&O.metadata.assetKeys.length?(0,R.jsx)(u.x,{flex:{direction:"column",gap:2},children:O.metadata.assetKeys.map((function(e){return(0,R.jsx)(m.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,R.jsx)(N.E5,{children:O?(0,R.jsx)("div",{style:{color:c.w.Dark},children:(0,S.F)(O.minIntervalSeconds)}):(0,R.jsx)(k.mq,{queryResult:T})}),(0,R.jsx)(N.E5,{children:null!==O&&void 0!==O&&O.sensorState.ticks.length?(0,R.jsx)("div",{children:(0,R.jsx)(g.TW,{tick:O.sensorState.ticks[0],instigationType:b._5.SENSOR})}):(0,R.jsx)(k.mq,{queryResult:T})}),(0,R.jsx)(N.E5,{children:null!==O&&void 0!==O&&O.sensorState&&(null===O||void 0===O?void 0:O.sensorState.runs.length)>0?(0,R.jsx)(j.Z,{run:O.sensorState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,R.jsx)(k.mq,{queryResult:T})})]})})},P=function(){return(0,R.jsxs)(u.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:E,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,R.jsx)(N.qN,{}),(0,R.jsx)(N.qN,{children:"Name"}),(0,R.jsx)(N.qN,{children:"Job / Asset"}),(0,R.jsx)(N.qN,{children:"Frequency"}),(0,R.jsx)(N.qN,{children:"Last tick"}),(0,R.jsx)(N.qN,{children:"Last run"})]})},Z=(0,o.ZP)(u.x).withConfig({displayName:"VirtualizedSensorRow__RowGrid",componentId:"sc-1sgrm9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],E),_=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),w.U,g.dY,v.$X)},16279:function(e,n,t){t.d(n,{vG:function(){return u},mq:function(){return d},HB:function(){return h},v5:function(){return x}});var r=t(922),i=t(7838),s=t(12745),o=t(325),a=t(35815),l=t(3580),c=t(32289),u=function(e){var n=e.repoAddress,t=e.height,r=e.start,i=e.expanded,s=e.onToggle,o=e.onToggleAll,u=e.showLocation,d=e.rightElement;return(0,c.jsx)(l.X2,{$height:t,$start:r,children:(0,c.jsx)(a.L,{repoName:n.name,repoLocation:n.location,expanded:i,onClick:function(e){return e.getModifierState("Shift")?o(!i):s(n)},showLocation:u,rightElement:d})})},d=function(e){var n=e.queryResult,t=n.called,r=n.loading,s=n.data;return(0,c.jsx)("div",{style:{color:i.w.Gray500},children:!t||r&&!s?"Loading":"None"})},h=function(e){var n=e.children;return(0,c.jsx)(p,{children:(0,c.jsx)(s.YS,{children:n})})},p=r.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,i.w.Gray500),x=function(e){o.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}}}]);
//# sourceMappingURL=317.f6468582.chunk.js.map